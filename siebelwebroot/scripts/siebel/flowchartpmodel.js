/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelAppFacade.FlowchartPresentationModel=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlowchartPresentationModel"),define("siebel/flowchartpmodel",[],function(){return SiebelAppFacade.FlowchartPresentationModel=function(){function e(e){SiebelAppFacade.FlowchartPresentationModel.superclass.constructor.call(this,e)}function t(e,t){t.SetType("PSFCClientAction"),t.SetProperty("action",e);var n=CCFMiscUtil_CreatePropSet();n.SetProperty("SWEMethod","MsgFCNotifyServer"),n.SetProperty("SWEIPS",t.EncodeAsString()),this.ExecuteMethod("InvokeMethod","MsgFCNotifyServer",n)}function n(e,n,r,i){if(n&&e){var s;switch(n){case 30:s="MoveDown1",r&&(s="MoveDown"),i&&(s="ExpandDown");break;case 37:s="MoveLeft1",r&&(s="MoveLeft"),i&&(s="ExpandLeft");break;case 38:s="MoveUp1",r&&(s="MoveUp"),i&&(s="ExpandUp");break;case 39:s="MoveRight1",r&&(s="MoveRight"),i&&(s="ExpandRight");break;case 46:s="delete",r&&(s="Delete")}if(s){var o=CCFMiscUtil_CreatePropSet();o.SetProperty("sel",e),t.call(this,s,o)}}}function r(e){var n;e&&e!=="canvas-content"?n=e:n="";var r=this.Get("SelectedId");if(r!==n){this.SetProperty("SelectedId",n);var i=CCFMiscUtil_CreatePropSet();i.SetProperty("sel",n),t.call(this,"selChanged",i)}}function i(e,n,r,i,s,o,u,a){var f=CCFMiscUtil_CreatePropSet();if(i==="paletteitems")return r!=="0"&&r!=="2"?(f.SetProperty("shpId",r),f.SetProperty("frId",""),f.SetProperty("rect",e+" "+n+" "+(e+30)+" "+(n+30)),f.SetProperty("sel",""),t.call(this,"newGfc",f),!1):(o&&(f.SetProperty("shpId",r),f.SetProperty("frId",o),f.SetProperty("rect",e+" "+n+" "+(e+40)+" "+n),f.SetProperty("sel",""),t.call(this,"newGfc",f)),!1);if(r.indexOf("to-end-")!==-1){var l;if(o){var c=u.split(" "),h=c[0],p=parseInt(c[1],10)+parseInt(c[3]/2,10);l=h+" "+p}else l=e+" "+n;f.SetProperty("pt",l),f.SetProperty("ptPos","1"),f.SetProperty("sel",s),t.call(this,"resize",f)}else if(r.indexOf("from-end-")!==-1){var d=e,v=n,m=this.Get("gfcObjectsMap");o||(o=m[s].FromID);var g=m[o];if(g){var y=g.r.split(" "),b=parseInt(y[0],10),w=parseInt(y[1],10),E=parseInt(y[2],10),S=parseInt(y[3],10),x=(b+E)/2,T=(w+S)/2;Math.abs(e-x)<8&&Math.abs(n-w)<8?(d=x,v=w):Math.abs(e-b)<8&&Math.abs(n-T)<8?(d=b,v=T):Math.abs(e-x)<8&&Math.abs(n-S)<8?(d=x,v=S):Math.abs(e-E)<8&&Math.abs(n-T)<8?(d=E,v=T):(d=e,v=n)}f.SetProperty("pt",d+" "+v),f.SetProperty("ptPos","0"),f.SetProperty("sel",s),t.call(this,"resize",f)}else{var N=a.split(":");f.SetProperty("pt",Math.round(e-N[1])+" "+Math.round(n-N[2])),f.SetProperty("sel",r),t.call(this,"move",f)}}function s(e,t){var n="1Zoom|Connection_1Points|Sho1w_Grid|Snap_to_1Grid|1Print|Auto_1Size_Page|Set_Default_Si1ze",r=this.Get("optionsMarkup");e===1?t&&(t==="100"||t==="110"?n+="|1Undo|1Redo|Add_1Point|1Remove_Point|Move_Text_1Back|Move_Text_1Forward|Move_Text_1Default|1Align|1Make_Same_Size":(n="",r=this.Get("shapeMarkupMap")[t])):e===0?n+="|1Edit|1Layout":e>1&&(n+="|1Edit"),this.SetProperty("disabledMenuList",n),this.SetProperty("menuMarkup",r)}function o(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n}function u(e){if(e.GetChildCount()>0){var t;(t=e.GetChildByType(""))&&c.call(this,t),(t=e.GetChildByType("PSFCTemplate"))&&f.call(this,t);if(t=e.GetChildByType("PSFCGraphics"))this.SetProperty("gfcObjectsMap",{}),a.call(this,t,!1);(t=e.GetChildByType("PSFCMenu"))&&l.call(this,t)}}function a(e,t){var n=this.Get("gfcObjectsMap"),r={},i=e.GetProperty("sel");i&&(r.Selected=i);var s=e.GetChildCount();for(var u=0;u<s;u++){var a=e.GetChild(u);if(a.GetType()==="PSFCGraphic"){var f=a.GetProperty("id"),l=a.GetProperty("action");if(l==="Deleted"){delete n[f],t&&(r[f]=a.propArray);continue}var c=a.GetProperty("shpId"),h=this.Get("shapePathMap"),p=h[c];p||(p="images/oui_fc_default.png");var d=a.GetChildCount();for(var v=0;v<d;v++){var m=a.GetChild(v);if(m.GetType()==="PSFCGfcProps"){var g=o.call(this,o.call(this,a.propArray,m.propArray),{imgSrc:p});n[f]=g,t&&(r[f]=g)}}}}this.SetProperty("gfcObjectsMap",n),this.SetProperty("gfcDeltaMap",r)}function f(e){var t=[],n=e.GetChildCount();for(var r=0;r<n;r++){var i=e.GetChild(r);if(i.GetType()==="PSFCTemplateShape"){var s=i.GetProperty("shpId"),o=i.GetProperty("txt"),u=this.Get("shapePathMap"),a=u[s];a||(a="images/oui_fc_default.png"),t.push('<div id="'+s+'"> <img src="'+a+'" width=40 height= 30>'+o+"</div>")}}this.SetProperty("paletteItems",t)}function l(e){var t,n=e.GetChildCount();for(var r=0;r<n;r++){var i=e.GetChild(r);if(i.GetType()===""){r==0&&(t="<ul>");var s=i.GetProperty("txt");if(s){var o=s.replace("&","");s=s.replace("&","1"),s=s.replace(" ","_"),s=s.replace(" ","_")}var u=i.GetProperty("cmd");!s&&u==="SEPARATOR"?t+='<li data-caption="" class="siebui-appmenu-item siebui-appmenu-separator ui-menu-item" role="presentation"><a href="javascript:void(0)" class="ui-state-disabled ui-corner-all" role="menuitem"></a>':u?t+='<li id="'+u+'" data-caption="'+o+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" tabindex="-1" role="menuitem" id="'+s+'">'+o+"</a>":t+='<li data-caption="'+o+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" aria-haspopup="true" id="'+s+'" tabindex="-1" role="menuitem" > <span class="ui-menu-icon ui-icon ui-icon-carat-1-e"></span>'+o+"</a>";var a=i.GetChildCount();for(var f=0;f<a;f++){var l=i.GetChild(f);if(l.GetType()===""){f==0&&(t+='<ul class="siebui-fcMenu ui-menu ui-widget ui-widget-content ui-corner-all" role="menu" aria-expanded="false" aria-hidden="true" style="display: none;"');var c=l.GetProperty("txt");if(c){var h=c.replace("&","");c=c.replace("&","1"),c=c.replace(" ","_"),c=c.replace(" ","_")}var p=l.GetProperty("cmd");!c&&p==="SEPARATOR"?t+='<li data-caption="" class="siebui-appmenu-item siebui-appmenu-separator ui-menu-item" role="presentation"><a href=\'javascript:void(0)\' class="ui-state-disabled ui-corner-all" role="menuitem"></a>':p?t+='<li id="'+p+'" data-caption="'+h+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" tabindex="-1" role="menuitem" id="'+
c+'">'+h+"</a>":t+='<li data-caption="'+h+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" aria-haspopup="true" id="'+c+'" tabindex="-1" role="menuitem" > <span class="ui-menu-icon ui-icon ui-icon-carat-1-e"></span>'+h+"</a>";var d=l.GetChildCount();for(var v=0;v<d;v++){var m=l.GetChild(v);if(m.GetType()===""){v==0&&(t+='<ul class="siebui-fcMenu ui-menu ui-widget ui-widget-content ui-corner-all" role="menu" aria-expanded="false" aria-hidden="true" style="display: none;"');var g=m.GetProperty("txt");if(g){var y=g.replace("&","");g=g.replace("&","1"),g=g.replace(" ","_"),g=g.replace(" ","_")}var b=m.GetProperty("cmd");!g&&b==="SEPARATOR"?t+='<li data-caption="" class="siebui-appmenu-item siebui-appmenu-separator ui-menu-item" role="presentation"><a href=\'javascript:void(0)\' class="ui-state-disabled ui-corner-all" role="menuitem"></a>':b?t+='<li id="'+b+'" data-caption="'+y+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" tabindex="-1" role="menuitem" id="'+g+'">'+y+"</a>":t+='<li data-caption="'+y+'" class="siebui-appmenu-item ui-menu-item" role = "presentation"><a href="javascript:void(0)" class="ui-corner-all" aria-haspopup="true" id="'+g+'" tabindex="-1" role="menuitem" > <span class="ui-menu-icon ui-icon ui-icon-carat-1-e"></span>'+y+"</a>",t+="</li>",v==d-1&&(t+="</ul>")}}t+="</li>",f==a-1&&(t+="</ul>")}}t+="</li>",r==n-1&&(t+="</ul>")}}this.SetProperty("optionsMarkup",t)}function c(e){var t={},n={};t[0]="images/oui_fc_connector.png",t[100]="images/oui_fc_start.png",t[110]="images/oui_fc_end.png";var r=e.GetChildCount();for(var i=0;i<r;i++){var s=e.GetChild(i),o=h(s),u=s.GetProperty("Shape Id"),a=s.GetProperty("File Name");u&&a&&(t[u]=a),u&&(n[u]=o)}this.SetProperty("shapePathMap",t),this.SetProperty("shapeMarkupMap",n)}function h(e){if(e){var t=e.GetChildCount(),n="";for(var r=0;r<t;r++){var i=e.GetChild(r),s=i.GetProperty("cmd"),o=i.GetProperty("txt");o=o.replace("&","");var u=i.GetProperty("IsEnabled");s&&(u==="true"?n+='<li role="presentation" class="ui-menu-item" id ="'+s+'"><a role="menuitem" href="#">'+o+"</a></li>":n+='<li role="presentation" class="ui-menu-item ui-state-disabled" id ="'+s+'"><a role="menuitem" href="#">'+o+"</a></li>")}return n}}return SiebelJS.Extend(e,SiebelAppFacade.PresentationModel),e.prototype.Init=function(){SiebelAppFacade.FlowchartPresentationModel.superclass.Init.call(this),this.AddProperty("shapePathMap",{}),this.AddProperty("shapeMarkupMap",{}),this.AddProperty("optionsMarkup",""),this.AddProperty("menuMarkup",""),this.AddProperty("disabledMenuList",""),this.AddProperty("SelectedId",""),this.AddProperty("gfcObjectsMap",{}),this.AddProperty("gfcDeltaMap",{}),this.AddProperty("drawFlowchart",""),this.AddProperty("paletteItems",[]),this.AddMethod("NotifyServer",t),this.AttachEventHandler("eventBtnClick",function(e,n){if(e&&n){var r=CCFMiscUtil_CreatePropSet();r.SetProperty("sel",n),t.call(this,e,r)}}),this.AttachEventHandler("eventDblClick",function(e){if(e.indexOf("to-end-")===-1){var n=CCFMiscUtil_CreatePropSet();n.SetProperty("gfcId",e),n.SetProperty("sel",e),t.call(this,"dblClk",n)}}),this.AttachEventHandler("eventMenuClick",function(e,n){var r=n.join(" ");if(e&&r){var i=CCFMiscUtil_CreatePropSet();i.SetProperty("sel",r),t.call(this,e,i)}}),this.AttachEventHandler("eventKeyup",n),this.AttachEventHandler("eventMouseup",r),this.AttachEventHandler("eventDrop",i),this.AttachEventHandler("eventMenuSelect",s),this.AttachNotificationHandler("g",function(e){var t=e.GetProperty("type");if(t==="MsgFCNotifyClient"){var n=e.GetProperty("ArgsArray");n=n.substr(n.indexOf("@"));var r=CCFMiscUtil_CreatePropSet();r.DecodeFromString(n);var i=r.GetType();i==="PSFlowChartUI"?(u.call(this,r),this.SetProperty("drawFlowchart","full")):i==="PSFCGraphics"&&(a.call(this,r,!0),this.SetProperty("drawFlowchart","canvas"))}})},e.prototype.Setup=function(e){SiebelAppFacade.FlowchartPresentationModel.superclass.Setup.call(this,e)},e}(),"SiebelAppFacade.FlowchartPresentationModel"}));
