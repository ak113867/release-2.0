/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelApp.edetailingsvc=="undefined"&&(SiebelJS.Namespace("SiebelApp.edetailingsvc"),define("siebel/offline/edetailingsvc",["siebel/offline/model","siebel/offline/servicemodel"],function(){var e=SiebelApp.Offlineconstants,t={},n="",r="",s="",o="",u="",a="",f="",l="",c="",h="",p="",d={},v=CCFMiscUtil_CreatePropSet(),m=CCFMiscUtil_CreatePropSet(),g=CCFMiscUtil_CreatePropSet(),y=CCFMiscUtil_CreatePropSet(),b=[],w=!1,E="",S=!1,x=!1,T="";return t[e.get("DOUIREG_OBJ_NAME")]="LS PCD Service",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Message Plans List Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Message Plans List Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Container Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Container Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="FeedbackContainerDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Container Popup Applet Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Container Popup Applet Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="FeedbackContainerDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Capture VBC",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEBUSCOMP"),t[e.get("DOUIREG_OBJ_MTHD")]="Execute",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="PopulateFeedback",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Player Applet Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Player Applet Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]=null,t[e.get("DOUIREG_OBJ_TYPE")]=null,t[e.get("DOUIREG_OBJ_MTHD")]="PostSync",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="CleanMpiAndRelatedMsgFiles",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPOST"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Related Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Related Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerMsgPlanDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Contact List VBC",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEBUSCOMP"),t[e.get("DOUIREG_OBJ_MTHD")]="Execute",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="eDetailingVBCExecute",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="Contact Feedback List VBC Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="Populate",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="PrePopulate",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="Add Contact Popup Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod"
,t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="Add Contact Popup Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactDoInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="Contact Feedback List VBC Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactVBCBaseDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="Contact Feedback List VBC Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Capture VBC",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEBUSCOMP"),t[e.get("DOUIREG_OBJ_MTHD")]="SetFieldValue",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="feedbackOnSetFieldValue",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPOST"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="LS PCD Presentation Details List Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="CanUpdate",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="ResponseCanUpdate",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Container Applet - Mobile",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="CanUpdate",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="feedbackResponseCanUpdate",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Contact List VBC",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEBUSCOMP"),t[e.get("DOUIREG_OBJ_MTHD")]="DeleteRecord",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="PhaeDetContatcDeleteRecord",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPOST"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Contact List Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Contact List Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="Populate",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="PrePopulate",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),t[e.get("DOUIREG_OBJ_NAME")]="eDetailer Feedback Contact List Applet",t[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),t[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",t[e.get("DOUIREG_SRVC_NAME")]="edetailingsvc",t[e.get("DOUIREG_SRVC_MTDH")]="EdetailerContactVBCBaseDoCanInvokeMethod",t[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(t),SiebelApp.edetailingsvc=function(){function t(){SiebelApp.edetailingsvc.superclass.constructor.call(this)}var e=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(t,SiebelApp.ServiceModel),t.prototype.Populate=function(){e.IsEmpty(o)?SiebelApp.S_App.DateFilterControl.populate(this.GetContext()):this.GetContext().GetBusComp().SetSearchExpr(p)},t.prototype.PrePopulate=function(){var e={err:!1},t,n=0,r=SiebelApp.Metadata.GetSystemPreference("IP2015 - Repository Content");r.Value==="Y"?y.SetProperty("RetVal","Y"):y.SetProperty("RetVal","N"),E=y.GetProperty("RetVal");if(E==="Y"){var i=CCFMiscUtil_CreatePropSet(),s=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),o,u,a,f,l,c,h,p;if(w){var d=function(){s.DeleteRecord(),e={err:!1},s.GetWS().length>0&&d.call(this)};s.CheckActiveRow()===!0&&(x=!0,d.call(this)),t=e,e={err:!1},x=!1;var m=function(){e=s.NewRecord(),t=e,o=v.GetChild(n).GetProperty("Title"),u=v.GetChild(n).GetProperty("FirstName"),a=v.GetChild(n).GetProperty("LastName"),f=v.GetChild(n).GetProperty("Call Type"),l=v.GetChild(n).GetProperty("Contact Id"),c=v.GetChild(n).GetProperty("Call Id"),p=v.GetChild(n).GetProperty("Call Flag"),psFldValist=CCFMiscUtil_CreatePropSet(),i.SetProperty("Title",o),i.SetProperty("FirstName",u),i.SetProperty("LastName",a),i.SetProperty("Call Type",f),i.SetProperty("Contact Id",l),i.SetProperty("Call Id",c),i.SetProperty("Call Flag",p),e=s.SetMultipleFieldValues(i),t=e,e={err:!1},s.SetCommitPending(!0),t=e,e=s.WriteRecord(),t=e,e={err:!1};if(!t.err){e=s.FieldValue("Id"),t=e,e={err:!1};var r=t.retVal;v.GetChild(n).SetProperty("Row Id",r),n++,n<v.GetChildCount()?m.call(this):w=!1}else e=t};n<v.GetChildCount()&&m.call(this)}}return e},t.prototype.feedbackResponseCanUpdate=function(t){var n={err:!1},i,s=CCFMiscUtil_CreatePropSet(),u="",a=this.GetContext().GetBusComp();u=t.GetPropertyAsStr("Field");var l=t.GetProperty("Field");if(!e.IsEmpty(l)&&u==="Select Flag"){var c=SiebelApp.S_App.Model.GetBusObj
("Pharma Professional Call - Mobile"),h=c.GetBusComp("Pharma Professional Call - Mobile");if(r==="Account")s.SetProperty("Invoked",!0),s.SetProperty("RetVal",!1),n={err:!1,retVal:s};else if(r==="Contact")s.SetProperty("Invoked",!0),s.SetProperty("RetVal",!0),n={err:!1,retVal:s};else if(o){var p=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");f===p?(s.SetProperty("Invoked",!0),s.SetProperty("RetVal",!1),n={err:!1,retVal:s}):(s.SetProperty("Invoked",!0),s.SetProperty("RetVal",!0),n={err:!1,retVal:s})}i=n,n={err:!1},c&&(n={err:!1,retVal:s},SiebelApp.S_App.Model.ReleaseBO(c))}return n},t.prototype.ResponseCanUpdate=function(t){var n={err:!1},r,i=CCFMiscUtil_CreatePropSet(),s="",o="",u="",a=this.GetContext().GetBusComp();s=t.GetPropertyAsStr("Field");var f=t.GetProperty("Field"),l=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Pharma Professional Call - Mobile"),c=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE"),h=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");return e.IsEmpty(f)||s==="Response"&&l.CheckActiveRow()===!0&&(n=l.FieldValue("Category"),r=n,o=r.retVal,n=l.FieldValue("Call Status"),r=n,n={err:!1},u=r.retVal,c===o||h===u?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!1),n={err:!1,retVal:i}):(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),n={err:!1,retVal:i})),n},t.prototype.eDetailingVBCExecute=function(){var t={err:!1},n;if(E==="Y"){var r=CCFMiscUtil_CreatePropSet(),i="Y",s=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),a=s.GetBusComp("Pharma Professional Call - Mobile"),l=s.GetBusComp("Contact"),c=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),h,p,d,m,g,y,b;c.SetExecuted("TRUE"),a.ActivateField("Title"),c.ActivateField("FirstName"),c.ActivateField("LastName"),c.ActivateField("Call Type"),c.ActivateField("Contact Id"),c.ActivateField("Call Id"),c.ActivateField("Call Flag");if(!w)if(!e.IsEmpty(u)){t=l.SetFldSearchSpec("Id",u),l.ActivateField("First Name"),l.ActivateField("Last Name"),l.ActivateField("Contact Id"),t=l.Execute(),n=t,t=l.Home(),n=t,t=l.FieldValue("First Name"),n=t;var S=n.retVal;t=l.FieldValue("Last Name"),n=t;var x=n.retVal;t=l.FieldValue("Contact Id"),n=t;var g=n.retVal;t=c.NewRecord(),n=t,t={err:!1},r=CCFMiscUtil_CreatePropSet(),r.SetProperty("FirstName",S),r.SetProperty("LastName",x),r.SetProperty("Contact Id",g),r.SetProperty("Call Flag",i),n=t,t=c.SetMultipleFieldValues(r),n=t,t=c.SetFieldValue("Contact Id",g),n=t,t={err:!1},c.SetCommitPending(!0),n=t,t=c.WriteRecord(),n=t,t={err:!1};if(!n.err){t=c.FieldValue("Id"),n=t,t={err:!1};var T=n.retVal;r.SetProperty("Row Id",T),v.AddChild(r),w=!0,SiebelApp.S_App.Model.ReleaseBO(s)}}else if(o){t=a.SetFldSearchSpec("Parent Activity Id",o),n=t,a.ActivateField("Category"),a.ActivateField("Contact First Name"),a.ActivateField("Last Name"),a.ActivateField("Type"),a.ActivateField("Contact Id"),a.ActivateField("Id"),t=a.Execute(),n=t,t=a.Home(),n=t,t={err:!1};var N=function(){t=a.FieldValue("Category"),n=t,t={err:!1},b=n.retVal,f=b;var e=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(b!==e){t=a.FieldValue("Title"),n=t,h=n.retVal,t=a.FieldValue("Contact First Name"),n=t,p=n.retVal,t=a.FieldValue("Last Name"),n=t,d=n.retVal,t=a.FieldValue("Type"),n=t,m=n.retVal,t=a.FieldValue("Contact Id"),n=t,g=n.retVal,t=a.FieldValue("Id"),n=t,y=n.retVal,t=c.NewRecord(),n=t,t={err:!1},r=CCFMiscUtil_CreatePropSet(),r.SetProperty("Title",h),r.SetProperty("FirstName",p),r.SetProperty("LastName",d),r.SetProperty("Call Type",m),r.SetProperty("Contact Id",g),r.SetProperty("Call Id",y),r.SetProperty("Call Flag",i),n=t,t=c.SetMultipleFieldValues(r),n=t,t={err:!1},c.SetCommitPending(!0),n=t,t=c.WriteRecord(),n=t,t={err:!1};if(!n.err){t=c.FieldValue("Id"),n=t,t={err:!1};var o=n.retVal;r.SetProperty("Row Id",o),v.AddChild(r)}}n=t,t=a.NextRecord(),n=t,t={err:!1};var u=n.err;u?(w=!0,SiebelApp.S_App.Model.ReleaseBO(s)):N.call(this)};a.CheckActiveRow()===!0&&N.call(this)}}return t},t.prototype.CanInvokeMethod=function(t){var n={err:!1},r;return e.IsEmpty(t)?n:t==="LogMsgPlanItemSesResponse"?(n={err:!1,retVal:!0},n):t==="GeteDetailingSysPref"?(n={err:!1,retVal:!0},n):t==="navigateToItem"?(n={err:!1,retVal:!0},n):t==="LoghotspotMsgPlanResponse"?(n={err:!1,retVal:!0},n):SiebelApp.edetailingsvc.superclass.CanInvokeMethod.call(this,t)},t.prototype.InvokeMethod=function(e,t){var n={err:!1},r,i=CCFMiscUtil_CreatePropSet();if(!e)return n={err:!1,retVal:!1},n;if(e==="LogMsgPlanItemSesResponse")this.LogMsgPlanItemSesResponse(t);else if(e==="GeteDetailingSysPref"){n=this.GeteDetailingSysPref(t);var s=n;n=s}else if(e==="navigateToItem")n=this.navigateToItem(t);else{if(e!=="LoghotspotMsgPlanResponse")return SiebelApp.edetailingsvc.superclass.InvokeMethod.call(this,e,t);n=this.LoghotspotMsgPlanResponse(t)}return n},t.prototype.EdetailerContactVBCBaseDoCanInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet(),s;return E==="Y"&&(r=e.GetProperty("MethodName").toString(),r==="PositionOnRow"?(t=this.ResetSelectFlags(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):(i.SetProperty("Invoked",!1),t={err:!1,retVal:i})),t},t.prototype.EdetailerContactDoCanInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet(),s;if(E==="Y"){r=e.GetProperty("MethodName").toString();if(r==="AddRecord")i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i};else if(r==="GetAffiliatedContacts")i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i};else if(r==="PositionOnRow")i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i};else if(r==="SetAllAssocFilter")i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i};else if(r==="DeleteRecord"){var s=this.GetContext().GetBusComp();if(s.CheckActiveRow()===!0){t=s.FieldValue("Call Id"),n=t;var o=n.retVal;t=s.FieldValue("Call Flag"),n=t,t={err:!1};var u=n.retVal;u!=="Y"?
(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!1),t={err:!1,retVal:i})}else i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!1),t={err:!1,retVal:i}}else i.SetProperty("Invoked",!1),i.SetProperty("RetVal",!1),t={err:!1,retVal:i}}return t},t.prototype.EdetailerMsgPlanDoCanInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet(),s;r=e.GetProperty("MethodName").toString();if(r==="LaunchPlayer"){var o=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC");o.CheckActiveRow()===!1?i.SetProperty("RetVal",!1):i.SetProperty("RetVal",!0),i.SetProperty("Invoked",!0),t={err:!1,retVal:i}}else r==="FeedbackNavigation"?E==="Y"?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!1),t={err:!1,retVal:i}):r==="ShowEdetailerPreviewView"?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):r==="LogMsgPlanItemResponse"?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):r==="SkipMsgPlanItemResponse"?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):r==="NavigateToBookMark"?(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i}):(i.SetProperty("Invoked",!1),i.SetProperty("RetVal",!1),t={err:!1,retVal:i});return t},t.prototype.EdetailerContactDoInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet();return E==="Y"&&(r=e.GetProperty("MethodName").toString(),r==="AddRecord"?(t=this.AddContact(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):r==="GetAffiliatedContacts"?(SiebelApp.pharmacallsvc.prototype.PopulateAttendee(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):r==="SetAllAssocFilter"?(SiebelApp.pharmacallsvc.prototype.PopulateAllContact(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):(i.SetProperty("Invoked",!1),t={err:!1,retVal:i})),t},t.prototype.EdetailerMsgPlanDoInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet();return r=e.GetProperty("MethodName").toString(),r==="LaunchPlayer"?(m.Reset(),E==="Y"&&(w=!1,v.Reset()),t=this.LaunchPlayer(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):r==="ShowEdetailerPreviewView"?(t=this.EdetailerExitMethod(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):r==="FeedbackNavigation"?(this.EdetailerFeedbackNavigation(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):r==="NavigateToBookMark"?this.NavigateToBookMarkView():(i.SetProperty("Invoked",!1),t={err:!1,retVal:i}),t},t.prototype.GeteDetailingSysPref=function(e){var t={err:!1},n,r,i=CCFMiscUtil_CreatePropSet();return r=SiebelApp.Metadata.GetSystemPreference("IP2015 - Repository Content"),r.Value==="Y"?i.SetProperty("RetVal","Y"):i.SetProperty("RetVal","N"),t={err:!1,retVal:i},t},t.prototype.FeedbackContainerDoInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet();return r=e.GetProperty("MethodName").toString(),r==="SkipMsgPlanItemResponse"&&(S=!0),r==="LogMsgPlanItemResponse"||r==="SkipMsgPlanItemResponse"?(t=this.SubmitFeedback(),n=t,t={err:!1},S=!1,n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):o?(t=this.MakePDEntry(o),n=t,t={err:!1},n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):this.NavigateToBookMarkView()):(n=t,t={err:!1},n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):this.NavigateToBookMarkView())):r==="ShowEdetailerPreviewView"?(t=this.EdetailerCancelMethod(),n=t,t={err:!1},n.err?t=n:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):(i.SetProperty("Invoked",!1),t={err:!1,retVal:i}),t},t.prototype.LogMsgPlanItemSesResponse=function(e){var t=e.GetProperty("Mode");if(t==="INSERT")m.AddChild(e);else{var n=e.GetProperty("MpiId"),r=e.GetProperty("EndTime"),s=m,o=s.GetChildCount();for(i=o-1;i>=0;i--){var u=s.GetChild(i),a=u.GetProperty("MpiId");if(n===a){u.SetProperty("EndTime",r);break}}}},t.prototype.AddContact=function(){var e={err:!1},t;if(E==="Y"){var n=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),r,i=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),s=n.GetMultiSelectMode(),o=n.GetSelRowIdArray();if(s&&o.length>0){for(var u=0;u<o.length;u++){r=o[u],e=this.IsDuplicateContact(r),t=e,e={err:!1};var a=t.retVal;a||(e=this.addContactRecord(n,r))}t=e,e=i.Home(),t=e,e={err:!1},SiebelApp.OfflineAppMgr.PostActions("ClosePopup")}else{var f=n.GetActiveRow();if(n.FindWorkSet(f)){r=n.FindWorkSet(f).Id,e=this.IsDuplicateContact(r),t=e,e={err:!1};var a=t.retVal;a?SiebelApp.OfflineAppMgr.PostActions("ClosePopup"):e=this.addContactRecord(n,r)}else SiebelApp.OfflineAppMgr.PostActions("ClosePopup")}}return e},t.prototype.IsDuplicateContact=function(e){var t={err:!1},n,r=!1;for(var i=0;i<v.GetChildCount();i++){var s=v.GetChild(i).GetProperty("Contact Id");e===s&&(r=!0)}return t={err:!1,retVal:r},t},t.prototype.addContactRecord=function(e,t){var n={err:!1},r,i=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),s,o,u,a,f=CCFMiscUtil_CreatePropSet();i.ActivateField("Title"),i.ActivateField("FirstName"),i.ActivateField("LastName"),i.ActivateField("Call Type"),i.ActivateField("Contact Id"),i.ActivateField("Call Id"),n=e.PositionById(t),n=e.FieldValue("MM"),r=n,s=r.retVal,n=e.FieldValue("First Name"),r=n,a=r.retVal,n=e.FieldValue("Last Name"),r=n,u=r.retVal,n=e.FieldValue("Id"),r=n,o=r.retVal,n=i.NewRecord(),r=n,psFldValist=CCFMiscUtil_CreatePropSet(),f.SetProperty("Title",s),f.SetProperty("FirstName",a),f.SetProperty("LastName",u),f.SetProperty("Contact Id",o),f.SetProperty("Call Type",""),n=i.SetMultipleFieldValues(f),r=n,n=i.SetFieldValue("Contact Id",o),r=n,n={err:!1},i.SetCommitPending(!0),r=n,n=i.WriteRecord(),r=n,n={err:!1};if(!r.err){n=i.FieldValue("Id"),r=n;var t=r.retVal;f.SetProperty
("Row Id",t),w=!0,v.AddChild(f),n=i.Home(),r=n,n={err:!1},SiebelApp.OfflineAppMgr.PostActions("ClosePopup")}else n=r;return n},t.prototype.navigateToItem=function(e){var t={err:!1},n,r=e.GetProperty("Parent MP Id"),i=e.GetProperty("Content File"),s,o=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC"),u=SiebelApp.S_App.Model.GetBusObj("Admin Messaging Plan"),a=u.GetBusComp("LS MP Items BC");return t=a.SetFldSearchSpec("Parent MP Id",r),t=a.SetFldSearchSpec("Name",i),a.ActivateField("Id"),t=a.Execute(),n=t,t=a.Home(),n=t,t={err:!1},a.CheckActiveRow()===!0&&(t=a.FieldValue("Id"),n=t,s=n.retVal,t=o.PositionById(s)),t},t.prototype.LoghotspotMsgPlanResponse=function(e){var t={err:!1},n,r=CCFMiscUtil_CreatePropSet(),i=e.GetProperty("MpiId"),s=e.GetProperty("ItemName"),o,u;r=e;var a=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC"),f=SiebelApp.S_App.Model.GetBusObj("Admin Messaging Plan"),l=f.GetBusComp("LS Related Messages BC");return l.ActivateField("RelatedImage With Path"),pBuscompNew.ActivateField("Id"),t=l.SetFldSearchSpec("Parent MP Item Id",i),t=l.SetFldSearchSpec("Name",s),t=l.Execute(),n=t,t=l.Home(),n=t,t={err:!1},l.CheckActiveRow()===!0&&(t=l.FieldValue("Id"),n=t,o=n.retVal,t=l.FieldValue("RelatedImage With Path"),n=t,t={err:!1},u=n.retVal,n=t,t={err:!1},r.SetProperty("MpiId",o),r.SetProperty("ThumbnailPath",u),this.LogMsgPlanItemSesResponse(r)),t},t.prototype.ShowEdetailerPreviewView=function(){SiebelJS.Log("Invoked ShowEdetailerPreviewView Method");var e="",t;n=SiebelApp.S_App.GetActiveView().GetName(),h=this.GetContext().GetName(),r=this.GetContext().GetBusComp().GetName();var i=this.GetContext().GetBusComp().GetActiveRow();if(r==="Contact"){var p=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");s=p,e=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Player Drilldown"),u=this.GetContext().GetBusComp().FindWorkSet(i).Id,c=u,a="",o="",T=""}else if(r==="Account"){var d=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");s=d,e=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Player Drilldown"),a=this.GetContext().GetBusComp().FindWorkSet(i).Id,l=a,o="",T="",u=""}else{e=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Edetailer Drilldown"),o=this.GetContext().GetBusComp().FindWorkSet(i).Id;var v=this.GetContext().GetBusComp().FindWorkSet(i).Planned;u="",a="",T="",f=""}this.viewNavigation(e)},t.prototype.CreateAccountCall=function(e){var t={err:!1},n,r=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),i=r.GetBusComp("Account"),s=r.GetBusComp("Pharma Professional Call - Mobile"),u=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");s.ActivateField("Id"),s.ActivateField("Category"),s.ActivateField("Account Id"),s.ActivateField("Address"),s.ActivateField("Contact Address Id"),s.ActivateField("Contact Id"),s.ActivateField("Calc Call Date Text"),s.ActivateField("Call Date"),s.ActivateField("Planned Completion"),s.ActivateField("Start Date"),s.ActivateField("Start Time"),s.ActivateField("Calculated Planned Completion"),s.ActivateField("Planned"),s.ActivateField("Call Status"),s.ActivateField("Description"),s.ActivateField("OK To Sample"),s.ActivateField("Calc Act Cont Name"),s.ActivateField("Professional Type"),s.ActivateField("Contact Full Name"),s.ActivateField("Type Icon"),s.ActivateField("Call Status Literal"),s.ActivateField("Type"),t=s.Execute(),n=t,t=s.NewRecord(),n=t,t=s.SetFieldValue("Category",u),n=t,t=s.SetFieldValue("Account Id",e),n=t,t={err:!1},s.SetCommitPending(!0),n=t,t=s.WriteRecord(),n=t,t={err:!1};if(!n.err){t=s.FieldValue("Id"),n=t,t={err:!1};var a=n.retVal;o=a,e="",SiebelApp.S_App.Model.ReleaseBO(r)}else SiebelApp.S_App.Model.ReleaseBO(r),t=n;return t},t.prototype.EdetailerExitMethod=function(e){var t={err:!1},n;SiebelJS.Log("Invoked Exit Method");var r="",i=SiebelApp.S_App.GetActiveView().GetBusObj(),s=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC");return s.CheckActiveRow()===!0&&(t=s.Home()),t={err:!1},r=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Player Drilldown"),this.viewNavigation(r,i),t},t.prototype.EdetailerCancelMethod=function(e){var t={err:!1},n;SiebelJS.Log("Invoked Cancel Method");var r="",i=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC");return i.CheckActiveRow()===!0&&(t=i.Home()),t={err:!1},this.NavigateToBookMarkView(),t},t.prototype.EdetailerFeedbackNavigation=function(){SiebelJS.Log("Invoked feedback");var e="";w=!0,e=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Feedback Drilldown"),this.viewNavigation(e)},t.prototype.LaunchPlayer=function(){var e={err:!1},t;SiebelJS.Log("Invoked LaunchPlayer Method");var n="",r=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("LS MP Items BC");return r.ActivateField("Parent Disable Msg Response Flag"),r.CheckActiveRow()===!0&&(e=r.Home()),e={err:!1},n=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Launch Player Drilldown"),this.viewNavigation(n),e},t.prototype.viewNavigation=function(t,n){var r="";e.IsEmpty(t)||(r=t.viewname,SiebelApp.OfflineAppMgr.BuildViewAsync(r,"BS_DRILLDOWN",t,n))},t.prototype.feedbackOnSetFieldValue=function(e){var t={err:!1},n,r,i,s,o,u=this.GetContext(),a,f=e.GetPropertyAsStr("inputParam1");return E==="Y"&&f==="Select Flag"&&u.CheckActiveRow()===!0&&(t=u.FieldValue("Select Flag"),n=t,t={err:!1},i=n.retVal,i&&(a=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),a&&a.CheckActiveRow()===!0&&(t=a.FieldValue("Id"),n=t,r=n.retVal,t=u.FieldValue("Id"),n=t,t={err:!1},s=n.retVal,o=r+"_"+s,b[o]=i))),t},t.prototype.PopulateFeedback=function(){var e={err:!1},t;b=[];var n=0,r=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Feedback Capture VBC"),i=m,s=CCFMiscUtil_CreatePropSet();r.ActivateField("EndTime"),r.ActivateField("ParentMPName"),r.ActivateField("Response"),r.ActivateField("StartTime"),r
.ActivateField("ThumbnailPath"),r.ActivateField("ParentMPId"),r.ActivateField("ItemName"),r.ActivateField("spentTime"),r.ActivateField("ParentDsblMsgResponse"),r.ActivateField("LitFileExt"),r.ActivateField("LitFileRev"),r.ActivateField("Literature Id"),r.ActivateField("Thumbnail Extension"),r.ActivateField("Thumbnail Id"),r.ActivateField("Thumbnail Rev Id"),r.ActivateField("Select Flag");var o=function(){r.DeleteRecord(),e={err:!1},r.GetWS().length>0&&o.call(this)};r.CheckActiveRow()===!0&&o.call(this),t=e,e={err:!1};var u=function(){r.SetExecuted(!0),e=r.NewRecord(),t=e,e={err:!1};var o=i.GetChild(n),a=0,f=[];f=r.GetActivatedFieldList();var l=function(){var n=f[a],i=o.GetProperty(n);i&&(e=r.SetFieldValue(n,i)),t=e,e={err:!1},a++,a<f.length&&l.call(this)};a<f.length&&l.call(this),t=e;var c=o.GetProperty("EndTime"),h=o.GetProperty("StartTime"),p=new Date(c),d=p.getTime()/1e3,v=new Date(h),m=v.getTime()/1e3,g=d-m;e=r.SetFieldValue("spentTime",g),t=e,e={err:!1},t.err?e=t:(psFldValist=CCFMiscUtil_CreatePropSet(),s.SetProperty("LitFileExt",o.GetProperty("LitFileExt")),s.SetProperty("LitFileRev",o.GetProperty("LitFileRev")),s.SetProperty("Literature Id",o.GetProperty("LiteratureId")),s.SetProperty("Thumbnail Extension",o.GetProperty("ThumbnailExtension")),s.SetProperty("Thumbnail Id",o.GetProperty("ThumbnailId")),s.SetProperty("Thumbnail Rev Id",o.GetProperty("ThumbnailRevId")),e=r.SetMultipleFieldValues(s),t=e,e=r.SetFieldValue("Select Flag","Y"),t=e,e={err:!1},r.SetCommitPending(!0),t=e,e=r.WriteRecord(),t=e,function(t){e={err:!1};if(!!t.err){e=t;return}n++,n<i.GetChildCount()&&u.call(this)}.call(this,t))};return n<i.GetChildCount()&&u.call(this),t=e,e=r.Home(),t=e,e=t,e},t.prototype.SubmitFeedback=function(){var t={err:!1},n,r=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),i=r.GetBusComp("Pharma Professional Call - Mobile"),f=r.GetBusComp("Contact"),l=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),c=CCFMiscUtil_CreatePropSet(),h=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE"),p=SiebelApp.S_App.Model.GetLovNameVal("Call Attendee","TODO_TYPE"),d=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE"),m,g,y,b,w,S,x=CCFMiscUtil_CreatePropSet(),N=0,C="";return!e.IsEmpty(a)&&e.IsEmpty(u)&&(o="",t=this.CreateAccountCall(a),m=o),n=t,t={err:!1},n=t,function(e){t={err:!1};if(e.err)return t={err:e.err,retVal:e.retVal},t;e=t,t={err:!1};if(E==="Y"){t=i.SetFldSearchSpec("Parent Activity Id",o),i.ActivateField("Category"),i.ActivateField("Account Id"),i.ActivateField("Address"),i.ActivateField("Contact Address Id"),i.ActivateField("Contact Id"),i.ActivateField("Id"),i.ActivateField("Calc Call Date Text"),i.ActivateField("Call Date"),i.ActivateField("Planned Completion"),i.ActivateField("Start Date"),i.ActivateField("Start Time"),i.ActivateField("Calculated Planned Completion"),i.ActivateField("Planned"),i.ActivateField("Call Status"),i.ActivateField("Description"),i.ActivateField("OK To Sample"),i.ActivateField("Calc Act Cont Name"),i.ActivateField("Professional Type"),i.ActivateField("Contact Full Name"),i.ActivateField("Type Icon"),i.ActivateField("Call Status Literal"),i.ActivateField("Type"),t=i.Execute(),e=t,t=i.Home(),e=t,t={err:!1};if(i.CheckActiveRow()===!0){o&&(t=i.PositionById(o)),e=t,t=i.FieldValue("Category"),e=t,t={err:!1},strCategory=e.retVal,o||(strCategory=s);var n=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE"),r=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");if(strCategory===n)t=this.FeedbackCapture(o,C),e=t,function(e){t={err:!1};if(e.err)return t={err:e.err,retVal:e.retVal},t;m=o,t=i.Home(),e=t,t=i.FieldValue("Account Id"),e=t,g=e.retVal,t=i.FieldValue("Address"),e=t,t={err:!1},w=e.retVal;var n=function(){b=v.GetChild(N).GetProperty("Contact Id");var r=v.GetChild(N).GetProperty("FirstName"),s=v.GetChild(N).GetProperty("LastName"),u=v.GetChild(N).GetProperty("Call Id"),a=r+" "+s;u?(e=t,t={err:!1},N++,N<v.GetChildCount()&&n.call(this)):(e=t,t={err:!1},x=CCFMiscUtil_CreatePropSet(),x.SetProperty("Account Id",g),x.SetProperty("Category",d),x.SetProperty("Type",p),x.SetProperty("Parent Activity Id",m),x.SetProperty("Contact Id",b),x.SetProperty("First Name",r),x.SetProperty("Last Name",s),x.SetProperty("Description",a),x.SetProperty("Address",w),e=t,t=this.addAteendee(x,o,i),e=t,t={err:!1},N++,N<v.GetChildCount()&&n.call(this))};N<v.GetChildCount()&&n.call(this)}.call(this,e);else if(strCategory===r){e=t,t={err:!1},u?(t=f.SetFldSearchSpec("Id",u),e=t,f.ActivateField("Primary Address Id"),f.ActivateField("Full Address"),t=f.Execute(),e=t,t=f.Home(),e=t,t={err:!1},f.CheckActiveRow()===!0&&(t=f.FieldValue("Primary Address Id"),e=t,S=e.retVal,t=f.FieldValue("Full Address"),e=t,t={err:!1},w=e.retVal)):(t=i.FieldValue("Contact Address Id"),e=t,S=e.retVal,t=i.FieldValue("Address"),e=t,t={err:!1},w=e.retVal),e=t,t={err:!1};var a=function(){var n=v.GetChild(N).GetProperty("Call Id");b=v.GetChild(N).GetProperty("Contact Id"),C=v.GetChild(N).GetProperty("Row Id");if(!n){t=i.NewRecord(),e=t,t=i.SetFieldValue("Category",r),e=t,t=i.SetFieldValue("Contact Id",b),e=t,t=i.SetFieldValue("Contact Address Id",S),e=t,t=i.SetFieldValue("Address",w,!0),e=t,t={err:!1},i.SetCommitPending(!0),e=t,t=i.WriteRecord(),e=t,t={err:!1};if(!e.err){t=i.FieldValue("Id"),e=t;var s=e.retVal;t=this.FeedbackCapture(s,C),e=t,function(e){t={err:!1};if(!!e.err){t={err:e.err,retVal:e.retVal};return}t=this.MakePDEntry(s),e=t,t={err:!1},N++,N<v.GetChildCount()&&a.call(this)}.call(this,e)}else t=e}else t=this.FeedbackCapture(n,C);e=t,t={err:!1};if(!!e.err){t={err:e.err,retVal:e.retVal};return}N++,N<v.GetChildCount()&&a.call(this)};N<v.GetChildCount()&&a.call(this)}}else{var l=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");T=o,o="";var a=function(){var n=v.GetChild(N).GetProperty("Call Id");b=v.GetChild(N).GetProperty("Contact Id"),C=v.GetChild(N).GetProperty("Row Id");if(!n){t=i.NewRecord()
,e=t,t=i.SetFieldValue("Category",l),e=t,t=i.SetFieldValue("Contact Id",b),e=t,t={err:!1},i.SetCommitPending(!0),e=t,t=i.WriteRecord(),e=t,t={err:!1};if(!e.err){t=i.FieldValue("Id"),e=t;var r=e.retVal;t=this.FeedbackCapture(r,C),e=t,function(e){t={err:!1};if(!!e.err){t={err:e.err,retVal:e.retVal};return}t=this.MakePDEntry(r),e=t,t={err:!1},N++,N<v.GetChildCount()&&a.call(this)}.call(this,e)}else t=e}else t=this.FeedbackCapture(n,C);e=t,t={err:!1};if(!!e.err){t={err:e.err,retVal:e.retVal};return}N++,N<v.GetChildCount()&&a.call(this)};N<v.GetChildCount()&&a.call(this)}}else t=this.FeedbackCapture(o,C)}.call(this,n),t},t.prototype.captureAttendeeResponse=function(e){var t={err:!1},n;m_pPharmaProfCallBO=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var r=m_pPharmaProfCallBO.GetBusComp("Pharma Professional Call - Mobile"),i="";t=r.SetFldSearchSpec("Parent Activity Id",e),r.ActivateField("Category"),t=r.Execute(),n=t,t=r.Home(),n=t,t=r.FieldValue("Category"),n=t,t={err:!1};var s=n.retVal,o=function(){var e=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(s!==e){t=r.FieldValue("Id"),n=t;var u=n.retVal;t=this.FeedbackCapture(u,i),n=t,t={err:!1};if(!n.err){t=this.MakePDEntry(u),n=t,t=r.NextRecord(),n=t,t={err:!1};var a=n.err;a||(t=r.FieldValue("Category"),n=t,t={err:!1},s=n.retVal,o.call(this))}}n=t,t=r.NextRecord(),n=t,t={err:!1};var a=n.err;a||o.call(this)};return r.CheckActiveRow()===!0&&o.call(this),t},t.prototype.addAteendee=function(e,t,n){var r={err:!1},i,s=null;m_pPharmaProfCallBO=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var o=m_pPharmaProfCallBO.GetBusComp("Pharma Professional Call - Mobile"),u=o.GetActivatedFieldList();o.ActivateFieldList(u);var a,f,l,c=e.GetProperty("Contact Id");r=o.SetFldSearchSpec("Id",t),i=r,r=o.Execute(),i=r,r=o.Home(),i=r,r={err:!1},a=m_pPharmaProfCallBO.GetBusComp("Pharma Attendee Call Mobile"),i=r,r={err:!1},i=r,r=a.Execute(),i=r,r=a.Home(),i=r,r=a.FieldValue("Id"),i=r,r={err:!1},l=i.retVal,f=a.GetAssocList(),i=r,r=f.Execute(),i=r,r=f.Home(),i=r,r=this.addAllContacts(f,e,o),i=r,r={err:!1};if(f.FindWorkSet(f.GetActiveRow())){r=a.AddAssociation(),i=r,r={err:!1};var i=i;SiebelApp.S_App.Model.ReleaseBO(m_pPharmaProfCallBO)}else SiebelApp.S_App.Model.ReleaseBO(m_pPharmaProfCallBO);return r},t.prototype.addAllContacts=function(e,t,n){var r={err:!1},i,s=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),o=s.GetBusComp("Contact"),u,a=0;e.EmptyWorkSet(),i=r,u=t.GetProperty("Contact Id"),r=o.SetFldSearchSpec("Id",u),i=r;var f=o.GetActivatedFieldList();o.ActivateFieldList(f),o.ActivateField("Party UId"),o.ActivateField("Person UId"),o.ActivateField("Party Type Code"),r=o.Execute(),i=r,r=o.Home();if(o.CheckActiveRow()===!0){var l=o.FindWorkSet(0);e.InsertWorkSet(a,l),i=r,r=e.SetActiveRow(0),r=n.FieldValue("Owned By"),i=r;var c=i.retVal;r=e.SetFieldValueX("Owned By",c),i=r,r={err:!1};var i=i.err;SiebelApp.S_App.Model.ReleaseBO(s)}else SiebelApp.S_App.Model.ReleaseBO(s);return r},t.prototype.FeedbackCapture=function(e,t){var n={err:!1},r,i=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),s=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),o=s.GetBusComp("Pharma Professional Call - Mobile"),u=i.GetUserProperty("DestinationBC"),a=i.GetUserProperty("SourceBC"),f,l=[],c=[],h=[],p=0,d=0,v=0,m;m=e,u&&(f=s.GetBusComp(u));var g=a+"|"+u+" "+"FieldMap"+" ",y=g;o.SetSearchExpr("[Id] = '"+m+"'"),o.ActivateField("Activity UId"),o.ActivateField("Parent Activity Id"),n=o.Execute(),r=n,n=o.Home(),r=n,n={err:!1};if(o.CheckActiveRow()===!0){for(var b=0;b<10;b++){y=g+b;var w=i.GetUserProperty(y);if(!w)continue;h=w.split("|"),l[p]=h[0],c[p]=h[1],p++}for(b=0;b<l.length;b++)i.ActivateField(l[b]),f.ActivateField(c[b]);r=n,n=i.Home(),r=n,n=this.captureResponse(i),r=n,n={err:!1};if(r.err)n={err:r.err,retVal:r.retVal};else{r=n,n=i.Home(),r=n;var E=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),S=E.GetBusComp("LS PCD Presentation Details BC");n=S.SetFldSearchSpec("Activity Id",m),S.ActivateField("Response"),n=S.Execute(),r=n,n=S.Home(),r=n,n={err:!1},S.CheckActiveRow()===!0?(v=parseInt(S.GetRecordCount()),v+=1):v=1,r=n,n={err:!1};var x=function(){n=this.chkVisitedItem(i,t),r=n,n={err:!1};var e=r.retVal;if(e===!0){f.SetExecuted(!0),n=f.NewRecord(!1),r=n,n={err:!1};var s=0,o=function(){var e=l[s],t=c[s];n=i.FieldValue(e),r=n,n={err:!1};var u=r.retVal;u&&(n=f.SetFieldValue(t,u)),r=n,n={err:!1},s++,s<l.length&&o.call(this)};s<l.length&&o.call(this),r=n,n=f.SetFieldValue("Activity Id",m),r=n,n={err:!1};if(!r.err){n=f.SetFieldValue("Sequence Number",v),r=n,f.SetCommitPending(!0),n=f.WriteRecord(),r=n,n={err:!1};if(!r.err){n=i.NextRecord(),r=n,n={err:!1};var u=r.err;u?(n=f.SetFldSearchSpec("Activity Id",m),r=n,n=f.Execute(),r=n,n=f.Home()):(v+=1,x.call(this))}else n=r}}else{n=i.NextRecord(),r=n,n={err:!1};var u=r.err;u?(n=f.SetFldSearchSpec("Activity Id",m),r=n,n=f.Execute(),r=n,n=f.Home()):(v+=1,x.call(this))}};i.CheckActiveRow()===!0&&x.call(this)}}return n},t.prototype.ResetSelectFlags=function(){var e={err:!1},t,n,r,i,s,o;pContactBusComp=this.GetContext().GetBusComp(),pActiveFeedBackBC=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Feedback Capture VBC");if(pContactBusComp&&pContactBusComp.CheckActiveRow()===!0){e=pContactBusComp.FieldValue("Id"),t=e,e={err:!1},r=t.retVal;var u=function(){e=pActiveFeedBackBC.FieldValue("Id"),t=e,e={err:!1},s=t.retVal,i=r+"_"+s,o=b[i];if(o&&o==="N"){e=pActiveFeedBackBC.SetFieldValue("Select Flag",o),t=e,e=pActiveFeedBackBC.NextRecord(),t=e,e={err:!1};var n=t.err;n||u.call(this)}else{e=pActiveFeedBackBC.SetFieldValue("Select Flag","Y"),t=e,e=pActiveFeedBackBC.NextRecord(),t=e,e={err:!1};var n=t.err;n?(e=pActiveFeedBackBC.Home(),t=e,e={err:!1}):u.call(this)}};pActiveFeedBackBC.CheckActiveRow()===!0&&(e=pActiveFeedBackBC.Home(),t=e,e={err:!1},u.call(this))}return e},t.prototype.chkVisitedItem=function(t,n){var r={err:!1
},i,s={},o,u,a,f,l;return E==="Y"?(r=t.FieldValue("Id"),i=r,r={err:!1},o=i.retVal,l=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),l&&l.CheckActiveRow()===!0&&(e.IsEmpty(n)?r=l.FieldValue("Id"):u=n,i=r,r={err:!1},e.IsEmpty(n)&&(u=i.retVal),a=u+"_"+o,f=b[a],f==="N"?(s.retVal=!1,r=s):(s.retVal=!0,r=s))):(s.retVal=!0,r=s),r},t.prototype.captureResponse=function(e){var t={err:!1},n,r={};r.err=!1;var i=!1,s=[],o=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("eDetailer Contact List VBC"),u=function(){t=e.FieldValue("ParentDsblMsgResponse"),n=t;var o=n.retVal;t=e.FieldValue("Response"),n=t,t={err:!1};var a=n.retVal;o==="N"&&!a&&(s.push("Response"),i=!0,SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",s),r.err="SSAFReqFieldNotExist",r.retVal="",t=r);if(i===!1){t=e.NextRecord(),n=t,t={err:!1};var f=n.err;f||u.call(this)}};return S===!1&&e.CheckActiveRow()===!0&&u.call(this),E==="Y"&&o.CheckActiveRow()!==!0&&(SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_DOUI_ERR_CONTACT_REQD"),r.err="IDS_DOUI_ERR_CONTACT_REQD",r.retVal="",t=r),t},t.prototype.NavigateToBookMarkView=function(){SiebelJS.Log("Invoked LogMsgPlanItemResponse Method");var t=CCFMiscUtil_CreatePropSet();t.SetProperty("Record Id",o),SiebelApp.OfflineAppMgr.QueueMethod(h,"MaintainBCState",t),e.IsEmpty(n)||SiebelApp.OfflineAppMgr.BuildViewAsync(n,"BS_NORMAL")},t.prototype.MaintainBCState=function(t){var n={err:!1},i,s,u=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),a=this.GetContext().GetBusComp();return r=="Account"?s=l:r=="Contact"?s=c:T?s=T:s=o,e.IsEmpty(s)||(n=a.PositionById(s),i=n,n={err:!1},SiebelApp.S_App.Model.ReleaseBO(u),SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")),n},t.prototype.CleanMpiAndRelatedMsgFiles=function(e){var t={err:!1},n,r=!1,i=SiebelApp.S_App.Model.GetBusObj("Admin Messaging Plan"),s=i.GetBusComp("LS Related Messages BC"),o=localStorage.getItem("isAdfmContainer");return o&&(t=this.CleanExpiredMsgFiles(s,r),n=t,s=i.GetBusComp("LS MP Items BC"),r=!0,t=this.CleanExpiredMsgFiles(s,r),n=t,t={err:!1},SiebelApp.S_App.Model.ReleaseBO(i)),t},t.prototype.CleanExpiredMsgFiles=function(e,t){var n={err:!1},r,i=new Date,s,o,u,a,f,l=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds());l.getSeconds();var c=""+l.getFullYear()+(l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1)+(l.getDate()<10?"0"+l.getDate():l.getDate())+(l.getHours()<10?"0"+l.getHours():l.getHours())+(l.getMinutes()<10?"0"+l.getMinutes():l.getMinutes())+(l.getSeconds()<10?"0"+l.getSeconds():l.getSeconds());e.SetSearchExpr("[Msg End Date] < '"+c+"'"),e.ActivateField("Literature Id"),e.ActivateField("LitFileExt"),e.ActivateField("File With Path"),e.ActivateField("LitFileRev"),e.ActivateField("Thumbnail Id"),e.ActivateField("Thumbnail Extension"),e.ActivateField("Thumbnail Rev Id"),n=e.Execute(),r=n,n=e.Home(),r=n,n={err:!1};var h=function(){n=e.FieldValue("Literature Id"),r=n,n={err:!1},f=r.retVal;if(!d[f]){n=e.FieldValue("LitFileExt"),r=n,a=r.retVal,n=e.FieldValue("File With Path"),r=n;var t=r.retVal;o=t.split("\\"),n=e.FieldValue("LitFileRev"),r=n,n={err:!1};var i=r.retVal;a!=="zip"&&a!=="ZIP"?u="S_LIT_"+f+"_"+i+"."+a:u="S_LIT_"+f+"_"+i+"/"+o[o.length-2]+"/"+o[o.length-1],SiebelApp.MobileFileMgr.DeleteFilePath({filename:u}),r=n,n={err:!1};if(a!=="zip"&&a!=="ZIP"){n=e.FieldValue("Thumbnail Id"),r=n;var s=r.retVal;n=e.FieldValue("Thumbnail Extension"),r=n;var l=r.retVal;n=e.FieldValue("Thumbnail Rev Id"),r=n,n={err:!1};var c=r.retVal;s&&c&&(u="S_LIT_"+s+"_"+c+"."+l,SiebelApp.MobileFileMgr.DeleteFilePath({filename:u}))}}r=n,n=e.NextRecord(),r=n,n={err:!1};var p=r.err;p||h.call(this)};return e.CheckActiveRow()===!0&&(n=this.CanDeleteFiles(t),r=n,n={err:!1},h.call(this)),n},t.prototype.CanDeleteFiles=function(e){var t={err:!1},n,r=SiebelApp.S_App.Model.GetBusObj("Admin Messaging Plan"),i,s=new Date,o,u,a,f;e?i=r.GetBusComp("LS MP Items BC"):i=r.GetBusComp("LS Related Messages BC");var l=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds()),c=""+l.getFullYear()+(l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1)+(l.getDate()<10?"0"+l.getDate():l.getDate())+(l.getHours()<10?"0"+l.getHours():l.getHours())+(l.getMinutes()<10?"0"+l.getMinutes():l.getMinutes())+(l.getSeconds()<10?"0"+l.getSeconds():l.getSeconds());i.SetSearchExpr("[Msg End Date] >= '"+c+"'"),i.ActivateField("Literature Id"),i.ActivateField("Thumbnail Id"),t=i.Execute(),n=t,t=i.Home(),n=t,t={err:!1};var h=function(){t=i.FieldValue("Literature Id"),n=t;var e=n.retVal;d[e]=e,t=i.FieldValue("Thumbnail Id"),n=t,t={err:!1};var e=n.retVal;d[e]=e,n=t,t=i.NextRecord(),n=t,t={err:!1};var s=n.err;s||(h.call(this),n=t,t={err:!1},SiebelApp.S_App.Model.ReleaseBO(r))};return i.CheckActiveRow()===!0&&h.call(this),t},t.prototype.MakePDEntry=function(e){var t={err:!1},n,r;r=e;var i=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile"),s=i.GetBusComp("Pharma Professional Call - Mobile"),o=i.GetBusComp("LS Pharma My Products List"),u=i.GetBusComp("Pharma Call Products Detailed"),a=SiebelApp.S_App.Model.GetBusObj("Admin Messaging Plan"),f=a.GetBusComp("LS Admin Messaging Plans BC"),l=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();t=l.FieldValue("ParentMPId"),n=t;var c=n.retVal;f.SetSearchExpr("[Id] = '"+c+"'"),f.ActivateField("Product Id"),f.ActivateField("Product"),f.ActivateField("Priority"),t=f.Execute(),n=t,t=f.Home(),n=t,t={err:!1};if(f.CheckActiveRow()===!0){t=f.FieldValue("Product Id"),n=t;var h=n.retVal;t=f.FieldValue("Product"),n=t;var p=n.retVal;o.SetSearchExpr("[Product Id] = '"+h+"'"),o.ActivateField("Product Allocation Id"),t=o.Execute(),n=t,t=o.Home(),n=t,t={err:!1};if(o.CheckActiveRow()===!0){t=o.FieldValue("Product Allocation Id"),n=t;var d=n.retVal;s.SetSearchExpr("[Id] = '"+r+"'"),s.ActivateField("Activity UId"),s.ActivateField("Parent Activity Id"),t=
s.Execute(),n=t,t=s.Home(),n=t,u.SetSearchExpr("[Activity Id] = '"+r+"'"),u.ActivateField("Activity UId"),u.ActivateField("Product Id"),u.ActivateField("Product"),u.ActivateField("Priority"),t=u.Execute(),n=t,t=u.Home();if(u.CheckActiveRow()===!0){var v=u.GetRecordCount();++v,t=this.CreatePDRecord(u,v,d,h,p,r),n=t,t={err:!1},n.err?(SiebelApp.S_App.Model.ReleaseBO(i),SiebelApp.S_App.Model.ReleaseBO(a),t=n):(SiebelApp.S_App.Model.ReleaseBO(i),SiebelApp.S_App.Model.ReleaseBO(a))}else t=this.CreatePDRecord(u,1,d,h,p,r),n=t,t={err:!1},n.err?(SiebelApp.S_App.Model.ReleaseBO(i),SiebelApp.S_App.Model.ReleaseBO(a),t=n):(SiebelApp.S_App.Model.ReleaseBO(i),SiebelApp.S_App.Model.ReleaseBO(a))}}return t},t.prototype.PhaeDetContatcDeleteRecord=function(t){var n=JSON.parse(t.GetProperty("Record")),r=n.ContactId,i=n.CallId,s;if(e.IsEmpty(i)&&!x)for(var o=0;o<v.GetChildCount();o++)s=v.GetChild(o).GetProperty("Contact Id"),s===r&&v.RemoveChild(o)},t.prototype.CreatePDRecord=function(e,t,n,r,i,s){var o={err:!1},u,a=s;return e.ActivateField("Product Allocation Id"),e.ActivateField("Priority"),e.ActivateField("Activity Id"),e.ActivateField("Product Id"),e.ActivateField("Name"),e.SetExecuted(!0),o=e.NewRecord(!1),u=o,o=e.SetFieldValue("Product Allocation Id",n,!0),u=o,o={err:!1},u.err?o=u:(o=e.SetFieldValue("Priority",t),u=o,o={err:!1},u.err?o=u:(o=e.SetFieldValue("Activity Id",a),u=o,o=e.SetFieldValue("Product Id",r),u=o,o=e.SetFieldValue("Name",i,!0),u=o,o=e.WriteRecord(),u=o,o={err:!1},u.err==="SSASqlErrDupConflict"?(u.err=!1,o=u):o=u)),o},t}(),"SiebelAppFacade.edetailingsvc"}));
