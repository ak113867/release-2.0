/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelApp.Servicebarcode=="undefined"&&(SiebelJS.Namespace("SiebelApp.Servicebarcode"),define("siebel/offline/servicebarcode",[],function(){var e={},t=SiebelApp.Offlineconstants,n=SiebelApp.OfflineAppMgr,r=!1,i=!0,s={},o=[],u=[],a=[],f=SiebelApp.OfflineUtils;return e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service FS Activity Part Movements List Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="Servicebarcode",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service FS Activity Part Movements List Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="Servicebarcode",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),SiebelApp.Servicebarcode=function(){function e(){}function l(e){var t;for(t in e)return!1;return!0}function c(e){var t=[],n,r;if(s.hasOwnProperty(e)){n=s[e];for(r in n)t.push(r)}return t}SiebelJS.Extend(e,SiebelApp.ServiceModel),e.prototype.DoCanInvokeMethod=function(e){var t={err:!1},n,r=CCFMiscUtil_CreatePropSet(),i="";return i=e.GetProperty("MethodName").toString(),i==="BarcodeNew"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="BarcodeUpdate"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="BarcodeEntry"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="CommitPartMvmtClient"||i==="OrderPartsRMA"||i==="OrderPartsRMARepairs"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r}),t},e.prototype.DoInvokeMethod=function(e){var n={err:!1},r,i="",s=CCFMiscUtil_CreatePropSet(),o=this.GetContext(),u;i=e.GetProperty("MethodName").toString();if(i==="BarcodeUpdate")this.BarcodeUpdate(),n=this.NotifyPrivFields(e,i),s.SetProperty("Invoked",!0),n={err:!1,retVal:s},SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED"));else if(i==="BarcodeNew")this.BarcodeNew(),n=this.NotifyPrivFields(e,i),s.SetProperty("Invoked",!0),n={err:!1,retVal:s},SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED"));else if(i==="BarcodeEntry")this.EventBarcodeEntry(e),s.SetProperty("Invoked",!0),n={err:!1,retVal:s},SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED"));else if(i==="GetQuickPickInfo")u=o.GetActiveControl().GetName(),u==="BarcodeCombo"?(this.GetQuickPickInfo(),s.SetProperty("Invoked",!0),n={err:!1,retVal:s}):(s.SetProperty("Invoked",!1),n={err:!1,retVal:s});else if(i==="GetPrintInfo")SiebelApp.serviceprintinfo.GetServicePrintInfo(e);else if(i==="CommitPartMvmtClient")n=SiebelApp.commitpartconsumed.prototype.CommitPartMvmtClient(),r=n,s.SetProperty("Invoked",!0),n={err:!1,retVal:s};else if(i==="OrderPartsRMA")n=SiebelApp.commitpartconsumed.prototype.createRMAOrder("RMA Return"),r=n,function(e){n={err:!1};if(e.err)return s.SetProperty("Invoked",!0),n={err:e.err,retVal:s},n;s.SetProperty("Invoked",!0),n={err:!1,retVal:s}}.call(this,r);else if(i==="OrderPartsRMARepairs"){n=SiebelApp.commitpartconsumed.prototype.createRMAOrder("RMA Repair Return"),r=n,n={err:!1};if(r.err)return s.SetProperty("Invoked",!0),n={err:r.err,retVal:s},n;s.SetProperty("Invoked",!0),n={err:!1,retVal:s}}else s.SetProperty("Invoked",!1),n={err:!1,retVal:s};return n},e.prototype.GetBarcodeFields=function(e){var t={err:!1},n,r=[];return l(s)&&(t=p()),n=t,t={err:!1},n.err?t=n:(r=c(e),t=r),t},e.prototype.GetBarcodeFindFields=function(){var e={err:!1},t,n=[];return l(s)&&(e=p()),t=e,e={err:!1},t.err?e=t:(n=a,e={err:!1,retVal:n}),e},e.prototype.GetBarcodeFindInfo=function(e,t){var n=e.GetProperty("VIEWKEY");if(!l(u)&&u.hasOwnProperty(n)){var r=u[n].split(",");t.SetProperty("View",r[0]),t.SetProperty("Applet",r[1]),t.SetProperty("Field",r[2])}},e.prototype.BarcodeUpdate=function(){r=!0,i=!1;return},e.prototype.BarcodeNew=function(){r=!1,i=!0;return},e.prototype.NotifyPrivFields=function(e,t){var n={err:!1},r;l(s)&&(n=p()),r=n,n={err:!1};var i=[],o=this.GetContext(),u;if(t==="BarcodeNew")u=SiebelApp.S_App.Model.GetLovNameVal("New","FS_BARCODE_PROCESS_MODE");else{if(t!=="BarcodeUpdate")return n;u=SiebelApp.S_App.Model.GetLovNameVal("Update","FS_BARCODE_PROCESS_MODE")}if(typeof o!="undefined"&&typeof o.GetName()!="undefined"){var a=o.GetView().GetName(),f=a+u,c=s[f],h=CCFMiscUtil_CreatePropSet(),d=CCFMiscUtil_CreatePropSet(),v=o.GetBusComp(),m;i.push(o.GetName());if(typeof o.GetControlByName("BarcodeScanText")!="undefined"){var g=CCFMiscUtil_CreatePropSet();d.AddChild(g),g.SetProperty("FieldValue",""),g.SetProperty("DisplayName",""),i.push("*BarcodeScanText"),i.push("?"),m=d.EncodeAsString(),i.push("@"+m)}if(typeof o.GetControlByName("BarcodeCombo")!="undefined"){var y=o.GetControlValueByName("BarcodeCombo");i.push("*BarcodeCombo");for(var b in c)if(c.hasOwnProperty(b)){var w=CCFMiscUtil_CreatePropSet();h.AddChild(w),w.SetProperty("FieldValue",b),w.SetProperty("DisplayName",b),typeof y=="undefined"&&(y=b)}typeof y!="undefined"&&i.push("?"+y),m=h.EncodeAsString(),i.push("@"+m)}typeof v!="undefined"&&v.NotifyGeneric("SWEIPrivFlds",i)}return n},e.prototype.ClearScanText=function(){var e=[],t=this.GetContext();if(typeof t!="undefined"&&typeof t.GetName()!="undefined"){var n=CCFMiscUtil_CreatePropSet(),r=t.GetBusComp(),i;if(typeof r!="undefined"){e.push(t.GetName());if(typeof t.GetControlByName("BarcodeScanText")!="undefined"){var s=CCFMiscUtil_CreatePropSet();n.AddChild(s),s.SetProperty("FieldValue",""),s.SetProperty("DisplayName",""),e.push("*BarcodeScanText"),e.push("?"),i=n.EncodeAsString(),e.push("@"+i),r.NotifyGeneric("SWEIPrivFlds",e)}}}},e.prototype.SetEditable=function(e){
var t=[],n=this.GetContext(),r=e.GetProperty("Applet");if(typeof n!="undefined"&&typeof n.GetName()!="undefined"){var i=n.GetView().GetApplet(r),s=i.GetBusComp();if(typeof i!="undefined"&&typeof i.GetName()!="undefined"){var o=i.GetCanUpdateArray();t.push(r);for(var u=0;u<o.length;u++)t.push(u.toString()),t.push("1");s.NotifyGeneric("SWEICanUpdate",t)}}},e.prototype.EventBarcodeEntry=function(e){var n={err:!1},u,a=e.GetProperty("Request"),c=utils.DecodeFromQueryString(a),h=this.GetContext(),d=h,v=h.GetView().GetName(),m,g=d.GetControlByName("BarcodeCombo").GetInputName(),y=d.GetControlByName("BarcodeScanText").GetInputName(),b=unescape(c.GetPropertyAsStr(g)),w=unescape(c.GetPropertyAsStr(y)),E;if(b===""||w==="")return n={err:!0},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Scan Text or Combo box cannot be empty ","SiebelApp.Servicebarcode","EventBarcodeEntry"]),n;r?m=SiebelApp.S_App.Model.GetLovNameVal("Update","FS_BARCODE_PROCESS_MODE"):m=SiebelApp.S_App.Model.GetLovNameVal("New","FS_BARCODE_PROCESS_MODE"),l(s)&&(n=p()),u=n,n={err:!1},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Cache created successfully","SiebelApp.Servicebarcode","EventBarcodeEntry"]);var S=v+b+m;return e.SetProperty("ScanText",w),!l(o)&&o.hasOwnProperty(S)&&(E=o[S].split(","),e.SetProperty("Applet",E[0]),e.SetProperty("Field",E[1])),i?n=this.ProcessDataNew(e):n=this.ProcessDataUpdate(e),u=n,n=u,this.ClearScanText(),n=u,n},e.prototype.ProcessDataNew=function(e){var n={err:!1},r,i=this.GetContext(),s=e.GetProperty("Applet"),o=e.GetProperty("Field"),u=e.GetProperty("ScanText"),a=i.GetView().GetApplet(s),l;return a===null?(n={err:!0},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Target Applet "+s+"not available for this view","SiebelApp.Servicebarcode","ProcessDataNew"]),n):(l=a.GetBusComp(),l===null?(n={err:!0},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Target Buscomp not available for this view","SiebelApp.Servicebarcode","ProcessDataNew"]),n):(l.IsCommitPending()&&(n=l.WriteRecord()),r=n,n={err:!1},r.err?n={err:!0}:(SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED")),n=l.NewRecord(!0,!1,null),r=n,n={err:!1},r.err?n={err:!0}:(n=l.SetFieldValue(o,u),r=n,n={err:!1},r.err?n={err:!0}:(l.SetCommitPending(!0),l.SetNewRecPending(!0),this.SetEditable(e),n={err:!1}))),n))},e.prototype.ProcessDataUpdate=function(e){var n={err:!1},r,i=this.GetContext(),s=e.GetProperty("Applet"),o=e.GetProperty("Field"),u=e.GetProperty("ScanText"),a=i.GetView().GetApplet(s),l;return a===null?(n={err:!0},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Target Applet "+s+"not available for this view","SiebelApp.Servicebarcode","ProcessDataNew"]),n):(l=a.GetBusComp(),l===null?(n={err:!0},f.CcfLogEvent([t.get("LOG_EVT_CLIENT_SYS"),"Target Buscomp not available for this view","SiebelApp.Servicebarcode","ProcessDataNew"]),n):(l.IsCommitPending()&&(n=l.WriteRecord()),r=n,n={err:!1},r.err?n={err:!0}:(n=l.SetFieldValue(o,u),r=n,n={err:!1},r.err?n={err:!0}:(l.SetCommitPending(!0),n={err:!1})),n))},e.prototype.GetQuickPickInfo=function(){var e={err:!1},i,s=this.GetContext(),o=s.GetView().GetName(),u,a=0,f,l,c=s.GetName(),h=s.GetBusComp();r?f=SiebelApp.S_App.Model.GetLovNameVal("Update","FS_BARCODE_PROCESS_MODE"):f=SiebelApp.S_App.Model.GetLovNameVal("New","FS_BARCODE_PROCESS_MODE"),e=l=this.GetBarcodeFields(o+f),i=e,e={err:!1};if(!i.err){l=i;var p=s.GetActiveControl().GetFieldName(),d=[];d[0]="",d[1]=s.GetView().GetName(),d[2]=s.GetName(),d[3]=p,d[4]="true",d[5]="";for(u=6;u<6+l.length;u++)d[u]=l[a],a++;h.NotifyGeneric("GetQuickPickInfo",d),n.PostActions(t.get("ACTION_RPC_COMPLETED"),"GetQuickPickInfo")}else e={err:!0};return e};var h=function(e){var t,n,r,i,f,l,c;t=e.View,n=e.EntryMode,r=e.ProcessMode,i=e.Field,f=e.Applet,c=t+r,r===SiebelApp.S_App.Model.GetLovNameVal("Find","FS_BARCODE_PROCESS_MODE")&&a.push(n),viewKey=n+r,u[viewKey]=t+","+f+","+i;if(s.hasOwnProperty(c)){var h=s[c];h[n]=i,s[c]=h}else l=[],l[n]=i,s[c]=l;appletKey=t+n+r,o[appletKey]=f+","+i;if(s.hasOwnProperty(c)){var h=s[c];h[n]=i,s[c]=h}else l=[],l[n]=i,s[c]=l},p=function(){var e={err:!1},t,n=SiebelApp.S_App.GetModel(),r=n.GetBusObj("FS Barcode Mappings"),i,s=CCFMiscUtil_CreatePropSet(),o=0,u,a=10,f=[],l=0,c,p={};return r&&(i=r.GetBusComp("FS Barcode Mappings"),i.SetBusObj(r)),i&&(i.ActivateFields(),t=e,e={err:!1},t.err||(e=i.Execute(),t=e,e={err:!1},t.err?e=t:(e=i.Home(),e=i.SetActiveRow(0),u=i.GetRecordCount(),i.CheckActiveRow()===!0&&h(i.GetWS()[0]),p.iterations=u-1,p.execute=i.NextRecord,p.executeScope=i,p.postExecute=function(e){e.err||(l<i.GetWorkSetSize()?f[l]=i.GetWS()[l+1]:f[l]=i.GetWS()[i.GetWorkSetSize()-1],h(f[l]),l++)},$.eachAsyncOp(this,p),t=e,e=t,e={err:!1}))),e};return e}(),"SiebelAppFacade.SiebelApp.Servicebarcode"}),define("siebel/offline/Invksrchsvc",["siebel/offline/model","siebel/offline/servicemodel"],function(){var e=SiebelApp.Offlineconstants,t={};return t[e.get("DOUIREG_OBJ_NAME")]="Invoke Search",t[e.get("DOUIREG_SRVC_NAME")]="Invksrchsvc",SiebelApp.S_App.Model.ServiceRegistry(t),SiebelApp.Invksrchsvc=function(){function t(){SiebelApp.Invksrchsvc.superclass.constructor.call(this)}var e=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(t,SiebelApp.ServiceModel),t.prototype.CanInvokeMethod=function(e){var t={err:!1},n;return e==="GetOUISearchLookinValues"?(t={err:!1,retVal:!0},t):e==="BarcodeQuery"?(t={err:!1,retVal:!0},t):SiebelApp.Invksrchsvc.superclass.CanInvokeMethod.call(this,e)},t.prototype.InvokeMethod=function(e,t){var n={err:!1},r,i=CCFMiscUtil_CreatePropSet();if(!e)return n={err:!1,retVal:!1},n;if(e==="GetOUISearchLookinValues")n=SiebelApp.Servicebarcode.prototype.GetBarcodeFindFields(),r=n,i.SetProperty("Output",r.retVal),n={err:!1,retVal:i};else{if(e!=="BarcodeQuery")return SiebelApp.Invksrchsvc.superclass.DoInvokeMethod.call(this,e,t);var s=CCFMiscUtil_CreatePropSet(),o=CCFMiscUtil_CreatePropSet(),u=t.GetProperty("BARCODE"),a=t.GetProperty("OPTION"),f=a+SiebelApp.S_App.Model.GetLovNameVal("Find","FS_BARCODE_PROCESS_MODE");s.SetProperty
("VIEWKEY",f),SiebelApp.Servicebarcode.prototype.GetBarcodeFindInfo(s,o);var l=o.GetProperty("View"),c=o.GetProperty("Applet"),h=o.GetProperty("Field"),p="( [";p+=h,p+="] = ",p+='"'+u+'"',p+=" )";if(l!="undefined"&&SiebelApp.S_App.Model.GetViewDef(l)){var d=SiebelApp.S_App.Model.GetViewDef(l).BOName,v=SiebelApp.S_App.Model.GetBusObj(d);if(c!="undefined"&&SiebelApp.Metadata.GetAppletDef(c)){var m=SiebelApp.Metadata.GetAppletDef(c).BCName,g=v.GetBusComp(m);g!="undefined"&&(n=g.SetFldSearchSpec(h,u))}}SiebelApp.OfflineAppMgr.BuildViewAsync(l,"BS_NORMAL","",v)}return n},t}(),"SiebelAppFacade.SiebelApp.Invksrchsvc"}));
