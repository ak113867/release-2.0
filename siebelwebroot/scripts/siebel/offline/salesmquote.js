/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelApp.salesmquote=="undefined"&&(SiebelJS.Namespace("SiebelApp.salesmquote"),define("siebel/offline/salesmquote",["siebel/offline/model"],function(){var e={},t=SiebelApp.Offlineconstants;return e[t.get("DOUIREG_OBJ_NAME")]="SHCE Sales Order Entry List Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="salesmquote",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Sales Order Entry List Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="salesmquote",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="Quote Item",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEBUSCOMP"),e[t.get("DOUIREG_OBJ_MTHD")]="WriteRecord",e[t.get("DOUIREG_SRVC_NAME")]="salesmquote",e[t.get("DOUIREG_SRVC_MTDH")]="WriteRecord",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),SiebelApp.salesmquote=function(){function e(e){}return SiebelJS.Extend(e,SiebelApp.ServiceModel),e.prototype.DoCanInvokeMethod=function(e){var t={err:!1},n,r=CCFMiscUtil_CreatePropSet(),i="";return i=e.GetProperty("MethodName").toString(),i==="AutoOrderSales"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r}),t},e.prototype.DoInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet();return r=e.GetProperty("MethodName").toString(),r==="AutoOrderSales"?(t=this.AutoOrder(),n=t,t={err:!1},n.err?t={err:n.err,retVal:i}:(i.SetProperty("Invoked",!0),t={err:!1,retVal:i})):(i.SetProperty("Invoked",!1),t={err:!1,retVal:i}),t},e.prototype.WriteRecord=function(e){var t={err:!1},n;SiebelJS.Log("Invoked Pre Write Record Method");var r,i,s,o=[],u=CCFMiscUtil_CreatePropSet(),a=0;s=this.GetContext(),t=s.FieldValue("Product");var f=t;t={err:!1};var l=f.retVal;if(utils.IsEmpty(l))return s!=null&&typeof s!="undefined"&&(s=null),o.push("Product w/ ST constraint"),SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",o),t={err:"SSAFReqFieldNotExist",retVal:u},t;if(s.IsNewRecordPending()){i=SiebelApp.S_App.Model.GetBusObj("Quote"),r=i.GetBusComp("Quote Item");var c=s.FieldValue("Quote Id").retVal;if(!utils.IsEmpty(c)){r.ActivateField("Line Number"),r.SetSearchSpec("Quote Id",c),r.SetSortSpec("Line Number(DESCENDING)"),t=r.Execute(),t=r.Home();var h=parseInt(r.FieldValue("Line Number").retVal)||0;a=h+1,t=s.SetFieldValue("Line Number",a,!0),n=t,t={err:!1},n.err?(s!=null&&typeof s!="undefined"&&(s=null),SiebelApp.S_App.Model.ReleaseBO(i),t={err:n.err,retVal:n.retVal}):(s!=null&&typeof s!="undefined"&&(s=null),SiebelApp.S_App.Model.ReleaseBO(i),t={err:!1,retVal:u})}else s!=null&&typeof s!="undefined"&&(s=null),SiebelApp.S_App.Model.ReleaseBO(i)}else s!=null&&typeof s!="undefined"&&(s=null);return t},e.prototype.AutoOrder=function(){var e={err:!1},t;SiebelJS.Log("Invoked Auto Order Method....");var n,r,i,s,o,u,a;n=this.GetContext().GetBusComp(),r=n.GetParentBusComp(),e=r.FieldValue("Id"),t=e,e={err:!1},i=t.retVal;if(!utils.IsEmpty(i)){e=r.FieldValue("Discount Amount"),t=e,e={err:!1};if(!t.err){var f=t.retVal;e=r.FieldValue("Primary Organization Id"),t=e,e={err:!1};if(!t.err){var l=t.retVal;n.ActivateField("Discount Amount"),n.ActivateField("Primary Organization Id"),n.ActivateField("Order Number"),e=n.Execute(),t=e,e=n.NewRecord(),t=e,sLocaleVal=SiebelApp.S_App.Model.GetLovNameVal("Sales Order","FS_ORDER_TYPE"),e=n.GetPickList("Order Type"),t=e;var c=t.retVal;e=c.SetFldSearchSpec("Order Type",sLocaleVal),t=e,e=c.Execute(),t=e,e=c.Home();var h=e;e={err:!1};if(c.CheckActiveRow()===!0){e=c.PickCurrentRow();var h=e;e={err:!1};if(!h.err){e=n.SetFieldValue("Discount Amount",f,!0),t=e,e={err:!1};if(!h.err){e=n.SetFieldValue("Primary Organization Id",l,!0),t=e,e={err:!1};if(!h.err){n.SetCommitPending(!0),e=n.WriteRecord(),t=e,e={err:!1};if(!t.err){e=n.FieldValue("Id"),t=e,o=t.retVal,e=n.FieldValue("Order Number"),t=e,e={err:!1},s=t.retVal;if(!utils.IsEmpty(o)){u=SiebelApp.S_App.Model.GetLovNameVal("Order Placed","QUOTE_STATUS"),e=r.SetFieldValue("Status",u,!0);var h=e;r.SetCommitPending(!0),e=r.WriteRecord();var h=e;e={err:!1};if(!h.err){var p=SiebelApp.S_App.Model.GetBusObj("Quote");a=p.GetBusComp("Quote Item"),a.ActivateField("Quote Id"),a.ActivateField("Product Id"),a.ActivateField("Quantity Requested"),a.ActivateField("Discount Percent"),a.ActivateField("Base Price"),a.ActivateField("Adjusted List Price"),a.ActivateField("Net Price"),a.SetSearchSpec("Quote Id",i),e=a.Execute();var h=e;e=a.Home();var d=SiebelApp.S_App.Model.GetBusObj("Order Entry (Sales)"),v=d.GetBusComp("Order Entry - Orders");v.SetSearchSpec("Id",o),e=v.Execute();var h=e;e=v.Home();var m=0,g=d.GetBusComp("Order Entry - Line Items");g.ActivateField("Order Header Id"),g.ActivateField("Quantity Requested"),g.ActivateField("Discount Percent"),g.ActivateField("Base Price"),g.ActivateField("Adjusted List Price"),g.ActivateField("Net Price"),e=g.Execute();var h=e;e=g.Home();var h=e;e={err:!1};var y=function(){e=a.FieldValue("Product Id");var i=e,s=i.retVal;e=a.FieldValue("Quantity Requested");var i=e,u=i.retVal;e=a.FieldValue("Discount Percent");var i=e,f=i.retVal;e=a.FieldValue("Base Price");var i=e,l=i.retVal;e=a.FieldValue("Adjusted List Price");var i=e,c=i.retVal;e=a.FieldValue("Net Price");var i=e,h=i.retVal;e=g.NewRecord();var i=e;e=g.SetFieldValue("Order Header Id",o,!0);var i=e;e=g.GetPickList("Product"),t=e,e={err:!1};var v=t.retVal;v.SetSearchSpec("[Id]='"+s+"'"),t=e,e=v.Execute(),t=e,e=v.Home();var i=e;e={err:!1};if(v.CheckActiveRow()===!0)
{e=v.PickCurrentRow();var i=e;e={err:!1};if(!i.err){e=g.SetFieldValue("Quantity Requested",u,!0);var i=e;e=g.SetFieldValue("Discount Percent",f,!0);var i=e;e=g.SetFieldValue("Base Price",l,!0);var i=e;e=g.SetFieldValue("Adjusted List Price",c,!0);var i=e;e=g.SetFieldValue("Net Price",h,!0);var i=e;e={err:!1};if(!i.err){g.SetCommitPending(!0),e=g.WriteRecord();var i=e;e={err:!1},i.err&&(n!=null&&typeof n!="undefined"&&(n=null),r!=null&&typeof r!="undefined"&&(r=null),SiebelApp.S_App.Model.ReleaseBO(d),SiebelApp.S_App.Model.ReleaseBO(p),e={err:t.err,retVal:t.retVal})}else n!=null&&typeof n!="undefined"&&(n=null),r!=null&&typeof r!="undefined"&&(r=null),SiebelApp.S_App.Model.ReleaseBO(d),SiebelApp.S_App.Model.ReleaseBO(p),e={err:t.err,retVal:t.retVal}}else n!=null&&typeof n!="undefined"&&(n=null),r!=null&&typeof r!="undefined"&&(r=null),SiebelApp.S_App.Model.ReleaseBO(d),SiebelApp.S_App.Model.ReleaseBO(p),e={err:t.err,retVal:t.retVal}}t=e,e=a.NextRecord(),t=e,e={err:!1};var m=t.err;m?(SiebelApp.S_App.Model.ReleaseBO(d),SiebelApp.S_App.Model.ReleaseBO(p)):y.call(this)};a.CheckActiveRow()===!0?y.call(this):(SiebelApp.S_App.Model.ReleaseBO(d),SiebelApp.S_App.Model.ReleaseBO(p))}}}}}}}}}}else n!=null&&typeof n!="undefined"&&(n=null),r!=null&&typeof r!="undefined"&&(r=null);return e},e}(),"SiebelAppFacade.SiebelApp.salesmquote"}));
