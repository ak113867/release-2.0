/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelApp.serviceactstat=="undefined"&&(SiebelJS.Namespace("SiebelApp.serviceactstat"),define("siebel/offline/servicemactstat",["siebel/offline/model"],function(){var e={},t=SiebelApp.Offlineconstants,n="Good";return e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Detail Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Detail Form Applet Read Only- Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Detail Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Detail Form Applet Read Only- Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="Action",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEBUSCOMP"),e[t.get("DOUIREG_OBJ_MTHD")]="Execute",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="Execute",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service FS Invoice List Applet - Auto Invoice - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service FS Invoice List Applet - Auto Invoice - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Service Request Invoice List Applet - Auto Invoice - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Service Request Invoice List Applet - Auto Invoice - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Invoice Signature Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Invoice Signature Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Invoice Signature Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Invoice Signature Form Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE Service Footer Applet",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="SHCE FS Steps List Applet - Mobile",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEAPPLET"),e[t.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model
.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="FS Inventory VBC",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEBUSCOMP"),e[t.get("DOUIREG_OBJ_MTHD")]="Execute",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="ExecuteInventoryVBC",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),e={},e[t.get("DOUIREG_OBJ_NAME")]="FS Inventory VBC",e[t.get("DOUIREG_OBJ_TYPE")]=t.get("DOUIREG_OBJ_TYPEBUSCOMP"),e[t.get("DOUIREG_OBJ_MTHD")]="SetFieldValue",e[t.get("DOUIREG_SRVC_NAME")]="serviceactstat",e[t.get("DOUIREG_SRVC_MTDH")]="SetStatus",e[t.get("DOUIREG_EXT_TYPE")]=t.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(e),SiebelApp.serviceactstat=function(){function e(e){}return SiebelJS.Extend(e,SiebelApp.ServiceModel),e.prototype.DoCanInvokeMethod=function(e){var t={err:!1},n,r=CCFMiscUtil_CreatePropSet(),i="",s=this.GetContext().GetBusComp();i=e.GetProperty("MethodName").toString();if(i==="SetDoneFlg"||i==="UnSetDoneFlg"||i==="SetStartDate"||i==="UnSetStartTime")r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r};if(i==="AcceptStatus"){var o,u,a,f,l,c,h,p,d;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,t={err:!1},o=n.retVal,l=SiebelApp.S_App.Model.GetLovNameVal("Acknowledged","EVENT_STATUS"),c=SiebelApp.S_App.Model.GetLovNameVal("On Hold","EVENT_STATUS"),h=SiebelApp.S_App.Model.GetLovNameVal("In Progress","EVENT_STATUS"),p=SiebelApp.S_App.Model.GetLovNameVal("Done","EVENT_STATUS"),d=SiebelApp.S_App.Model.GetLovNameVal("Cancelled","EVENT_STATUS"),o===l||o===c||o===h||o===p||o===d?(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r})}else if(i==="GotoView")r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r};else if(i==="ArrivedStatus"){var o,v,u,a,f,h;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,o=n.retVal,t=v=u.FieldValue("Started"),n=t,t={err:!1},v=n.retVal,h=SiebelApp.S_App.Model.GetLovNameVal("In Progress","EVENT_STATUS"),o===h&&v==0?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="DeclineStatus"){var o,v,u,a,c,h,p,d,m,f;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,o=n.retVal,t=v=u.FieldValue("Started"),n=t,t={err:!1},v=n.retVal,h=SiebelApp.S_App.Model.GetLovNameVal("In Progress","EVENT_STATUS"),c=SiebelApp.S_App.Model.GetLovNameVal("On Hold","EVENT_STATUS"),p=SiebelApp.S_App.Model.GetLovNameVal("Done","EVENT_STATUS"),d=SiebelApp.S_App.Model.GetLovNameVal("Cancelled","EVENT_STATUS"),m=SiebelApp.S_App.Model.GetLovNameVal("Declined","EVENT_STATUS"),o===h&&utils.IsEmpty(v)||o!==h&&o!==c&&o!==p&&o!==d&&o!==m?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="EnRouteStatus"){var o,u,a,l;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,t={err:!1},o=n.retVal,l=SiebelApp.S_App.Model.GetLovNameVal("Acknowledged","EVENT_STATUS"),o===l?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="SuspendStatus"){var o,v,u,a,h;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,o=n.retVal,t=v=u.FieldValue("Started"),n=t,t={err:!1},v=n.retVal,h=SiebelApp.S_App.Model.GetLovNameVal("In Progress","EVENT_STATUS"),o===h&&v!=0?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="ResumeStatus"){var o,u,a,c;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,t={err:!1},o=n.retVal,c=SiebelApp.S_App.Model.GetLovNameVal("On Hold","EVENT_STATUS"),o===c?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="FinishedStatus"){var o,v,u,a,h;a=this.GetContext(),u=a.GetBusComp(),t=u.FieldValue("Status"),n=t,o=n.retVal,t=v=u.FieldValue("Started"),n=t,t={err:!1},v=n.retVal,h=SiebelApp.S_App.Model.GetLovNameVal("In Progress","EVENT_STATUS"),o===h&&v!=0?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else if(i==="Sign"){var g;s.CheckActiveRow()===!0?(t=s.FieldValue("Signature Captured"),n=t,t={err:!1},g=n.retVal,g==="N"?r.SetProperty("RetVal",!0):r.SetProperty("RetVal",!1),r.SetProperty("Invoked",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!1),t={err:!1,retVal:r})}else i==="CreateSignature"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="CancelSignature"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="ClearSignature"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):i==="ApplySignature"?(r.SetProperty("Invoked",!0),r.SetProperty("RetVal",!0),t={err:!1,retVal:r}):(r.SetProperty("Invoked",!1),r.SetProperty("RetVal",!1),t={err:!1,retVal:r});return t},e.prototype.DoInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet(),s,o,u;r=e.GetProperty("MethodName").toString();if(r==="GotoView"){var a=SiebelApp.S_App.Model.GetBusObj("Action");s=utils.DecodeFromQueryString(e.GetProperty("Request")).GetProperty("SWETargetView"),u=a.GetBusComp("Action"),u.ActivateField("Id");var f=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp().GetParentBusComp();f?o=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp().GetParentBuscomp().FieldValue("Id").retVal:o=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp().FieldValue("Id").retVal,u.SetSearchExpr("[Id] = '"+o+"'"),SiebelApp
.OfflineAppMgr.BuildViewAsync(s,"BS_NORMAL","",a),i.SetProperty("Invoked",!0),t={err:!1,retVal:i}}else if(r==="SetStartDate"){var l=new Date,a=SiebelApp.S_App.Model.GetBusObj("Action");u=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),u.ActivateField("Id"),u.ActivateField("Start Date"),t=u.FieldValue("Id"),n=t;var c=n.retVal;t=u.FieldValue("Start Date"),n=t;var h=n.retVal;h===""&&(t=u.SetFieldValue("Start Date",l,!0),n=t,u.SetCommitPending(!0),t=u.WriteRecord(),n=t,t={err:!1})}else if(r==="SetDoneFlg"){var l=new Date,a=SiebelApp.S_App.Model.GetBusObj("Action");u=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),u.ActivateField("Id"),u.ActivateField("Performed"),u.ActivateField("End Date"),t=u.FieldValue("Id"),n=t;var c=n.retVal;t=u.FieldValue("Performed"),n=t;var p=n.retVal;p===""&&(t=u.SetFieldValue("Performed","Y",!0),n=t,t=u.SetFieldValue("End Date",l,!0),n=t,u.SetCommitPending(!0),t=u.WriteRecord(),n=t,t={err:!1})}else if(r==="UnSetDoneFlg"){var a=SiebelApp.S_App.Model.GetBusObj("Action");u=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),u.ActivateField("Id"),u.ActivateField("Performed"),u.ActivateField("End Date"),t=u.FieldValue("Id"),n=t;var c=n.retVal;t=u.FieldValue("Performed"),n=t;var p=n.retVal;p==="Y"&&(t=u.SetFieldValue("Performed","",!0),n=t,t=u.SetFieldValue("End Date","",!0),n=t,u.SetCommitPending(!0),t=u.WriteRecord(),n=t,t={err:!1})}else if(r==="UnSetStartTime"){var a=SiebelApp.S_App.Model.GetBusObj("Action");u=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp(),u.ActivateField("Id"),u.ActivateField("Start Date"),t=u.FieldValue("Id"),n=t;var c=n.retVal;t=u.FieldValue("Start Date"),n=t;var h=n.retVal;h!==""&&(t=u.SetFieldValue("Start Date","",!0),n=t,u.SetCommitPending(!0),t=u.WriteRecord(),n=t,t={err:!1})}else r==="AcceptStatus"?(t=this.SetActivityStatus("Acknowledged",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r=="Start"||r=="ArrivedStatus"?(t=this.SetActivityStatus("In Progress",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="DeclineStatus"?(t=this.SetActivityStatus("Declined",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="EnRouteStatus"?(t=this.SetActivityStatus("In Progress",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="SuspendStatus"?(t=this.SetActivityStatus("On Hold",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="ResumeStatus"?(t=this.SetActivityStatus("In Progress",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="FinishedStatus"?(t=this.SetActivityStatus("Done",r),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="Sign"?(t=this.Sign(),n=t,t={err:!1},n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):(i.SetProperty("Invoked",!0),t={err:"",retVal:i})):r==="CreateSignature"?(t=this.CreateSignature(),n=t,i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="CancelSignature"?(t=this.CancelSignature(),n=t,t={err:!1},n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):(i.SetProperty("Invoked",!0),t={err:"",retVal:i})):r==="ClearSignature"?(i.SetProperty("Invoked",!0),t={err:!1,retVal:i}):r==="ApplySignature"?(t=this.ApplySignature(),n=t,t={err:!1},n.err?(i.SetProperty("Invoked",!0),t={err:n.err,retVal:i}):(i.SetProperty("Invoked",!0),t={err:"",retVal:i})):(i.SetProperty("Invoked",!1),t={err:!1,retVal:i});return t},e.prototype.SetActivityStatus=function(e,n){var r={err:!1},i;SiebelJS.Log("Service Method SetActivityStatus...");var s,o,u,a,f,l,c;c=this.GetContext(),f=c.GetBusComp(),l=c.GetControl("Status").GetFieldName(),o=c.GetBusComp().GetFieldDefn(l).PickListName,u=f.GetPickListInfo(o,"Status"),a=SiebelApp.S_App.Model,s=a.GetLovNameVal(e,u.LOVType),f.ActivateField("Status"),r=f.SetFieldValue("Status",s,!0);var h=r;r={err:!1};if(n!=""){var p=new Date;n=="ArrivedStatus"?(f.ActivateField("Started"),r=f.SetFieldValue("Started",p,!0),i=r,r=f.SetFieldValue("Done","",!0),i=r,r={err:!1}):n=="FinishedStatus"&&(r=f.SetFieldValue("Done",p,!0),i=r,r={err:!1})}return f.SetCommitPending(!0),r=f.WriteRecord(),i=r,r={err:!1},SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED")),n=="FinishedStatus"&&(f.ActivateField("Percent Complete"),r=f.SetFieldValue("Percent Complete","100",!0),i=r,f.SetCommitPending(!0),r=f.WriteRecord(!1),i=r,r={err:!1},SiebelApp.OfflineAppMgr.PostActions(t.get("ACTION_RPC_COMPLETED"))),r},e.prototype.Execute=function(){var e=CCFMiscUtil_CreatePropSet(),t=this.GetContext();t.ActivateField("Started")},e.prototype.Sign=function(){var e={err:!1},t,n,r,i="",s=CCFMiscUtil_CreatePropSet(),o=SiebelApp.S_App.GetActiveView().GetActiveApplet(),u=o.GetBusComp();e=u.FieldValue("Id"),t=e,e={err:!1};var a=t.retVal;return i=o.GetDrillDown("Signature Capture Drilldown"),utils.IsEmpty(i)||(n=i.viewname,r=o.GetUserProperty("Signature Applet Name"),s.SetProperty("Parent Id",a),SiebelApp.OfflineAppMgr.QueueMethod(r,"CreateSignature",s),SiebelApp.OfflineAppMgr.BuildViewAsync(n,"BS_DRILLDOWN",i)),e},e.prototype.CreateSignature=function(e){var t={err:!1},n;SiebelJS.Log("Invoked CreateSignature Method");if(!utils.IsEmpty(e))var r=e.GetProperty("Parent Id");var i=this.GetContext().GetBusComp(),s=i.GetParentBusComp();t=s.FieldValue("Id"),n=t;var o=n.retVal;return t=i.Execute(),n=t,t=i.NewRecord(!0),t},e.prototype.CancelSignature=function(){var e={err:!1},t;SiebelJS.Log("Invoked CancelSignature Method");var n="Cancel Drilldown",r="",i="",s=CCFMiscUtil_CreatePropSet(),o=SiebelApp.S_App.GetActiveView().GetActiveApplet(),u=o.GetBusComp(),a=u.GetParentBusComp();t=e,e={err:!1};var r=o.GetDrillDown(n);return utils.IsEmpty(r)?(i=SiebelApp.OfflineAppMgr.GetPriorView(),SiebelApp.OfflineAppMgr.BuildViewAsync(i,"BS_NORMAL")):(i=r.viewname,SiebelApp.OfflineAppMgr.BuildViewAsync(i,"BS_DRILLDOWN",r)),e},e.prototype.ApplySignature=function(){var e={err:!1},t;SiebelJS.Log("Invoked ApplySignature Method");var n="Apply Drilldown",r="",i,s,o=CCFMiscUtil_CreatePropSet(),u=0,a=16e3,f=5,l=[],c,h=SiebelApp.S_App.GetActiveView().GetActiveApplet(),p=
h.GetUserProperty("Signature Length");utils.IsEmpty(p)||(a=parseInt(p,10));var d=h.GetBusComp(),v=d.GetParentBusComp(),m=SiebelApp.AjaxRequestMgr.GetActiveRequestObj();for(var g in m.FieldValue){var y=m.FieldValue[g];y[0]==="Contact Last Name"?s=y[1]:y[0]==="Signature"&&(i=y[1])}r=utils.UrlDecode(i),u=r.length;if(s.length===0)return SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature"),l.push("Contact Last Name"),SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",l),e={err:"SSAFReqFieldNotExist",retVal:""},e;if(u===0)return SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature"),l.push("Signature"),SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",l),e={err:"SSAFReqFieldNotExist",retVal:""},e;if(u<f)return SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature"),l.push("Signature"),SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",l),e={err:"SSAFReqFieldNotExist",retVal:""},e;if(u>=a)return SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature"),l.push("Signature"),SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_PHA_ERR_SIGN_TOO_BIG",l),e={err:"IDS_PHA_ERR_SIGN_TOO_BIG",retVal:""},e;t=e,e=d.SetFieldValue("Signature",r),t=e,d.SetCommitPending(!0),e=d.WriteRecord(),t=e,e=d.FieldValue("Invoice Id"),t=e;var b=t.retVal;e=v.SetFldSearchSpec("Id",b),e=v.Execute(),t=e,e=v.Home(),t=e,v.SetFieldValue("Signature Captured","Y"),v.SetCommitPending(!0),e=v.WriteRecord(),t=e,e={err:!1};var w=h.GetDrillDown(n);if(!utils.IsEmpty(w)){c=w.viewname;var E=SiebelApp.S_App.Model.GetViewDef(c);if(E){var S=E.BOName,x=SiebelApp.S_App.Model.GetBusObj(S),T=SiebelApp.S_App.GetActiveView().GetBusObj(S),N=T.GetBusComp(w.busCompName),C=x.GetBusComp("Action");N.ActivateField("Activity Id"),C.ActivateField("Id"),e=N.FieldValue("Activity Id"),t=e;var k=t.retVal;e=C.SetSearchExpr("[Id] = '"+k+"'"),e=C.Execute(),t=e,e=C.Home(),t=e,SiebelApp.OfflineAppMgr.BuildViewAsync(c,"BS_NORMAL","",x)}}else c=SiebelApp.OfflineAppMgr.GetPriorView(),SiebelApp.OfflineAppMgr.BuildViewAsync(c,"BS_NORMAL");return e},e.prototype.ExecuteInventoryVBC=function(){var e={err:!1},t,r=SiebelApp.S_App.Model.GetBusObj("FS Part Browser"),i=r.GetBusComp("FS Bucket Header - Part browser"),s=r.GetBusComp("FS Bucket - Part Browser"),o=r.GetBusComp("FS Substitute Part Bucket - Part Browser"),u,a,f,l,c,h,p="0",d="0",v="0",m=this.GetContext(),g=SiebelApp.S_App.Model.GetLovNameVal("On Hand","FS_PRODINVCAT_AVAIL"),y=SiebelApp.S_App.Model.GetLovNameVal("Reserved","FS_PRODINVCAT_AVAIL"),b=SiebelApp.S_App.Model.GetLovNameVal("In Transit","FS_PRODINVCAT_AVAIL"),w=SiebelApp.S_App.Model.GetLovNameVal(n,"FS_PRODINVCAT_STATUS"),E;m.ActivateField("Product"),m.ActivateField("Product ID"),m.ActivateField("Status"),m.ActivateField("On Hand Quantity"),m.ActivateField("Reserved Quantity"),m.ActivateField("Transit Quantity"),m.ActivateField("Substitute Count"),i.ActivateField("Product ID"),i.ActivateField("Product"),s.ActivateField("Quantity"),s.ActivateField("Availability"),s.ActivateField("Status"),e=i.Execute(),t=e,i.Home(),e={err:!1};var S=function(){m.DeleteRecord(),e={err:!1},m.GetWS().length>0&&S.call(this)};m.CheckActiveRow()===!0&&S.call(this),t=e,e={err:!1};var x=function(){e=i.FieldValue("Product ID"),t=e,u=t.retVal,e=i.FieldValue("Product"),t=e,a=t.retVal,e=i.FieldValue("Id"),t=e,l=t.retVal,e={err:!1};var n=function(){e=s.FieldValue("Quantity"),t=e,f=t.retVal,e=s.FieldValue("Availability"),t=e,h=t.retVal,e=s.FieldValue("Status"),t=e,c=t.retVal,e={err:!1},p="0",d="0",v="0",h===g&&c===w&&(p=f),h===y&&c===w&&(d=f),h===b&&c===w&&(v=f),e=s.NextRecord(),t=e,e={err:!1};var r=t.err;r||n.call(this)},r=function(){E++,e=o.NextRecord(),t=e,e={err:!1};var n=t.err;n||r.call(this)};s.CheckActiveRow()===!0&&n.call(this),E=0,o.CheckActiveRow()===!0&&r.call(this),m.SetExecuted(!0),e=m.NewRecord(),t=e,e=m.SetFieldValue("Product",a,!0),t=e,e=m.SetFieldValue("Product ID",u,!0),t=e,e=m.SetFieldValue("On Hand Quantity",p,!0),t=e,e=m.SetFieldValue("Reserved Quantity",d,!0),t=e,e=m.SetFieldValue("Transit Quantity",v,!0),t=e,e=m.SetFieldValue("Substitute Count",E,!0),t=e,m.SetCommitPending(!0),e=m.WriteRecord(),t=e,e={err:!1},e=i.NextRecord(),t=e,e={err:!1};var S=t.err;S||x.call(this)};return i.CheckActiveRow()===!0&&x.call(this),m.Home(),SiebelApp.S_App.Model.ReleaseBO(r),e},e.prototype.SetStatus=function(e,t,r,i,s){var o={err:!1},u,a=this.GetContext(),f=e.GetProperty("inputParam1"),l=e.GetProperty("inputParam2");if(f==="Status")return n=l,a.Home(),o=a.Execute(),u=o,o},e}(),"SiebelAppFacade.SiebelApp.serviceactstat"})),typeof SiebelApp.calendarplussvc=="undefined"&&(SiebelJS.Namespace("SiebelApp.calendarplussvc"),define("siebel/offline/calendarplussvc",["siebel/offline/model","siebel/offline/servicemodel","siebel/offline/calendarsvc"],function(){var e=SiebelApp.Offlineconstants,t=SiebelApp.OfflineUtils,n={};return n[e.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Calendar Applet-Mobile",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarsvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",n[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),n={},n[e.get("DOUIREG_OBJ_NAME")]="SHCE Service Activity Calendar Applet-Mobile",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarsvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",n[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),n={},n[e.get("DOUIREG_OBJ_NAME")]="SHCE Service Calendar Applet-Mobile",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarsvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",n[e.get("DOUIREG_EXT_TYPE"
)]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),n={},n[e.get("DOUIREG_OBJ_NAME")]="SHCE Service Calendar Applet-Mobile",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarsvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",n[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),n={},n[e.get("DOUIREG_OBJ_NAME")]="",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarplussvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod",n[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),n={},n[e.get("DOUIREG_OBJ_NAME")]="",n[e.get("DOUIREG_OBJ_TYPE")]=e.get("DOUIREG_OBJ_TYPEAPPLET"),n[e.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod",n[e.get("DOUIREG_SRVC_NAME")]="calendarplussvc",n[e.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod",n[e.get("DOUIREG_EXT_TYPE")]=e.get("DOUIREG_EXT_TYPEPRE"),SiebelApp.S_App.Model.ServiceRegistry(n),SiebelApp.calendarplussvc=function(){function t(e){}var e=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(t,SiebelApp.ServiceModel),t.prototype.Populate=function(){},t.prototype.DoCanInvokeMethod=function(e){var t={err:!1},n,r="",i=CCFMiscUtil_CreatePropSet();r=e.GetProperty("MethodName").toString(),r==="OnSelect"&&(i.SetProperty("Invoked",!0),i.SetProperty("RetVal",!0),t={err:!1,retVal:i})},t.prototype.DoInvokeMethod=function(t){var n={err:!1},r,i="",s=CCFMiscUtil_CreatePropSet();i=t.GetProperty("MethodName").toString();var o="";if(i==="OnSelect"){if(SiebelApp.S_App.GetActiveView().GetBusObj().GetName()==="Action"){var u=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Action"),a=e.DecodeFromQueryString(t.GetProperty("Request")).GetProperty("recordId"),f=a.indexOf("%5e");a=a.substr(f+3),u.ActivateField("Id"),u.SetSearchExpr("[Id] = '"+a+"'"),n=u.Execute(),r=n,n=u.Home(),r=n,u.CheckActiveRow()===!0&&(n=u.PositionById(a),SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","OnSelect"))}}else i==="GetPrintInfo"&&SiebelApp.serviceprintinfo.GetServicePrintInfo(t)},t}(),"SiebelAppFacade.calendarplussvc"}));
