/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelAppFacade.SearchPaneModel=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.SearchPaneModel"),define("siebel/searchpanemodel",["siebel/listpmodel"],function(){return SiebelAppFacade.SearchPaneModel=function(){function a(){SiebelAppFacade.SearchPaneModel.superclass.constructor.apply(this,arguments)}function f(e,t){this.SetProperty("InProp",e),this.SetProperty("OutProp",t),this.SetProperty("OpenSearchPanel",!0)}function l(e,t,n,r){if(["Hide","DockUndock"].indexOf(e)!==-1)this.SetProperty("PaneStatus",e),["Hide"].indexOf(e)==-1&&(r.CancelOperation=!0),SiebelApp.S_App.uiStatus.Free();else if(e==="Drilldown"){var i=this.Get("GetControls").Url;if(i){var s=this.ExecuteMethod("GetFormattedFieldValue",i);s.indexOf("http:/")!==-1&&(this.SetProperty("drilldownURL",s),this.SetProperty("handleDrilldown",!0),r.CancelOperation=!0,SiebelApp.S_App.uiStatus.Free())}}}function c(e,n){var i=CCFMiscUtil_CreatePropSet(),o=this.Get("searchText"),a="",f=[],l={scope:this,async:!1,cb:function(){this.Get("activeEngine")!==e&&this.SetProperty("activeEngine",e)}};e||(e=this.Get("activeEngine"));if(this.Get("performAdvanceFind"))this.SetProperty("performAdvancedSearch",!1),this.SetProperty("ContainsANDtext",""),this.SetProperty("ContainsNOTtext",""),this.SetProperty("ContainsEXACTtext",""),this.SetProperty("ContainsORtext",""),this.SetProperty("CategoryArray",""),this.SetProperty("Fileformat",""),this.SetProperty("CollectionArray",a),i.SetProperty("SearchText",o),i.SetProperty("SearchType","Advanced Find"),i.SetProperty("FindFields",this.Get("findFieldsNames")),i.SetProperty("CategoryName",r.GetProperty(n)),this.SetProperty("performAdvanceFind",!1);else if(this.Get("performAdvancedSearch")){for(u=0;u<this.Get("NumDataSource");u++)this.Get("DataSource"+u)==="buscomp"?f[u]="buscomp":f[u]=s.GetProperty(this.Get("DataSource"+u));f.length>0&&(a=t.SearchUtil_ArrayToString(f)),this.SetProperty("CollectionArray",a),i.SetProperty("SearchType","Advanced Search"),i.SetProperty("ContainsANDtext",this.Get("ContainsANDtext")),i.SetProperty("ContainsNOTtext",this.Get("ContainsNOTtext")),i.SetProperty("ContainsEXACTtext",this.Get("ContainsEXACTtext")),i.SetProperty("ContainsORtext",this.Get("ContainsORtext")),i.SetProperty("Fileformat",this.Get("Fileformat")),i.SetProperty("CategoryArray",this.Get("CategoryArray"));var c=this.Get("CategoryArray");i.SetProperty("CollectionArray",a),this.SetProperty("performAdvancedSearch",!1),this.SetProperty("searchDropDownUpDownArrowStatus","Hide")}else this.SetProperty("performAdvancedSearch",!1),this.SetProperty("ContainsANDtext",""),this.SetProperty("ContainsNOTtext",""),this.SetProperty("ContainsEXACTtext",""),this.SetProperty("ContainsORtext",""),this.SetProperty("CategoryArray",""),this.SetProperty("Fileformat",""),this.SetProperty("CollectionArray",a),i.SetProperty("CollectionArray",a),i.SetProperty("SearchText",o),i.SetProperty("SearchType","Search");i.SetProperty("Name",e),this.ExecuteMethod("InvokeMethod","Search",i,l)}function h(){var e=SiebelApp.S_App.GetService("Invoke Search"),t=CCFMiscUtil_CreatePropSet(),n=CCFMiscUtil_CreatePropSet(),i,s,o,u,a,f,l,c,h,p=[];if(e){n=e.InvokeMethod("GetOUISearchLookinValues",t),a=n.GetChildCount();for(var d=0;d<n.GetChildCount();d++){f=n.GetChild(d);if(f&&f.GetType()==="ResultSet"){l=f.GetChildCount();for(var v=0;v<l;v++){o=f.GetChild(v),i=o.GetPropertyCount(),s=o.GetType();if(s==="FindType"){c=o.GetChildCount();for(var m=0;m<c;m++){h=o.GetChild(m);for(u in h.propArray)h.propArray.hasOwnProperty(u)&&(p.push(u),r.SetProperty(u,h.propArray[u]))}}}break}}}this.SetProperty("findCategories",p)}function p(e){var t=CCFMiscUtil_CreatePropSet(),n=CCFMiscUtil_CreatePropSet(),i=SiebelApp.S_App.GetService("Invoke Search"),s=[];if(i){t.SetProperty("Category",r.GetProperty(e)),n=i.InvokeMethod("GetOUIFindFields",t);for(var o=0;o<n.GetChildCount();o++){var u=n.GetChild(o);if(u&&u.GetType()==="ResultSet"){var a=u.GetPropertyCount();for(var o=0;o<a/3;o++){var f={};f.name=u.GetProperty("FindField"+o),f.displayname=u.GetProperty("FindFieldDisp"+o),f.isdisplay=u.GetProperty("FindFieldDispInEntry"+o),s.push(f)}break}}}this.SetProperty("findCategoryFields",s)}function d(){var e=CCFMiscUtil_CreatePropSet(),t=CCFMiscUtil_CreatePropSet(),n=SiebelApp.S_App.GetService("Invoke Search");if(n){var r=0,i=[],o=[];t=n.InvokeMethod("GetOUISearchLookinValues",e);var u=t.GetChildCount();for(r=0;r<u;r++){var a=t.GetChild(r);if(a){var f=0,l="",c,h,p,d=a.GetChildCount();for(f=0;f<d;f++){h=a.GetChild(f),p=h.GetType();if(p==="CategoryType")for(l in h.propArray)h.propArray.hasOwnProperty(l)&&i.push(l);else if(p==="DataSrcType")for(l in h.propArray)h.propArray.hasOwnProperty(l)&&(o.push(l),s.SetProperty(l,h.propArray[l]))}}}var v=[];t=n.InvokeMethod("GetFileFormatLOVValues",e);for(r=0;r<u;r++){var a=t.GetChild(r);if(a){var f=0,c=a.GetPropertyCount();if(a.GetType()==="ResultSet")for(f=0;f<c;f++)v.push(a.GetProperty("Search File Format"+f))}}this.SetProperty("GetAdvSearchOutputForCategory",i),this.SetProperty("GetAdvSearchOutputForFileFormat",v),this.SetProperty("GetAdvSearchOutputForDataSource",o)}}function v(){var e=CCFMiscUtil_CreatePropSet(),t=CCFMiscUtil_CreatePropSet(),n=SiebelApp.S_App.GetService("Invoke Search");if(n){var r=[],s=[],o=[],u,a=0,f=0,l=0;t=n.InvokeMethod("GetSearchSettingValues",e);var c=t.GetChildCount();for(i=0;i<c;i++){var h=t.GetChild(i);if(h){var p=0,d=h.GetPropertyCount();if(h.GetType()==="ResultSet")for(p=0;p<d;p++)h.GetProperty("Search Per Page"+a)?(r.push(h.GetProperty("Search Per Page"+a)),++a):h.GetProperty("Search Sort"+f)?(s.push(h.GetProperty("Search Sort"+f)),++f):h.GetProperty("Search Query Lang"+l)?(o.push(h.GetProperty("Search Query Lang"+l)),++l):h.GetProperty("Doc Language")&&(gDocLang=h.GetProperty("Doc Language"))}}this.SetProperty("GetSearchPrefOutputForSort",s),this.SetProperty("GetSearchPrefOutputForQueryLang",o),this.SetProperty("GetSearchPrefOutputForDocLang",gDocLang)}}function m(){var e=CCFMiscUtil_CreatePropSet(),t={scope:this,async:!1
};e.SetProperty("SearchText",this.Get("searchText")),e.SetProperty("Number Of Suggestions","10"),e.SetProperty("Name",this.Get("activeEngine")),this.ExecuteMethod("InvokeMethod","GetAutoSuggestions",e,t)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils"),n=SiebelApp.S_App.LocaleObject,r=CCFMiscUtil_CreatePropSet(),s=CCFMiscUtil_CreatePropSet(),o="";return SiebelJS.Extend(a,SiebelAppFacade.ListPresentationModel),a.prototype.Setup=function(e){SiebelAppFacade.SearchPaneModel.superclass.Setup.call(this,e);var n=e.GetChildByType("apm"),i=0,o;if(n){var u=n.GetChildByType("ListOfEngines");u&&(this.SetProperty("EngineValues",u.GetProperty("EngineString").split("/")),this.SetProperty("activeEngine",this.Get("EngineValues")[0]),o=this.Get("EngineValues"),this.SetProperty("SiebelFind",u.GetProperty("SiebelFind")),this.SetProperty("OSES",u.GetProperty("OSES")),this.Get("SiebelFind")&&this.SetProperty("findEnabled",!0),this.Get("OSES")&&this.SetProperty("osesEnabled",!0));var u=n.GetChildByType("LastSearch");if(u){this.ExecuteMethod("LoadAdvancedSearch"),this.SetProperty("DSPropSet",s),this.SetProperty("IsPaneOpen",u.GetProperty("Pane Status")),this.SetProperty("LastSearch",u);if(u.GetProperty("SearchType")==="Advanced Find"){this.ExecuteMethod("GetFindCategories");var a=r.GetFirstProperty();while(u.GetProperty("CategoryName")!=r.GetProperty(a))a=r.GetNextProperty();this.SetProperty("LastSearchedCategory",a)}else if(u.GetProperty("SearchType")==="Advanced Search"){var f=this.Get("GetAdvSearchOutputForDataSource"),l=[];t.StringWithLengthToArray(u.GetProperty("CollectionArray"),l);var c=0,h=0;u.GetProperty("CategoryArray")&&(this.SetProperty("DataSource"+c,"buscomp"),c++);while(f[h])l.indexOf(s.GetProperty(f[h]))>-1&&(this.SetProperty("DataSource"+c,f[h]),c++),h++;this.SetProperty("NumDataSource",c)}}}},a.prototype.Init=function(){SiebelAppFacade.SearchPaneModel.superclass.Init.call(this),this.AddProperty("GetAdvSearchOutputForCategory",[]),this.AddProperty("GetAdvSearchOutputForDataSource",[]),this.AddProperty("GetAdvSearchOutputForFileFormat",[]),this.AddProperty("showAdvancedSearchPopup",!1),this.AddProperty("CategoryArray",""),this.AddProperty("Fileformat",""),this.AddProperty("DataSource",""),this.AddProperty("DSPropSet",""),this.AddProperty("CollectionArray",""),this.AddProperty("NumDataSource",""),this.AddProperty("ContainsANDtext",""),this.AddProperty("ContainsNOTtext",""),this.AddProperty("ContainsEXACTtext",""),this.AddProperty("ContainsORtext",""),this.AddProperty("InlineAppletFields",""),this.AddProperty("activeEngine",""),this.AddProperty("searchText",""),this.AddProperty("EngineValues",[]),this.AddProperty("PaneStatus","Close"),this.AddProperty("IsPaneOpen","False"),this.AddProperty("LastSearch",""),this.AddProperty("LastSearchedCategory",""),this.AddProperty("searchDropDownUpDownArrowStatus",""),this.AddProperty("autoSuggestions",[]),this.AddProperty("tabId",""),this.AddProperty("SiebelFind",""),this.AddProperty("OSES",""),this.AddProperty("findEnabled",!1),this.AddProperty("osesEnabled",!1),this.AddProperty("showFindCategories",!1),this.AddProperty("showFindCategoryFields",!1),this.AddProperty("performAdvanceFind",!1),this.AddProperty("performAdvancedSearch",!1),this.AddProperty("GetSearchPrefOutputForSort",[]),this.AddProperty("GetSearchPrefOutputForQueryLang",[]),this.AddProperty("GetSearchPrefOutputForDocLang",""),this.AddProperty("showSearchSettingsPopup",!1),this.AddProperty("SEARCH_SORT",""),this.AddProperty("findCategories",[]),this.AddProperty("OpenSearchPanel",""),this.AddProperty("InProp",""),this.AddProperty("OutProp",""),this.AddProperty("findCategoryFields",[]),this.AddProperty("findFieldsNames",""),this.AddProperty("handleDrilldown",!1),this.AddProperty("drilldownURL",""),this.AddMethod("ExposedOpenSearchPanel",f),this.AddMethod("LoadSearchSettings",v),this.AddMethod("LoadAdvancedSearch",d),this.AddMethod("SwitchEngine",c),this.AddMethod("AutoSuggestions",m),this.AddMethod("GetFindCategories",h),this.AddMethod("GetFindCategoryFields",p),this.AddMethod("InvokeMethod",l,{sequence:!0,scope:this}),this.AttachEventHandler("ExecuteSearch",function(e,t){this.ExecuteMethod("SwitchEngine",e,t),(this.Get("PaneStatus")==="Hide"||this.Get("PaneStatus")==="Close")&&this.SetProperty("PaneStatus","Show")}),this.AttachEventHandler("OnLoadSearch",function(){var e=CCFMiscUtil_CreatePropSet(),t=CCFMiscUtil_CreatePropSet();this.ExecuteMethod("InvokeServiceMethod","GetOUISearchLookinValues",e,t)}),this.AttachEventHandler("FindCategories",function(){this.ExecuteMethod("GetFindCategories"),this.Get("findCategories").length&&this.SetProperty("showFindCategories",!0)}),this.AttachEventHandler("FindCategoryFields",function(e){this.ExecuteMethod("GetFindCategoryFields",e),this.Get("findCategoryFields").length&&this.SetProperty("showFindCategoryFields",!0)}),this.AttachEventHandler("SearchSettings",function(){this.ExecuteMethod("LoadSearchSettings"),this.Get("GetSearchPrefOutputForSort").length&&this.Get("GetSearchPrefOutputForQueryLang").length&&this.Get("GetSearchPrefOutputForDocLang")&&this.SetProperty("showSearchSettingsPopup",!0),this.SetProperty("searchDropDownUpDownArrowStatus","Hide")}),this.AttachEventHandler("AdvancedSearch",function(){this.ExecuteMethod("LoadAdvancedSearch"),(this.Get("GetAdvSearchOutputForCategory").length||this.Get("GetAdvSearchOutputForFileFormat").length||this.Get("GetAdvSearchOutputForDataSource").length)&&this.SetProperty("showAdvancedSearchPopup",!0)}),this.AttachEventHandler("OnExecuteSavePreference",function(){var e="",t="false",n="",r=CCFMiscUtil_CreatePropSet(),i=CCFMiscUtil_CreatePropSet();r.SetProperty("SEARCH_SORT",this.Get("SEARCH_SORT")),r.SetProperty("SEARCH_LANGUAGE",this.Get("SEARCH_LANGUAGE")),r.SetProperty("DOC_LANGUAGE",this.Get("DOC_LANGUAGE")),e=this.Get("SEARCH_SORT"),n=this.Get("SEARCH_LANGUAGE"),t=this.Get("DOC_LANGUAGE");var s=SiebelApp.S_App.GetService("Invoke Search");if(!s)return;i=s.InvokeMethod("SaveSearchPreference"
,r)}),this.AttachPSHandler("Autosuggestions",function(e){var t=[],n=e.GetChild(0),r=n.GetPropertyCount();r&&CCFMiscUtil_StringToArray(n.GetFirstProperty(),t),this.SetProperty("autoSuggestions",t)})},a}(),SiebelAppFacade.SearchPaneModel}));
