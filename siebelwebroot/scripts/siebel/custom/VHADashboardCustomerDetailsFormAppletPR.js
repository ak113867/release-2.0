if(typeof(SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR");define("siebel/custom/VHADashboardCustomerDetailsFormAppletPR",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR=(function(){function VHADashboardCustomerDetailsFormAppletPR(pm){SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR.superclass.constructor.call(this,pm);SiebelApp.EventManager.cleanListners("VHADashboardCustomerDetailsIC");SiebelApp.EventManager.addListner("VHADashboardCustomerDetailsIC",VHADashboardCustomerDetailsIC,this)}SiebelJS.Extend(VHADashboardCustomerDetailsFormAppletPR,SiebelAppFacade.PhysicalRenderer);VHADashboardCustomerDetailsFormAppletPR.prototype.ShowUI=function(){SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR.superclass.ShowUI.call(this);VHADashboardCustomerDetailsIC()};function VHADashboardCustomerDetailsIC(e){var ParentIC=VHAAppUtilities.GetConstants("VHADashboardParentIC");if(!ParentIC){VHADashboardCommon.VHADasboardGetICProp("AssetHeader");ParentIC=VHAAppUtilities.GetConstants("VHADashboardParentIC")}var CustomAccIC=ParentIC.GetChildByType("ListOfCustomer Account");var Propset=CustomAccIC.GetChild(0);var CustType=Propset.GetProperty("Segment")+" - "+Propset.GetProperty("Type");$("#VHA_AD_CustName").html(Propset.GetProperty("Name"));$("#VHA_AD_CustType").html(CustType);$("#VHA_AD_CustPIN").html(Propset.GetProperty("Pin"));if(Propset.GetProperty("Since")!=""&&Propset.GetProperty("Since")!=null){var sSince=new Date(Propset.GetProperty("Since"));const monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];sSince=("0"+sSince.getDate()).slice(-2)+" "+monthNames[sSince.getMonth()]+" "+sSince.getFullYear();$("#VHA_AD_CustCreatedDt").html(sSince)}$("#VHA_AD_CustAddr").html(Propset.GetProperty("Address"));var publicnote=CustomAccIC.GetChildByType("Customer Account").GetChildByType("ListOfPublicNotes");if(publicnote.GetChildCount()>0){var sPubnt;for(i=0;i<publicnote.GetChildCount();i++){var PubNotIC=publicnote.GetChild(i).GetProperty("PublicNotes");if(i==0){sPubnt=PubNotIC}else{sPubnt=sPubnt+"<br>"+PubNotIC}}$("#vha_dashboard_public_notes").removeClass("VHADisablePublicNotes");$("#vha_dashboard_public_notes").addClass("VHADisplayPublicNotes");$("#vha_public_notes_name").removeClass("VHADisablePublicNotesLabel");var sPlaceHolder=$("#vha_dashboard_public_notes");$(sPlaceHolder).tooltip({content:sPubnt,position:{my:"left center",at:"right+15 top",of:sPlaceHolder,show:{duration:100},using:function(position,feedback){$(this).css("left",position.left);$(this).css("word-wrap","break-word");$(this).css("overflow","hidden");$(this).css("top",(position.top)-30);$(this).addClass(feedback.horizontal)}},hide:false})}else{$("#vha_dashboard_public_notes").removeClass("VHADisplayPublicNotes");$("#vha_dashboard_public_notes").addClass("VHADisablePublicNotes");$("#vha_public_notes_name").addClass("VHADisablePublicNotesLabel")}}VHADashboardCustomerDetailsFormAppletPR.prototype.BindEvents=function(){SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR.superclass.BindEvents.call(this);var view=SiebelApp.S_App.GetActiveView();var appletMap=view.GetAppletMap();var myApplet=appletMap["VHA Generic Dashboard Customer Details Form Applet"];var pm=myApplet.GetPModel();var CDAppletId=pm.Get("GetFullId");$("#VHACustomerDetailsDiv").on("click","#VHACustomerDetExpandCollapse",{ctx:this},function(t){$("#VHACustomerDetailsCard").hide();$("#VHACustomerDetExpandCollapse").replaceWith('<img src="images/custom/Group_246.svg" id="VHACustomerDetExpand">')});$("#VHACustomerDetailsDiv").on("click","#VHACustomerDetExpand",{ctx:this},function(t){$("#VHACustomerDetailsCard").show();$("#VHACustomerDetExpand").replaceWith('<img src="images/custom/Group_252.svg" id="VHACustomerDetExpandCollapse">')});$("#VHACustomerDetailsDiv").on("click","#VHAGotoCustomerDetailsView",{ctx:this},function(t){var Inputs=SiebelApp.S_App.NewPropertySet();var Output=SiebelApp.S_App.NewPropertySet();var ser=SiebelApp.S_App.GetService("VF BS Process Manager");Inputs.SetProperty("Service Name","VHA MSISDN GotoView BS");Inputs.SetProperty("Method Name","GotoView");Inputs.SetProperty("BusObjName","Account");Inputs.SetProperty("BusCompName","Account");var ParentIC=VHAAppUtilities.GetConstants("VHADashboardParentIC");var RecordId=ParentIC.GetProperty("Service Account Id");Inputs.SetProperty("RowId",RecordId);Inputs.SetProperty("ViewName","VF Account Summary View");var Output=ser.InvokeMethod("Run Process",Inputs)});$("#TaskInvokingButtons").on("click",function(){var inp=SiebelApp.S_App.NewPropertySet();inp.SetProperty("SWEH","350");inp.SetProperty("SWEW","800");inp.SetProperty("SWETA","VHA Dashboard Tasks Invoke Popup Applet");inp.SetProperty("SWEM","Edit");pm.ExecuteMethod("InvokeMethod","ShowPopup",inp)})};return VHADashboardCustomerDetailsFormAppletPR}());return"SiebelAppFacade.VHADashboardCustomerDetailsFormAppletPR"})};