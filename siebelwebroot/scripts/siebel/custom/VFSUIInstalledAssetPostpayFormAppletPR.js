if(typeof(SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR");define("siebel/custom/VFSUIInstalledAssetPostpayFormAppletPR",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR=(function(){function VFSUIInstalledAssetPostpayFormAppletPR(pm){SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR.superclass.constructor.call(this,pm)}SiebelJS.Extend(VFSUIInstalledAssetPostpayFormAppletPR,SiebelAppFacade.PhysicalRenderer);VFSUIInstalledAssetPostpayFormAppletPR.prototype.ShowUI=function(){SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR.superclass.ShowUI.call(this);var pm=this.GetPM();var IAAppletId=pm.Get("GetFullId");var ser=SiebelApp.S_App.GetService("VF BS Process Manager");var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("Service Name","VF SUI Utility Service");Inputs.SetProperty("Method Name","Device_N_Discount");var out=ser.InvokeMethod("Run Process",Inputs);var resultset=out.GetChildByType("ResultSet");var sCISlink=resultset.GetProperty("CISlink");var busObj=SiebelApp.S_App.GetActiveBusObj();var assetMgmtBC=busObj.GetBusCompByName("VHA SUI Asset Mgmt - Asset - Header Thin BC");var barringcalcval=assetMgmtBC.GetFieldValue("VF SUI Barring Calc");var controls=pm.Get("GetControls");var baringCtrl=controls["VFSUIBarring"].GetInputName();var VFSUIDaysDiffCalcCtrl=controls["VF SUI Days Diff Calc"].GetInputName();var VFSUIBarringCalc=controls["VF SUI Barring Calc"].GetInputName();var AppletTitlename=controls["VF SUI IA Applet Title"].GetInputName();var status=controls["VFSUIStatus"].GetInputName();var VFSUICallerAuthenticated=controls["VF SUI Caller Authenticated"].GetInputName();var endDateCtrl=controls["VFSUIEndDate"].GetInputName();var appTitleCtrl=controls["VF SUI IA Applet Title"].GetInputName();var days=assetMgmtBC.GetFieldValue("VF SUI Days Diff Calc");var limit=assetMgmtBC.GetFieldValue("VF SUI End Date Limit");var startdateval=assetMgmtBC.GetFieldValue("VF SUI Start Date Calc");var enddateval=assetMgmtBC.GetFieldValue("VF SUI End Date Calc");if(barringcalcval>0){$("input[name='"+baringCtrl+"']").attr("style","border: 1px solid #DD0000 !important; border-radius : 3px !important; width:112px !important;")}if(barringcalcval>0){$("input[name='"+baringCtrl+"']").attr("style","border: 1px solid #DD0000 !important; border-radius : 3px !important; width:112px !important;")}this.GetPM().AttachPMBinding("FieldChange",function(control,fieldValue){if(control.GetName()=="VF SUI Barring Calc"){if(fieldValue>0){$("input[name='"+baringCtrl+"']").attr("style","border: 1px solid #DD0000 !important; border-radius : 3px !important; width:112px !important;")}else{$("input[name='"+baringCtrl+"']").attr("style","border: 1px solid #CCCCCC !important; border-radius : 3px !important; width:112px !important;")}}});setTimeout(function(){$("input[name='"+VFSUICallerAuthenticated+"']").css("visibility","hidden");$("input[name='"+VFSUIDaysDiffCalcCtrl+"']").css("visibility","hidden");$("input[name='"+VFSUIBarringCalc+"']").css("visibility","hidden");if($("input[name='"+status+"']").val()=="Active"){$('[aria-labelledby="VFSUIStatus_Label"]').removeClass("siebui-ctrl-input");$('[aria-labelledby="VFSUIStatus_Label"]').attr("style","border: 0px !important;width: 44% !important");$('[aria-labelledby="VFSUIStatus_Label"]').addClass("siebui-value Class_Active")}if($("input[name='"+status+"']").val()=="Inactive"){$('[aria-labelledby="VFSUIStatus_Label"]').removeClass("siebui-ctrl-input");$('[aria-labelledby="VFSUIStatus_Label"]').attr("style","border: 0px !important;width: 44% !important");$('[aria-labelledby="VFSUIStatus_Label"]').addClass("siebui-value Class_Inactive")}if(sCISlink!=""){$('[aria-labelledby="VFSUICIS_Label"]').parent().find("a").attr("href",sCISlink)}else{$('[aria-labelledby="VFSUICIS_Label"]').parent().find("span").text("")}var getBrowser=navigator.appName;if(getBrowser=="Netscape"){$("#"+appTitleCtrl+"_IPEField").css("position: absolute !important;top"," 10px !important");$("#"+appTitleCtrl).attr("style","display: none !important;position: absolute !important;top: 10px !important")}else{$(".VFSUIIAFormApplet .siebui-collapsible-applet").eq(0).css("padding-bottom","7px")}$("#s_"+IAAppletId+"_div .siebui-btn-grp-applet").append('<img src="images/actionLauncherArrowUp.png" id="collapse_up">');$("input[name="+AppletTitlename+"]").parent().attr("style","padding-left: 105px;");$("#s_"+IAAppletId+"_div .siebui-applet-title").css("font-weight","bold");$("#"+AppletTitlename+"_mb").attr("style","font-size: 18px;float:right;font-weight: bold;");$("#"+AppletTitlename+"_mb").parent().removeClass("siebui-drilldown-input");$("#"+AppletTitlename+"_mb").addClass("VHAHyperlinkUnderline")},100);if(startdateval!=""&&enddateval!=""){if(Number(days)>=0&&Number(days)<=Number(limit)){$("input[name='"+endDateCtrl+"']").attr("style","border: 1px solid #006714 !important; border-radius : 3px !important; width:112px !important")}}};VFSUIInstalledAssetPostpayFormAppletPR.prototype.BindEvents=function(){SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR.superclass.BindEvents.call(this);var view=SiebelApp.S_App.GetActiveView();var appletMap=view.GetAppletMap();var myApplet1=appletMap["VF SUI Customer Account Postpay Form Applet"];var myApplet2=appletMap["VF SUI Billing Account Postpay Form Applet"];var myApplet3=appletMap["VF SUI Installed Asset Postpay Form Applet"];var pm1=myApplet1.GetPModel();var pm2=myApplet2.GetPModel();var pm3=myApplet3.GetPModel();var BAAppletId=pm2.Get("GetFullId");var CAAppletId=pm1.Get("GetFullId");var IAAppletId=pm3.Get("GetFullId");$("#s_"+IAAppletId+"_div").delegate("#collapse_up","click",function(){$("#s_"+CAAppletId+"_div").find("div.siebui-collapsible-applet-content").hide();$("#s_"+BAAppletId+"_div").find("div.siebui-collapsible-applet-content").hide();$("#s_"+IAAppletId+"_div").find("div.siebui-collapsible-applet-content").hide();$("#collapse_up").remove();$("#s_"+IAAppletId+"_div .siebui-btn-grp-applet").append('<img src="images/actionLauncherArrowDown.png" id="collapse_down">')});$("#s_"+IAAppletId+"_div").delegate("#collapse_down","click",function(){$("#s_"+CAAppletId+"_div").find("div.siebui-collapsible-applet-content").show();$("#s_"+BAAppletId+"_div").find("div.siebui-collapsible-applet-content").show();$("#s_"+IAAppletId+"_div").find("div.siebui-collapsible-applet-content").show();$("#s_"+IAAppletId+"_div .siebui-btn-grp-applet").append('<img src="images/actionLauncherArrowUp.png" id="collapse_up">');$("#collapse_down").remove()})};return VFSUIInstalledAssetPostpayFormAppletPR}());return"SiebelAppFacade.VFSUIInstalledAssetPostpayFormAppletPR"})};