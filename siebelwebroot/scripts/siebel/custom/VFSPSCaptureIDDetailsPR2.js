if(typeof(SiebelAppFacade.VFSPSCaptureIDDetailsPR2)==="undefined"){var controls2;SiebelJS.Namespace("SiebelAppFacade.VFSPSCaptureIDDetailsPR2");define("siebel/custom/VFSPSCaptureIDDetailsPR2",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR2=(function(){function VFSPSCaptureIDDetailsPR2(pm){SiebelAppFacade.VFSPSCaptureIDDetailsPR2.superclass.constructor.call(this,pm);var sActiveView;this.InputList=["VFPointsPostpay","IdReferenceNumber","ExpiryDate"];this.GetPM().AttachPMBinding("FieldChanged",VFSPSCallEnableNextButton,{scope:this});SiebelApp.EventManager.cleanListners("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.cleanListners("VFSPSDatePickerField2",VFSPSDatePickerField,this);SiebelApp.EventManager.cleanListners("VFSPSLOADatePickerField2",VFSPSDateLOAPickerField,this);SiebelApp.EventManager.addListner("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.addListner("VFSPSDatePickerField2",VFSPSDatePickerField,this);SiebelApp.EventManager.addListner("VFSPSLOADatePickerField2",VFSPSDateLOAPickerField,this)}SiebelJS.Extend(VFSPSCaptureIDDetailsPR2,SiebelAppFacade.PhysicalRenderer);VFSPSCaptureIDDetailsPR2.prototype.ShowUI=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR2.superclass.ShowUI.call(this);sActiveView=SiebelApp.S_App.GetActiveView();var pm=this.GetPM();controls2=pm.Get("GetControls");VFTabletIntegrationConstants.SetConstants("VFSPSScanKeyName","OCRScanID");$("input[name='"+controls2["ExpiryDate"].GetInputName()+"']").after('<img id="VFSPSCaptureIDDetailsCalender2" class="VFSPSCaptureIDDetailsCalIcon2" src="images/VFSPScalendar-icon.png">');$("input[name='"+controls2["VFSPSLOADate"].GetInputName()+"']").after('<img id="VFSPSLOACaptureIDDetailsCalender2" class="VFSPSCaptureIDDetailsCalIcon2" src="images/VFSPScalendar-icon.png">')};VFSPSCaptureIDDetailsPR2.prototype.BindEvents=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR2.superclass.BindEvents.call(this);var appletName="VFSPS IDDetails Applet2";var pm=this.GetPM();var ExplictCall=true;var InputList=this.InputList;var appletId=pm.Get("GetFullId");VFSPSIDCaptureInterface.VFSPSScannedIDType(sActiveView,appletName,pm,InputList);$("#s_"+appletId+"_div").delegate(".VFSPSShowIDList","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSShowIDList()});$("#s_"+appletId+"_div").delegate(".VFSPSIDCaptureClearBtn","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSClearIDDetails()});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDCountryDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'COUNTRY' AND [List Of Values.Active] = 'Y'";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"Country Of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDStateDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'VF_ID_ISSUER' AND [List Of Values.Active] = 'Y";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"State of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSCaptureIDDetailsCalender2","click",{ctx:this},VFSPSCaptureIDDetailsCalender2);$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSLOACaptureIDDetailsCalender2","click",{ctx:this},VFSPSLOACaptureIDDetailsCalender2)};VFSPSCaptureIDDetailsPR2.prototype.EndLife=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR2.superclass.EndLife.call(this);$("#openModal").remove()};function VFSPSCaptureIDDetailsCalender2(e){var currentVal=$("input[name='"+controls2["ExpiryDate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC2","Expiry Date","Siebel",currentVal,"0:100","VFSPSDatePickerField2")}function VFSPSLOACaptureIDDetailsCalender2(e){var currentVal=$("input[name='"+controls2["VFSPSLOADate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC2","VF SPS LOA Date","Siebel",currentVal,"0:100","VFSPSLOADatePickerField2")}function VFSPSDatePickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet2");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var ExpireDate=$("input[name='"+controls["ExpiryDate"].GetInputName()+"']").val();ExpireDate=VFTabletNavigation.VFSPSGetSiebelDateFormat(ExpireDate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC2");Inputs.SetProperty("FieldName","Expiry Date");Inputs.SetProperty("FieldValue",ExpireDate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSDateLOAPickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet2");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var VFSPSLOADate=$("input[name='"+controls["VFSPSLOADate"].GetInputName()+"']").val();VFSPSLOADate=VFTabletNavigation.VFSPSGetSiebelDateFormat(VFSPSLOADate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC2");Inputs.SetProperty("FieldName","VF SPS LOA Date");Inputs.SetProperty("FieldValue",VFSPSLOADate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSCallEnableNextButton(pm,InputList,ExplictCall){if(!ExplictCall){pm=this.GetPM();InputList=this.InputList}VFSPSIDCaptureInterface.VFSPSEnableNextButton(pm,InputList,"VFSPS IDDetails Applet2")}return VFSPSCaptureIDDetailsPR2}());return"SiebelAppFacade.VFSPSCaptureIDDetailsPR2"})};