if(typeof(SiebelAppFacade.VFSPSPrepaidIDDetails2)==="undefined"){var controls1;SiebelJS.Namespace("SiebelAppFacade.VFSPSPrepaidIDDetails2");define("siebel/custom/VFSPSPrepaidIDDetails2",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSPSPrepaidIDDetails2=(function(){function VFSPSPrepaidIDDetails2(pm){SiebelAppFacade.VFSPSPrepaidIDDetails2.superclass.constructor.call(this,pm);var sActiveView;this.InputList=["VFPointsPostpay","IdReferenceNumber","ExpiryDate"];this.GetPM().AttachPMBinding("FieldChanged",VFSPSCallEnableNextButton,{scope:this});SiebelApp.EventManager.cleanListners("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.cleanListners("VFSPSDatePickerField2",VFSPSDatePickerField,this);SiebelApp.EventManager.addListner("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.addListner("VFSPSDatePickerField2",VFSPSDatePickerField,this)}SiebelJS.Extend(VFSPSPrepaidIDDetails2,SiebelAppFacade.PhysicalRenderer);VFSPSPrepaidIDDetails2.prototype.ShowUI=function(){SiebelAppFacade.VFSPSPrepaidIDDetails2.superclass.ShowUI.call(this);sActiveView=SiebelApp.S_App.GetActiveView();var pm=this.GetPM();controls1=pm.Get("GetControls");VFTabletIntegrationConstants.SetConstants("VFSPSScanKeyName","OCRScanID");$("input[name='"+controls1["ExpiryDate"].GetInputName()+"']").after('<img id="VFSPSCaptureIDDetailsCalender1" class="VFSPSCaptureIDDetailsCalIcon1" src="images/VFSPScalendar-icon.png">')};VFSPSPrepaidIDDetails2.prototype.BindEvents=function(){SiebelAppFacade.VFSPSPrepaidIDDetails2.superclass.BindEvents.call(this);SiebelAppFacade.VFSPSPrepaidIDDetails1.superclass.BindEvents.call(this);var appletName="VFSPS Prepay IDDetails Applet2";var pm=this.GetPM();var ExplictCall=true;var InputList=this.InputList;var appletId=pm.Get("GetFullId");VFSPSPrepayIDCaptureInterface.VFSPSScannedIDType(sActiveView,appletName,pm,InputList);$("#s_"+appletId+"_div").delegate(".VFSPSShowIDList","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSPrepayIDCaptureInterface.VFSPSShowIDList()});$("#s_"+appletId+"_div").delegate(".VFSPSIDCaptureClearBtn","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSPrepayIDCaptureInterface.VFSPSClearIDDetails()});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDCountryDropDown","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'COUNTRY' AND [List Of Values.Active] = 'Y'";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"Country Of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDStateDropDown","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'VF_ID_ISSUER' AND [List Of Values.Active] = 'Y";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"State of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSCaptureIDDetailsCalender1","click",{ctx:this},VFSPSCaptureIDDetailsCalender1)};function VFSPSCaptureIDDetailsCalender1(e){var currentVal=$("input[name='"+controls1["ExpiryDate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC2","Expiry Date","Siebel",currentVal,"0:100","VFSPSDatePickerField2")}function VFSPSDatePickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS Prepay IDDetails Applet2");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var ExpireDate=$("input[name='"+controls["ExpiryDate"].GetInputName()+"']").val();ExpireDate=VFTabletNavigation.VFSPSGetSiebelDateFormat(ExpireDate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC2");Inputs.SetProperty("FieldName","Expiry Date");Inputs.SetProperty("FieldValue",ExpireDate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSCallEnableNextButton(pm,InputList,ExplictCall){if(!ExplictCall){pm=this.GetPM();InputList=this.InputList}VFSPSPrepayIDCaptureInterface.VFSPSEnableNextButton(pm,InputList,"VFSPS Prepay IDDetails Applet2")}return VFSPSPrepaidIDDetails2}());return"SiebelAppFacade.VFSPSPrepaidIDDetails2"})};