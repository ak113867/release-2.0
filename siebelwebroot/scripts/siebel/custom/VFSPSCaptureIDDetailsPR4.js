if(typeof(SiebelAppFacade.VFSPSCaptureIDDetailsPR4)==="undefined"){var controls4;SiebelJS.Namespace("SiebelAppFacade.VFSPSCaptureIDDetailsPR4");define("siebel/custom/VFSPSCaptureIDDetailsPR4",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR4=(function(){function VFSPSCaptureIDDetailsPR4(pm){SiebelAppFacade.VFSPSCaptureIDDetailsPR4.superclass.constructor.call(this,pm);var sActiveView;this.InputList=["VFPointsPostpay","IdReferenceNumber","ExpiryDate"];this.GetPM().AttachPMBinding("FieldChanged",VFSPSCallEnableNextButton,{scope:this});SiebelApp.EventManager.cleanListners("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.cleanListners("VFSPSDatePickerField4",VFSPSDatePickerField,this);SiebelApp.EventManager.cleanListners("VFSPSLOADatePickerField4",VFSPSDateLOAPickerField,this);SiebelApp.EventManager.addListner("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.addListner("VFSPSDatePickerField4",VFSPSDatePickerField,this);SiebelApp.EventManager.addListner("VFSPSLOADatePickerField4",VFSPSDateLOAPickerField,this)}SiebelJS.Extend(VFSPSCaptureIDDetailsPR4,SiebelAppFacade.PhysicalRenderer);VFSPSCaptureIDDetailsPR4.prototype.ShowUI=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR4.superclass.ShowUI.call(this);sActiveView=SiebelApp.S_App.GetActiveView();var pm=this.GetPM();controls4=pm.Get("GetControls");VFTabletIntegrationConstants.SetConstants("VFSPSScanKeyName","OCRScanID");$("input[name='"+controls4["ExpiryDate"].GetInputName()+"']").after('<img id="VFSPSCaptureIDDetailsCalender4" class="VFSPSCaptureIDDetailsCalIcon4" src="images/VFSPScalendar-icon.png">');$("input[name='"+controls4["VFSPSLOADate"].GetInputName()+"']").after('<img id="VFSPSLOACaptureIDDetailsCalender4" class="VFSPSCaptureIDDetailsCalIcon2" src="images/VFSPScalendar-icon.png">')};VFSPSCaptureIDDetailsPR4.prototype.BindEvents=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR4.superclass.BindEvents.call(this);var appletName="VFSPS IDDetails Applet4";var pm=this.GetPM();var ExplictCall=true;var InputList=this.InputList;VFSPSIDCaptureInterface.VFSPSScannedIDType(sActiveView,appletName,pm,InputList);var appletId=pm.Get("GetFullId");$("#s_"+appletId+"_div").delegate(".VFSPSShowIDList","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSShowIDList()});$("#s_"+appletId+"_div").delegate(".VFSPSIDCaptureClearBtn","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSClearIDDetails()});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDCountryDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'COUNTRY' AND [List Of Values.Active] = 'Y'";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"Country Of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDStateDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'VF_ID_ISSUER' AND [List Of Values.Active] = 'Y";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"State of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSCaptureIDDetailsCalender4","click",{ctx:this},VFSPSCaptureIDDetailsCalender4);$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSLOACaptureIDDetailsCalender4","click",{ctx:this},VFSPSLOACaptureIDDetailsCalender4)};VFSPSCaptureIDDetailsPR4.prototype.EndLife=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR4.superclass.EndLife.call(this);$("#openModal").remove()};function VFSPSCaptureIDDetailsCalender4(e){var currentVal=$("input[name='"+controls4["ExpiryDate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC4","Expiry Date","Siebel",currentVal,"0:100","VFSPSDatePickerField4")}function VFSPSLOACaptureIDDetailsCalender4(e){var currentVal=$("input[name='"+controls2["VFSPSLOADate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC4","VF SPS LOA Date","Siebel",currentVal,"0:100","VFSPSLOADatePickerField4")}function VFSPSDatePickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet4");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var ExpireDate=$("input[name='"+controls["ExpiryDate"].GetInputName()+"']").val();ExpireDate=VFTabletNavigation.VFSPSGetSiebelDateFormat(ExpireDate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC4");Inputs.SetProperty("FieldName","Expiry Date");Inputs.SetProperty("FieldValue",ExpireDate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSDateLOAPickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet4");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var VFSPSLOADate=$("input[name='"+controls["VFSPSLOADate"].GetInputName()+"']").val();VFSPSLOADate=VFTabletNavigation.VFSPSGetSiebelDateFormat(VFSPSLOADate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC4");Inputs.SetProperty("FieldName","VF SPS LOA Date");Inputs.SetProperty("FieldValue",VFSPSLOADate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSCallEnableNextButton(pm,InputList,ExplictCall){if(!ExplictCall){pm=this.GetPM();InputList=this.InputList}VFSPSIDCaptureInterface.VFSPSEnableNextButton(pm,InputList,"VFSPS IDDetails Applet4")}return VFSPSCaptureIDDetailsPR4}());return"SiebelAppFacade.VFSPSCaptureIDDetailsPR4"})};