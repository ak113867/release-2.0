if(typeof(SiebelAppFacade.VFSPSPrepaidIDDetails1)==="undefined"){var controls2;SiebelJS.Namespace("SiebelAppFacade.VFSPSPrepaidIDDetails1");define("siebel/custom/VFSPSPrepaidIDDetails1",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSPSPrepaidIDDetails1=(function(){function VFSPSPrepaidIDDetails1(pm){SiebelAppFacade.VFSPSPrepaidIDDetails1.superclass.constructor.call(this,pm);var sActiveView;this.InputList=["VFPointsPostpay","IdReferenceNumber","ExpiryDate"];this.GetPM().AttachPMBinding("FieldChanged",VFSPSCallEnableNextButton,{scope:this});SiebelApp.EventManager.cleanListners("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.cleanListners("VFSPSDatePickerField1",VFSPSDatePickerField,this);SiebelApp.EventManager.addListner("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.addListner("VFSPSDatePickerField1",VFSPSDatePickerField,this)}SiebelJS.Extend(VFSPSPrepaidIDDetails1,SiebelAppFacade.PhysicalRenderer);VFSPSPrepaidIDDetails1.prototype.ShowUI=function(){SiebelAppFacade.VFSPSPrepaidIDDetails1.superclass.ShowUI.call(this);sActiveView=SiebelApp.S_App.GetActiveView();var pm=this.GetPM();controls2=pm.Get("GetControls");VFTabletIntegrationConstants.SetConstants("VFSPSScanKeyName","OCRScanID");$("input[name='"+controls2["ExpiryDate"].GetInputName()+"']").after('<img id="VFSPSCaptureIDDetailsCalender2" class="VFSPSCaptureIDDetailsCalIcon2" src="images/VFSPScalendar-icon.png">');setTimeout(function(){$(".applet-form-date").remove()},50)};VFSPSPrepaidIDDetails1.prototype.BindEvents=function(){SiebelAppFacade.VFSPSPrepaidIDDetails1.superclass.BindEvents.call(this);var appletName="VFSPS Prepay IDDetails Applet1";var pm=this.GetPM();var ExplictCall=true;var InputList=this.InputList;var appletId=pm.Get("GetFullId");VFSPSPrepayIDCaptureInterface.VFSPSScannedIDType(sActiveView,appletName,pm,InputList);$("#s_"+appletId+"_div").delegate(".VFSPSShowIDList","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSPrepayIDCaptureInterface.VFSPSShowIDList()});$("#s_"+appletId+"_div").delegate(".VFSPSIDCaptureClearBtn","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSPrepayIDCaptureInterface.VFSPSClearIDDetails()});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDCountryDropDown","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'COUNTRY' AND [List Of Values.Active] = 'Y'";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"Country Of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDStateDropDown","click",function(){VFSPSPrepayIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'VF_ID_ISSUER' AND [List Of Values.Active] = 'Y";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"State of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSCaptureIDDetailsCalender2","click",{ctx:this},VFSPSCaptureIDDetailsCalender2)};VFSPSPrepaidIDDetails1.prototype.EndLife=function(){SiebelAppFacade.VFSPSPrepaidIDDetails1.superclass.EndLife.call(this);$("#openModal").remove()};function VFSPSCaptureIDDetailsCalender2(e){var currentVal=$("input[name='"+controls2["ExpiryDate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC1","Expiry Date","Siebel",currentVal,"0:100","VFSPSDatePickerField1")}function VFSPSDatePickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS Prepay IDDetails Applet1");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var ExpireDate=$("input[name='"+controls["ExpiryDate"].GetInputName()+"']").val();ExpireDate=VFTabletNavigation.VFSPSGetSiebelDateFormat(ExpireDate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC1");Inputs.SetProperty("FieldName","Expiry Date");Inputs.SetProperty("FieldValue",ExpireDate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSCallEnableNextButton(pm,InputList,ExplictCall){if(!ExplictCall){pm=this.GetPM();InputList=this.InputList}VFSPSPrepayIDCaptureInterface.VFSPSEnableNextButton(pm,InputList,"VFSPS Prepay IDDetails Applet1")}return VFSPSPrepaidIDDetails1}());return"SiebelAppFacade.VFSPSPrepaidIDDetails1"})};