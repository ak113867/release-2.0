if(typeof(SiebelAppFacade.VFSPSCaptureIDDetailsPR3)==="undefined"){var controls3;SiebelJS.Namespace("SiebelAppFacade.VFSPSCaptureIDDetailsPR3");define("siebel/custom/VFSPSCaptureIDDetailsPR3",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR3=(function(){function VFSPSCaptureIDDetailsPR3(pm){SiebelAppFacade.VFSPSCaptureIDDetailsPR3.superclass.constructor.call(this,pm);var sActiveView;this.InputList=["VFPointsPostpay","IdReferenceNumber","ExpiryDate"];this.GetPM().AttachPMBinding("FieldChanged",VFSPSCallEnableNextButton,{scope:this});SiebelApp.EventManager.cleanListners("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.cleanListners("VFSPSDatePickerField3",VFSPSDatePickerField,this);SiebelApp.EventManager.cleanListners("VFSPSLOADatePickerField3",VFSPSDateLOAPickerField,this);SiebelApp.EventManager.addListner("VFSPSCallEnableNextButton",VFSPSCallEnableNextButton,this);SiebelApp.EventManager.addListner("VFSPSDatePickerField3",VFSPSDatePickerField,this);SiebelApp.EventManager.addListner("VFSPSLOADatePickerField3",VFSPSDateLOAPickerField,this)}SiebelJS.Extend(VFSPSCaptureIDDetailsPR3,SiebelAppFacade.PhysicalRenderer);VFSPSCaptureIDDetailsPR3.prototype.ShowUI=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR3.superclass.ShowUI.call(this);sActiveView=SiebelApp.S_App.GetActiveView();var pm=this.GetPM();controls3=pm.Get("GetControls");VFTabletIntegrationConstants.SetConstants("VFSPSScanKeyName","OCRScanID");$("input[name='"+controls3["ExpiryDate"].GetInputName()+"']").after('<img id="VFSPSCaptureIDDetailsCalender3" class="VFSPSCaptureIDDetailsCalIcon3" src="images/VFSPScalendar-icon.png">');$("input[name='"+controls3["VFSPSLOADate"].GetInputName()+"']").after('<img id="VFSPSLOACaptureIDDetailsCalender3" class="VFSPSCaptureIDDetailsCalIcon2" src="images/VFSPScalendar-icon.png">')};VFSPSCaptureIDDetailsPR3.prototype.BindEvents=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR3.superclass.BindEvents.call(this);var appletName="VFSPS IDDetails Applet3";var InputList=this.InputList;var ExplictCall=true;var pm=this.GetPM();var appletId=pm.Get("GetFullId");VFSPSIDCaptureInterface.VFSPSScannedIDType(sActiveView,appletName,pm,InputList);$("#s_"+appletId+"_div").delegate(".VFSPSShowIDList","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSShowIDList()});$("#s_"+appletId+"_div").delegate(".VFSPSIDCaptureClearBtn","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);VFSPSIDCaptureInterface.VFSPSClearIDDetails()});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDCountryDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'COUNTRY' AND [List Of Values.Active] = 'Y'";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"Country Of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSIDStateDropDown","click",function(){VFSPSIDCaptureInterface.GetIDCaptureBC(sActiveView,appletName,pm);var IDCaptureTBC=VFTabletIntegrationConstants.GetConstants("VFSPSIDCaptureTBC");var SearchString="[List Of Values.Type] = 'VF_ID_ISSUER' AND [List Of Values.Active] = 'Y";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(IDCaptureTBC,"State of Issue","LOV","",SearchString,"Siebel","")});$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSCaptureIDDetailsCalender3","click",{ctx:this},VFSPSCaptureIDDetailsCalender3);$("#s_"+pm.Get("GetFullId")+"_div").delegate("#VFSPSLOACaptureIDDetailsCalender3","click",{ctx:this},VFSPSLOACaptureIDDetailsCalender3)};VFSPSCaptureIDDetailsPR3.prototype.EndLife=function(){SiebelAppFacade.VFSPSCaptureIDDetailsPR3.superclass.EndLife.call(this);$("#openModal").remove()};function VFSPSCaptureIDDetailsCalender3(e){var currentVal=$("input[name='"+controls3["ExpiryDate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC3","Expiry Date","Siebel",currentVal,"0:100","VFSPSDatePickerField3")}function VFSPSLOACaptureIDDetailsCalender3(e){var currentVal=$("input[name='"+controls2["VFSPSLOADate"].GetInputName()+"']").val();VFSPSUdateUIFrameWork.ShowDatePicker("VFSPSIDDetailsTBC3","VF SPS LOA Date","Siebel",currentVal,"0:100","VFSPSLOADatePickerField3")}function VFSPSDatePickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet3");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var ExpireDate=$("input[name='"+controls["ExpiryDate"].GetInputName()+"']").val();ExpireDate=VFTabletNavigation.VFSPSGetSiebelDateFormat(ExpireDate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC3");Inputs.SetProperty("FieldName","Expiry Date");Inputs.SetProperty("FieldValue",ExpireDate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSDateLOAPickerField(){var App=SiebelApp.S_App.GetActiveView().GetApplet("VFSPS IDDetails Applet3");var pm=App.GetPModel();var pr=pm.GetRenderer();var InputList=pr.InputList;var controls=pm.Get("GetControls");var VFSPSLOADate=$("input[name='"+controls["VFSPSLOADate"].GetInputName()+"']").val();VFSPSLOADate=VFTabletNavigation.VFSPSGetSiebelDateFormat(VFSPSLOADate);var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName","VFSPSIDDetailsTBC3");Inputs.SetProperty("FieldName","VF SPS LOA Date");Inputs.SetProperty("FieldValue",VFSPSLOADate);Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{});VFSPSCallEnableNextButton(pm,InputList,true)}function VFSPSCallEnableNextButton(pm,InputList,ExplictCall){if(!ExplictCall){pm=this.GetPM();InputList=this.InputList}VFSPSIDCaptureInterface.VFSPSEnableNextButton(pm,InputList,"VFSPS IDDetails Applet3")}return VFSPSCaptureIDDetailsPR3}());return"SiebelAppFacade.VFSPSCaptureIDDetailsPR3"})};