if(typeof(VFSPSUdateUIFrameWork)==="undefined"){var VFSPSUdateUIFrameWork={};VFSPSUdateUIFrameWork.RemoveColonsFromLabels=function(LabelArray){for(var i=0;i<LabelArray.length;i++){var x=$("#"+LabelArray[i]).parent().html();if(x.indexOf(">:<")!=-1){$("#"+LabelArray[i]).parent().html(x.replace(">:<",">&nbsp;<"))}else{if(x.indexOf(">:")!=-1){$("#"+LabelArray[i]).parent().html(x.replace(">:",">&nbsp;"))}}}};VFSPSUdateUIFrameWork.VFSPSShowPicklistValues=function(BC,FieldName,DataType,LOVType,SearchString,Type,FireEvent,IsToggleApplet){if($("#VFSPSOpenModalPicklist").length==0){$("body").append(VFSPSPickListTemplate())}$("#VFSPSOpenModalPicklist #VFSPSPicklist").html("");var PicklistVal;if(DataType=="LOV"){PicklistVal=VFCustomSiebelInterface.GetPickListValues(LOVType,SearchString)}else{PicklistVal=DataType}var PickListValLen=PicklistVal.length;if(PickListValLen){}else{return}$("#VFSPSOpenModalPicklist").removeClass("VFSPSDisplayNone").addClass("VFSPSDisplayBlock");$("#VFSPSOpenModalPicklist #VFSPSPicklist").html("");for(var i=0;i<PickListValLen;i++){var Template='<div class="VFSPSIDTypeLine VFSPSPickTypeLineSelect" Type="'+PicklistVal[i]+'">												<div class="VFSPSIDType">'+PicklistVal[i]+'</div>												<div class="VFSPSLineSpacePick"></div>												</div>';$("#VFSPSOpenModalPicklist #VFSPSPicklist").append(Template)}var options={"BC":BC,"FieldName":FieldName,"Type":Type,"FireEvent":FireEvent};$("#VFSPSOpenModalPicklist").undelegate();$("#VFSPSOpenModalPicklist").delegate(".VFSPSPickTypeLineSelect","click",{ctx:this,options:options,IsToggleApplet:IsToggleApplet},VFSPSSetPickFieldValue);$("#VFSPSOpenModalPicklist").delegate(".VFSPSPicklistClose","click",{ctx:this,options:options},VFSPSPicklistClose)};function VFSPSSetPickFieldValue(e){if(e.data.options.Type=="Siebel"){var BCName=e.data.options.BC;var FieldName=e.data.options.FieldName;var BO=SiebelApp.S_App.GetActiveBusObj();var BC=BO.GetBusCompByName(BCName);if(e.data.IsToggleApplet=="true"){BC.SetFieldValue(FieldName,$(this).attr("Type"))}else{var BS="VF SPS IDCaputre BS";var Method="SetDateFieldValues";var Inputs=SiebelApp.S_App.NewPropertySet();Inputs.SetProperty("BCName",BCName);Inputs.SetProperty("FieldName",FieldName);Inputs.SetProperty("FieldValue",$(this).attr("Type"));Outputs=VFCustomSiebelInterface.CallBS(BS,Method,Inputs,{})}}else{if(e.data.options.Type=="HTML"){$(e.data.options.BC).val($(this).attr("Type"))}}if(e.data.options.FireEvent!=""){SiebelApp.EventManager.fireEvent(e.data.options.FireEvent)}$("#VFSPSOpenModalPicklist").removeClass("VFSPSDisplayBlock").addClass("VFSPSDisplayNone")}function VFSPSPicklistClose(e){$("#VFSPSOpenModalPicklist").removeClass("VFSPSDisplayBlock").addClass("VFSPSDisplayNone")}function VFSPSPickListTemplate(){return('<div id = "VFSPSOpenModalPicklist" class = "VFSPSmodalDialogPicklist VFSPSDisplayNone">  										<div>  <div id="VFSPSPicklistParent"><div class="VFSPSPicklistClose"><span><img src="images/VFSPSCrossMark.png"></span></div>	 <div id = "VFSPSPicklist"> </div>  										</div>  </div>  </div> ')}VFSPSUdateUIFrameWork.VFSPSBlockUI=function(Message){$.blockUI({message:"<img src='images/VFSPSSpinner.gif'><p>Please wait..."+Message+"</p>"})};VFSPSUdateUIFrameWork.VFSPSUnblockUI=function(){$.unblockUI()};VFSPSUdateUIFrameWork.ShowDatePicker=function(BCName,FieldName,Type,CurrentVal,YearRange,FireEvent){var defaultdate=CurrentVal;if(!$("#VFSPSDatepickerAlert").length){$("body").append(VFSPSDatepickerTemplate())}$("#VFSPSDatePicker").datepicker("destroy").datepicker({changeMonth:true,changeYear:true,defaultDate:defaultdate,dateFormat:"dd/mm/yy",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],yearRange:"-100:+100",onSelect:function(dateText,inst){var dateAsString=dateText;if(Type=="Siebel"){var BO=SiebelApp.S_App.GetActiveBusObj();var BC=BO.GetBusCompByName(BCName);BC.SetFormattedValue(FieldName,dateAsString)}else{if(Type=="HTML"){$(FieldName).val(dateAsString)}}$(".VFSPSDatepickerDialog").removeClass("VFSPSDisplayBlock").addClass("VFSPSDisplayNone");if(FireEvent!=""){SiebelApp.EventManager.fireEvent(FireEvent)}}});VFSPSChangeDatepickerUI();YearRange=YearRange==""?":":YearRange;$("#VFSPSDatePicker").undelegate();$("#VFSPSDatePicker").delegate(".previmage,.nextimage","click",{ctx:this},VFSPSDatePickprevNextRecord);$("#VFSPSDatePicker").delegate("#monthclass","click",{ctx:this},VFSPSDatePickShowMonthDropdown);$("#VFSPSDatePicker").delegate("#yearclass","click",{ctx:this,"YearRange":YearRange},VFSPSDatePickShowYearDropdown);$(".VFSPSDatepickerDialog").addClass("VFSPSDisplayBlock").removeClass("VFSPSDisplayNone")};function VFSPSChangeDatepickerUI(){$(".ui-datepicker-title").children("select").hide();$(".ui-datepicker-prev").hide();$(".ui-datepicker-next").hide();var curMonthVal=$('select.ui-datepicker-month option[selected="selected"]').html();var curYrVal=$('select.ui-datepicker-year option[selected="selected"]').html();if($("#customDateheader").length!=1){$(".ui-datepicker-title").append('<div id="customDateheader" style="height:100px;"><img class="previmage" src="images/VFSPSDatePickLeftArrow.png" style="float: left;height:80%;												"><input id="monthclass" class="ui-datepicker-month" value="'+curMonthVal+'" style="border:0px;font-weight:bold;font-size:46px;width:35%;float:left;text-align:right;height:100px;cursor:pointer;" data-handler="selectMonth" data-event="change">												</input><input id="yearclass" class="ui-datepicker-year" style="border:0px;font-weight:bold;font-size:46px;width:35%;float:left;text-align:left;height:100px;padding-left:40px;cursor:pointer;" value="'+curYrVal+'" data-handler="selectYear" data-event="change"></input>												<img class="nextimage" src="images/VFSPSDatePickRightArrow.png" style="height:80%;float:right;"></div>');$("#yearclass").attr("readonly","readonly");$("#monthclass").attr("readonly","readonly")}}function VFSPSDatepickerTemplate(){return(' <div id = "VFSPSDatepickerAlert" class = "VFSPSDatepickerDialog VFSPSDisplayBlock"> <div id="VFSPSDatePicker"></div> 											 </div> ')}function VFSPSDatePickprevNextRecord(){if($(this).attr("class")=="previmage"){$(".ui-datepicker-header .ui-datepicker-prev").trigger("click")}else{if($(this).attr("class")=="nextimage"){$(".ui-datepicker-header .ui-datepicker-next").trigger("click")}}VFSPSChangeDatepickerUI();return}function VFSPSDatePickShowYearDropdown(e){var YearRange=e.data.YearRange;var RangeArray=YearRange.split(":");var selector="#yearclass";var yearArray=new Array();var d=new Date();var currentYear=d.getFullYear();var yr=currentYear-100;if(RangeArray.length==2){yr=RangeArray[0]!=""?currentYear-RangeArray[0]:yr;currentYear=RangeArray[1]!=""?Number(currentYear)+Number(RangeArray[1]):Number(currentYear)}for(var i=0,j=yr;j<=currentYear;i++,j++){yearArray[i]=j}VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(selector,"",yearArray,"","","HTML","VFSPSShowYear")}function VFSPSDatePickShowMonthDropdown(e){var pickarray=["January","February","March","April","May","June","July","August","September","October","November","December"];var selector="#monthclass";VFSPSUdateUIFrameWork.VFSPSShowPicklistValues(selector,"",pickarray,"","","HTML","VFSPSShowMonth")}SiebelApp.EventManager.addListner("VFSPSShowYear",VFSPSShowYear,this);SiebelApp.EventManager.addListner("VFSPSShowMonth",VFSPSShowMonth,this);function VFSPSShowMonth(){var val=$("#monthclass").val();var pickarray=["January","February","March","April","May","June","July","August","September","October","November","December"];var j=0;while(val!=j){if(pickarray[j]==val){val=j;break}else{j++}}$('select.ui-datepicker-month option[selected="selected"]').removeAttr("selected");$("select.ui-datepicker-month option[value="+val+"]").attr("selected","selected");$("select.ui-datepicker-month").trigger("change");VFSPSChangeDatepickerUI()}function VFSPSShowYear(){var val=$("#yearclass").val();$('select.ui-datepicker-year option[selected="selected"]').removeAttr("selected");$("select.ui-datepicker-year option[value="+val+"]").attr("selected","selected");$("select.ui-datepicker-year").trigger("change");VFSPSChangeDatepickerUI()}VFSPSUdateUIFrameWork.VFSPSShowContextualMessage=function(message){if(!$("#VFSPSContHelpModel").length){$("body").append(VFSPSContextMessageTemplate())}$("#VFSPSContHelpModel #VFSPSContHelpMessage").html("");$("#VFSPSContHelpModel #VFSPSContHelpMessage").html(message);$("#VFSPSContHelpModel").removeClass("VFSPSDisplayNone").addClass("VFSPSDisplayBlock");$("#VFSPSContHelpModel").undelegate();$("#VFSPSContHelpModel").delegate(".VFSPSContHelpDialogClose,.VFSPSContHelpModel","click",{},VFSPSContHelpClose);function VFSPSContHelpClose(e){$("#VFSPSContHelpModel").removeClass("VFSPSDisplayBlock").addClass("VFSPSDisplayNone")}};VFSPSUdateUIFrameWork.VFSPSSelectContextualMessage=function(val){var message;switch(val){case"EmploymentStatusInfo":message="Please select the appropriate employment type for your customer. Refer to the VHA									Credit Policy, available on Red Source, for full definitions of each employment type.";break;case"OccupationInfo":message="Please select the appropriate occupation type for your customer.									Refer to the VHA Credit Policy, available on Red Source, for full definitions and ID									requirements of each occupation type.";break;case"DeviceSharedInfo":message="Only tick this box if the device is being purchased as part of a shared plan";break;case"AssetPinInfo":message="This field has been pre-populated with the Account PIN previously chosen by the									customer. If the wish, they can select another Asset PIN unique to this prepaid service.";break;case"PortInPostpaidInfo":message="This is the billing account number with the customer's existing carrier.";break;case"PortInPrepaidInfo":message="This field has been pre-populated with the DOB previously provided by the customer.									Note that if the DOB entered here does not match the DOB on the customer's prepaid									service with their current carrier then the port in request may not complete successfully.";break;case"SharingFilterInfo":message="In progress services will show the primary services you've saved in this transaction.<br>				Provisioned services will show the existing primary services";break;case"SharingRemainingService":message="The count indicates how many secondary plans can still be added to the Primary account. 				An order that is pending won't appear until it is successfully submitted.";break;default:break}if(message!=""){VFSPSUdateUIFrameWork.VFSPSShowContextualMessage(message)}};VFSPSContextMessageTemplate=function(){return(' <div id = "VFSPSContHelpModel" class = "VFSPSContHelpModel VFSPSDisplayNone">  								 <div>  								 <span  title = "Close" class = "VFSPSContHelpDialogClose" ><img src="images/vfspsclose.jpg"></span>								 <div id="VFSPSContHelpParent">								 <center id = "VFSPSContHelpMessage"> 								 </center>  								 </div>  								 </div>  								 </div> ')}}(function(){var VFSPSCustomAlert=window.alert;window.alert=function(message){$("#VFSPSOpenModalAlert").remove();$("body").append(VFSPSAlertGetIDTemplate());$("#VFSPSOpenModalAlert #VFSPSAlertMessage").html("");$("#VFSPSOpenModalAlert #VFSPSAlertMessage").html(message);$("#VFSPSOpenModalAlert").removeClass("VFSPSDisplayNone").addClass("VFSPSDisplayBlock");VFSPSUdateUIFrameWork.VFSPSUnblockUI();$("#VFSPSOpenModalAlert").undelegate();$("#VFSPSOpenModalAlert").delegate(".VFSPSDialogClose,.VFSPSAlertOKBtn","click",{},function(e){$("#VFSPSOpenModalAlert").removeClass("VFSPSDisplayBlock").addClass("VFSPSDisplayNone")});console.log(message)};function VFSPSAlertGetIDTemplate(){return(' <div id = "VFSPSOpenModalAlert" class = "VFSPSmodalDialogAlert VFSPSDisplayNone">  								 <div>  								 <span  title = "Close" class = "VFSPSDialogClose" ><img src="images/vfspsclose.jpg"></span>  								 <h2 class="VFSPSAlertHeader"> System Alert </h2>  								 <div id="VFSPSAlertMessageParent">								 <div id = "VFSPSAlertMessage"> 								 </div>  								 </div>  								 <div class="VFSPSAlertOKBtn">OK</div>								 </div>  								 </div> ')}})();