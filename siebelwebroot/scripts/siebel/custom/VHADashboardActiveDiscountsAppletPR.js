if(typeof(SiebelAppFacade.VHADashboardActiveDiscountsAppletPR)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.VHADashboardActiveDiscountsAppletPR");define("siebel/custom/VHADashboardActiveDiscountsAppletPR",["order!siebel/jqgridrenderer"],function(){SiebelAppFacade.VHADashboardActiveDiscountsAppletPR=(function(){function VHADashboardActiveDiscountsAppletPR(pm){SiebelAppFacade.VHADashboardActiveDiscountsAppletPR.superclass.constructor.call(this,pm)}SiebelJS.Extend(VHADashboardActiveDiscountsAppletPR,SiebelAppFacade.JQGridRenderer);VHADashboardActiveDiscountsAppletPR.prototype.ShowUI=function(){SiebelAppFacade.VHADashboardActiveDiscountsAppletPR.superclass.ShowUI.call(this);var pm=this.GetPM();var AppletId=pm.Get("GetFullId");var parentDiv=$("#"+AppletId);parentDiv.addClass("VHAChangeWidth");var ElementChangeParent=$(".VHAChangeWidth");ElementChangeParent.addClass("VHAChangeWidth600px");ElementChangeParent.parent().addClass("VHAChangeWidth600px");ElementChangeParent.parent().parent().addClass("VHAChangeWidth600px");ElementChangeParent.parent().parent().parent().css("width","auto");$("#s_"+AppletId+"_div").addClass("VHAChangeWidth600px");$("#gview_VHADiscountsTable").addClass("VHAChangeWidth600px");$("#gbox_VHADiscountsTable").addClass("VHAChangeWidth600px");var GridView=$("#gview_VHADiscountsTable");GridView.children(".ui-jqgrid-hdiv").addClass("VHAChangeWidth600px");GridView.children(".ui-jqgrid-bdiv").addClass("VHAChangeWidth600px");var title=$(".VHAChangeWidth").parent().parent().siblings(".ui-dialog-titlebar");title.children().eq(0).addClass("PopupTitleStyle");if(!$("#popupline").length){title.after('<div id="popupline"><hr style="border-color:#D9000D"></div>')}title.children(".ui-button").children(".ui-icon-closethick").addClass("closebutton");$("#VHADiscountOffers .s-ico").hide();var recordSet=pm.Get("GetRecordSet");childcount=recordSet.length;var ArrayDAta=new Array();for(i=0;i<childcount;i++){var tempArray1=new Array();tempArray1["Discount End Date"]=recordSet[i]["Disc End Date"];tempArray1["Discount Name"]=recordSet[i]["Product Name"];ArrayDAta.push(tempArray1)}VHADashboardDiscountIC(ArrayDAta);$(".closebutton").on("click",function(){var appletName=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();if(appletName=="VHA Dashboard Active Discounts Popup Applet"){pm.ExecuteMethod("InvokeMethod","CloseApplet")}})};function VHADashboardDiscountIC(ArrayDAta){$("#VHADiscountsTable").jqGrid({datatype:"local",height:150,data:ArrayDAta,gridview:true,rowNum:5,pager:"#DiscountsPager",loadonce:true,viewrecords:true,columnsresize:true,colNames:["Discount Name","Discount End Date"],colModel:[{name:"Discount Name",index:"Discount Name",width:420},{name:"Discount End Date",index:"Discount End Date",width:160}]})}VHADashboardActiveDiscountsAppletPR.prototype.BindEvents=function(){SiebelAppFacade.VHADashboardActiveDiscountsAppletPR.superclass.BindEvents.call(this)};VHADashboardActiveDiscountsAppletPR.prototype.EndLife=function(){SiebelAppFacade.VHADashboardActiveDiscountsAppletPR.superclass.EndLife.call(this);$(".PopupTitleStyle").removeClass("PopupTitleStyle");$("#popupline").remove();$(".closebutton").removeClass("closebutton");$('div[name="popup"]').removeClass("VHAChangeWidth600px")};return VHADashboardActiveDiscountsAppletPR}());return"SiebelAppFacade.VHADashboardActiveDiscountsAppletPR"})};