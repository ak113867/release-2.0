if(typeof(SiebelAppFacade.VFSUINetworkPostButtonPR)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.VFSUINetworkPostButtonPR");define("siebel/custom/VFSUINetworkPostButtonPR",["order!siebel/phyrenderer"],function(){SiebelAppFacade.VFSUINetworkPostButtonPR=(function(){function VFSUINetworkPostButtonPR(pm){SiebelAppFacade.VFSUINetworkPostButtonPR.superclass.constructor.call(this,pm)}SiebelJS.Extend(VFSUINetworkPostButtonPR,SiebelAppFacade.PhysicalRenderer);VFSUINetworkPostButtonPR.prototype.ShowUI=function(){SiebelAppFacade.VFSUINetworkPostButtonPR.superclass.ShowUI.call(this);var sView=SiebelApp.S_App.GetActiveView().GetName();var sURL;setTimeout(function(){$('div[title="VFSUIButtons Form Applet"]').find(".appletButton").closest("td").css("padding-top","6px");$('div[title="VFSUIButtons Form Applet"]').find(".appletButton").closest("td").css("padding-left","4px");$('div[title="VFSUIButtons Form Applet"]').find(".appletButtonDis").closest("td").css("padding-left","4px");$('div[title="VFSUIButtons Form Applet"]').find(".appletButtonDis").closest("td").css("padding-top","6px")},5);var pm=this.GetPM();var recordSet=pm.Get("GetRecordSet");var sAssetId=recordSet[0].Id;var sbuttonclick;var url;$('button[title="VFSUIButtons:LSHS Tool"]').click(function(){sbuttonclick="Lost / Stolen Handset Tool";openExtLink(sbuttonclick)});$('button[title="VFSUIButtons:Webadmin Reset"]').click(function(){sbuttonclick="CSR Tool";openExtLink(sbuttonclick)});$('button[title="VFSUIButtons:Outages"]').click(function(){sbuttonclick="Network Outages";openExtLink(sbuttonclick)});$('button[title="VFSUIButtons:NI4CC"]').click(function(){sbuttonclick="LTE4CC - Traffica (via Citrix)";openExtLink(sbuttonclick)});$('button[title="VFSUIButtons:Coverage At Address"]').click(function(){var svc=SiebelApp.S_App.GetService("VF SUI GetPrimary Billing Address BS");var sInput=SiebelApp.S_App.NewPropertySet();var sOutput=SiebelApp.S_App.NewPropertySet();sInput.SetProperty("AssetId",sAssetId);var OutputRes=svc.InvokeMethod("GetPrimaryBAAddress",sInput);var resultSet=OutputRes.GetChild(0);var sStreetNum=resultSet.GetProperty("StreetNum");var sStreetName=resultSet.GetProperty("StreetName");var sStreetType=resultSet.GetProperty("StreetType");var sSuburb=resultSet.GetProperty("Suburb");var sState=resultSet.GetProperty("State");var sPostcode=resultSet.GetProperty("Postcode");sbtnclick="Mapshed";if(sbtnclick!=""){var svc=SiebelApp.S_App.GetService("VF SUI Get Button Link BS");var pInput=SiebelApp.S_App.NewPropertySet();var pOutput=SiebelApp.S_App.NewPropertySet();pInput.SetProperty("sbuttonclicked",sbtnclick);var pOutput=svc.InvokeMethod("GetButtonLink",pInput);var resultSet=pOutput.GetChild(0);url=resultSet.GetProperty("sUrl");url=url+"VHAMap/apps/contact-vf?"+"streetNumber="+sStreetNum+"&streetName="+sStreetName+"&streetType="+sStreetType+"&locality="+sSuburb+"&state="+sState+"&postcode="+sPostcode;var encURL=encodeURI(url);console.log(encURL);window.open(encURL,sbtnclick);url="";sbtnclick=""}});function openExtLink(sbuttonclick){var sbtnclick=sbuttonclick;if(sbtnclick!=""){var svc=SiebelApp.S_App.GetService("VF SUI Get Button Link BS");var pInput=SiebelApp.S_App.NewPropertySet();var pOutput=SiebelApp.S_App.NewPropertySet();pInput.SetProperty("sbuttonclicked",sbtnclick);var pOutput=svc.InvokeMethod("GetButtonLink",pInput);var resultSet=pOutput.GetChild(0);url=resultSet.GetProperty("sUrl");console.log(url);window.open(url,sbtnclick);url="";sbuttonclick=""}}};return VFSUINetworkPostButtonPR}());return"SiebelAppFacade.VFSUINetworkPostButtonPR"})};