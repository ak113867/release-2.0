/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
typeof SiebelAppFacade.ProductSelectionPresentationModel=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ProductSelectionPresentationModel"),typeof SiebelApp!="undefined"&&typeof SiebelApp.S_App!="undefined"&&typeof SiebelApp.Constants!="undefined"&&SiebelApp.S_App.RegisterConstructorAgainstKey(SiebelApp.Constants.get("SWE_UIDEF_CATALOG_APPLET_PMODEL"),"SiebelAppFacade.ProductSelectionPresentationModel"),SiebelAppFacade.ProductSelectionPresentationModel=function(){function n(e){SiebelAppFacade.ProductSelectionPresentationModel.superclass.constructor.call(this,e),this.IsMultiSelect=function(){return this.Get("MltSelHTMLIdsToRowDefsMap").length>0},this.CleanInternalStructs=function(){this.SetProperty("MltSelHTMLIdsToRowDefsMap",[]),this.SetProperty("RowIdsToFieldDefsMap",[])}}function r(e){var t=e.EnumChildren(!0);if(t!==null)do{var n=t.GetType();switch(n){case"AppletJS":var r=t.GetProperty("JS_OBJ_1");this.Get("JsStatements").push(r);break;case"AppletRowData":this.ProcessRowFieldsData(t);break;case"SpanInnerHTML":var i=t.GetProperty("HTML_SRC"),s=t.GetProperty("HTML_SPAN_ID");this.SetProperty("SpanInnerHTML",i),this.SetProperty("SpanId",s);break;default:}}while(t=e.EnumChildren(!1))}function i(e,t){var n,r="",i;n=CCFMiscUtil_CreatePropSet(),n.SetProperty("SWEReqRowId","0"),n.SetProperty("SWERowId",t),i=this.GetFieldDefs(t);if(i===null)return!1;for(var s in i){var o=$("input[name="+s+"]"),u=typeof o=="undefined"?null:o.attr("value");if(u===null)return!1;n.SetProperty(s,u)}this.ExecuteMethod("InvokeMethod",e,n,!0)}function s(e,t){var n=CCFMiscUtil_CreatePropSet();n.SetProperty("SWEReqRowId","0"),n.SetProperty("FieldValue",t),this.ExecuteMethod("InvokeMethod",e,n,!0)}function o(e,t,n,r){var i=e,s=!1,o;i==="PositionOnRow"&&(s=!0),this.IsMultiSelect()?o=this.PostMultiSelectChanges():t==="True"&&(o=this.PostChangesOnRow(r,n,s))}var e=SiebelJS.Dependency("SiebelAppFacade.FacadeConstants"),t=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(n,SiebelAppFacade.ListPresentationModel),n.prototype.Init=function(){SiebelAppFacade.ProductSelectionPresentationModel.superclass.Init.call(this),this.AddProperty("JsStatements",[]),this.AddProperty("PopulateNeeded",!0),this.AddProperty("SpanId",""),this.AddProperty("SpanInnerHTML",""),this.AddProperty("MltSelHTMLIdsToRowDefsMap",[]),this.AddProperty("RowIdsToFieldDefsMap",[]),this.AddMethod("EventInvokeMethod",i),this.AddMethod("EventOnChangeSelectTag",s),this.AddMethod("EventPreInvoke",o),this.AddMethod("CanNavigate",function(e){return!1},{scope:this,override:!0,core:!1}),this.AttachNotificationHandler(t.get("SWE_PROP_BC_NOTI_GENERIC"),function(e){var n=e.GetProperty("type");switch(n){case"RefreshAppletJS":break;case"RefreshRowFieldDefs":var r=e.GetProperty(t.get("SWE_PROP_ARGS_ARRAY")),i=[];r&&CCFMiscUtil_StringToArray(r,i);var s=CCFMiscUtil_CreatePropSet();s.DecodeFromString(i[0]),this.ProcessRowFieldsData(s);break;case"RefreshSpanInnerHTML":var r=e.GetProperty(t.get("SWE_PROP_ARGS_ARRAY")),i=[];r&&CCFMiscUtil_StringToArray(r,i),this.SetProperty("SpanInnerHTML",i[0]),this.SetProperty("PopulateNeeded",!0),this.Populate();break;default:}})},n.prototype.Setup=function(e){SiebelAppFacade.ProductSelectionPresentationModel.superclass.Setup.call(this,e);var n=e.EnumChildren(!0);do if(n.GetType()===t.get("SWE_PST_CNTRL_LIST")){var i=n.EnumChildren(!0);do if(i.GetType()===t.get("SWE_PST_CUSTOM_CTRL")){r.call(this,i.GetChild(0));break}while(i=n.EnumChildren(!1));break}while(n=e.EnumChildren(!1))},n.prototype.Show=function(){SiebelAppFacade.ProductSelectionPresentationModel.superclass.Show.call(this),this.SetProperty("PopulateNeeded",!0),this.Populate()},n.prototype.AddMltSelRowDef=function(e,t,n){var r=this.Get("MltSelHTMLIdsToRowDefsMap");r[e]!==null&&typeof r[e]!="undefined"&&(delete r[e],r.length--),r[e]=[],r.length++,r[e].RowId=t,r[e].RowIndex=n},n.prototype.AddFieldDef=function(e,t,n){var r=this.Get("RowIdsToFieldDefsMap");if(r[e]===null||typeof r[e]=="undefined"){var i=[];r[e]=i,r.length++}r[e][t]=n},n.prototype.GetFieldDefs=function(e){var t=this.Get("RowIdsToFieldDefsMap")[e];return t===null||typeof t=="undefined"?null:t},n.prototype.Populate=function(){this.Get("PopulateNeeded")&&(this.SetJsObjects(),this.SetSpanInnerHTML(),this.SetProperty("PopulateNeeded",!1),this.SetProperty("JsStatements",[]))},n.prototype.PostChangesOnRow=function(e,t,n){var r=this.ExecuteMethod("GetBusComp"),i="PositionOnRow000",s,o,u={};o=this.GetFieldDefs(t);if(o)for(var a in o){var f=o[a],l=$("#"+f).attr("value");if(l===null)return!1;u[a]=l}s=CCFMiscUtil_CreatePropSet(),s.SetProperty("SWEReqRowId","1"),s.SetProperty("SWER",e),s.SetProperty("SWERowId",t),n&&s.SetProperty("NeedToRefresh","Y"),this.ExecuteMethod("InvokeMethod",i,s,!0);if(o)for(var a in u){var l=u[a];r.SetFieldValue(a,l),r.GetNotifyObject().NotifyNewFieldData(a)}return!0},n.prototype.PostMultiSelectChanges=function(){var e=this.ExecuteMethod("GetBusComp"),n=!1,r=CCFMiscUtil_CreatePropSet(),i=this.Get("MltSelHTMLIdsToRowDefsMap"),s=!0,o="",u,a,f={};for(var l in i){var c=i[l];u==0;var h=$("#"+l);typeof h!="undefined"&&h.attr("type")==="checkbox"&&(u=h.attr("checked")==="checked"?!0:!1);if(!u)continue;f={},a=this.GetFieldDefs(c.RowId);if(a!==null&typeof a!="undefined")for(var p in a){var l=a[p],d=$("#"+l).attr("value");f[p]=d}o="PositionOnRow",o+=s?"000":"100",r.Reset(),r.SetProperty(t.get("SWE_METHOD_STR"),o),r.SetProperty(t.get("SWE_VIEW_ID_STR"),""),r.SetProperty(t.get("SWE_ROW_STR"),c.RowIndex),r.SetProperty(t.get("SWE_REQ_ROW_ID_STR"),"1"),r.SetProperty(t.get("SWE_ROW_ID_STR"),c.RowId),n=this.ExecuteMethod("InvokeMethod",o,r),s&&(s=!1,o="PositionOnRow",o+=s?"000":"100",r.Reset(),r.SetProperty(t.get("SWE_METHOD_STR"),o),r.SetProperty(t.get("SWE_VIEW_ID_STR"),""),r.SetProperty(t.get("SWE_ROW_STR"),c.RowIndex),r.SetProperty(t.get("SWE_REQ_ROW_ID_STR"),"1"),r.SetProperty(t.get("SWE_ROW_ID_STR"),c.RowId),n=this.ExecuteMethod("InvokeMethod",o,r));if(a!==null&typeof a!="undefined")for(var p in f){var d=f[p
];e.SetFieldValue(p,d),e.GetNotifyObject().NotifyNewFieldData(p)}}s&&(r.Reset(),o="PositionOnRow000",r.SetProperty(t.get("SWE_METHOD_STR"),o),n=this.ExecuteMethod("InvokeMethod",o,r)),this.ExecuteMethod("InvokeMethod","WriteRecord",CCFMiscUtil_CreatePropSet())},n.prototype.ProcessRowFieldsData=function(e){for(var t=0;t<e.GetChildCount();t++){var n=e.GetChild(t);if(n.GetType()==="RowFields"){var r=n.GetProperty("row_id");for(var i=0;i<n.GetChildCount();i++){var s=n.GetChild(i);if(s.GetType()==="RowFields"){var o=s.GetProperty("name"),u=s.GetProperty("html_id"),a=s.GetProperty("CheckBoxRowIndex"),f=s.GetProperty("type");f==="MultiSelectCheckbox"?this.AddMltSelRowDef(u,r,a):this.AddFieldDef(r,o,u)}}}}},n.prototype.SetJsObjects=function(){},n.prototype.SetSpanInnerHTML=function(){var e=this.Get("SpanInnerHTML"),t=document.getElementById(this.Get("SpanId"));try{t.innerHTML=e}catch(n){console.log("PRODSEL_DEBUG::ERROR::"+n)}},n}());
