/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2024
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 24.2.0.0SIA[2024_02] */
(function(){function e(){var e=SiebelJS.Dependency("SiebelApp.Utils").IsTrue(SiebelApp.S_App.IsAutoOn());e&&$(".siebui-toolbar-composerconfig").find("a").data("data-autom-parent","SiebScreenTabs");var t=SiebelApp.S_App.GetService("Web Engine Client Preferences"),n=SiebelApp.S_App.NewPropertySet(),r;if(t){var i={};i.async=!0,i.dic=!0,i.cb=function(){r=arguments[2].childArray[0].propArray;var t=r.ContextWSStatus.trim(),n=r.ActiveWSStatus.trim(),i={wsName:r.ContextWSName.split(":"),wsVer:r.ContextWSVersion.split(":"),wsStatus:t.split(":")},s=$(".siebui-active-ws");s.length===0&&($(".siebui-btn-grp-banner").length?$(".siebui-toolbar-composerconfig").before($('<div id="wsui_name" class="siebui-active-ws"></div>')):$(".siebui-toolbar-composerconfig").after($('<div id="wsui_name" class="siebui-active-ws"></div>')),s=$(".siebui-active-ws")),s.find(".siebui-wsui-ctx-bar").length===0&&s.prepend($('<ul class="siebui-wsui-ctx-bar"></ul>')),ctxbar=s.find(".siebui-wsui-ctx-bar"),ctxbar.html('<li class="siebui-wsui-ctx-wsname"><span class="siebui-label">'+i.wsName[0]+":"+'</span> <span class="siebui-value" title="'+$.trim(i.wsName[1])+'">'+$.trim(i.wsName[1])+"</span>"+'</li><li class ="siebui-wsui-ctx-wsver">'+'<span class="siebui-label">'+i.wsVer[0]+":"+'</span> <span class="siebui-value" title="'+$.trim(i.wsName[1])+'">'+$.trim(i.wsVer[1])+"</span>"+'</li><li class="siebui-wsui-ctx-wsstatus">'+'<span class="siebui-label">'+i.wsStatus[0]+":"+'</span> <span class="siebui-value">'+i.wsStatus[1]+"</span>"+"</li>"),e&&(ctxbar.find(".siebui-wsui-ctx-wsname").attr({ot:"SiebToolBarItem",rn:"SiebActiveWSName",un:$.trim(i.wsName[1]),title:$.trim(i.wsName[1])}),ctxbar.find(".siebui-wsui-ctx-wsver").attr({ot:"SiebToolBarItem",rn:"SiebActiveWSVersion",un:$.trim(i.wsVer[1]),title:$.trim(i.wsVer[1])})),n==="Submitted for Delivery"||n==="Delivery Failed"?statusToolbarClass="siebui-wsui-ctx-toolbar-"+n.toLowerCase().replace(/\s/g,"-"):t==="Writable"||t==="Status: Writable"?statusToolbarClass="siebui-wsui-ctx-toolbar-writable":statusToolbarClass="siebui-wsui-ctx-toolbar-read-only",statusContextClass="siebui-wsui-"+n.toLowerCase().replace(/\s/g,"-"),ctxbar.attr("class","siebui-wsui-ctx-bar").addClass(statusContextClass),s=null,ctxbar=null},t.InvokeMethod("GetActiveWSContext",n,i)}}SiebelApp.EventManager.addListner("AppInit",e,this)})(),typeof SiebelAppFacade.WTTemplateFactory=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WTTemplateFactory"),SiebelAppFacade.WTTemplateFactory=function(){function n(){}function r(e,t,n){var r=Math.round(t/5),i=Math.round(t/4),s=Math.round(t/3),o=Math.round(t/2),u=t-s,a=t-i,f=t-r,l=Math.round(n/4),c=Math.round(n/2),h=[],p=[],d,v,m,g={};switch(e){case"TASK":case"SIEBEL_OPER":case"SUB_PROCESS":h[0]={x:0,y:0},h[1]={x:t,y:0},h[2]={x:t,y:n},h[3]={x:0,y:n},e==="SIEBEL_OPER"?(p[0]={x1:r,y1:0,x2:r,y2:n},p[1]={x1:0,y1:l,x2:t,y2:l}):e==="SUB_PROCESS"&&(p[0]={x1:r,y1:0,x2:r,y2:n},p[1]={x1:f,y1:0,x2:f,y2:n});break;case"START":h[0]={x:i,y:0},h[1]={x:t,y:0},h[2]={x:a,y:n},h[3]={x:0,y:n},m=Math.round(i/2);break;case"DECISION_POINT":h[0]={x:o,y:0},h[1]={x:t,y:c},h[2]={x:o,y:n},h[3]={x:0,y:c};break;case"SUBTASK":case"TASK_INTERACT":h[0]={x:0,y:0},h[1]={x:t,y:0},h[2]={x:a,y:n},h[3]={x:i,y:n},e==="SUBTASK"&&(p[0]={x1:i,y1:0,x2:i,y2:n},p[1]={x1:a,y1:0,x2:a,y2:n}),m=Math.round(i/2);break;case"ERROR":h[0]={x:0,y:0},h[1]={x:t,y:0},h[2]={x:o,y:n},m=Math.round(o/2);break;case"END":case"COMMIT":case"ABORT":d=s,e==="COMMIT"?(p[0]={x1:s,y1:0,x2:s,y2:n},p[1]={x1:u,y1:0,x2:u,y2:n}):e==="ABORT"&&(p[0]={x1:u+3,y1:0,x2:s-3,y2:n});break;case"TASK_VIEW":v="M "+o+" 0 "+"Q 0,0 0,"+c+" "+"Q 0,"+n+" "+o+","+n+" "+"H "+f+" "+"Q "+t+","+n+" "+t+","+c+" "+"Q "+t+",0 "+f+",0 "+"Z";break;case"USER_INTERACT":v="M "+o+" 0 "+"Q 0,0 0,"+c+" "+"Q 0,"+n+" "+o+","+n+" "+"H "+t+" "+"L "+t+",0"+"Z";break;case"WAIT":v="M 0 0 V "+n+" "+"H "+o+" "+"Q "+t+","+n+" "+t+","+c+" "+"Q "+t+",0 "+o+",0 "+"Z";break;default:}var y="";for(var b=0;b<h.length;b++)y+=h[b].x+","+h[b].y,b!==h.length-1&&(y+=" ");return y!==""&&(g.points=y),p.length>0&&(g.lines=p),v!==undefined&&(g.d=v),d!==undefined&&(g.rx=d),m!==undefined&&(g.midpoint_x=m),g}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants");return n.prototype.GetTemplate=function(n,r){var i={},s=e.IsTrue(SiebelApp.S_App.IsAutoOn());switch(n){case"Web Control":i={CheckBox:"siebui-icon-ctrl-checkbox",RadioButton:"siebui-icon-ctrl-radio-button",MiniButton:"siebui-icon-button-mini",Field:"siebui-icon-field",ComboBox:"siebui-icon-combo",RecNavNxt:"siebui-icon-ctrl-rec-nav-nxt",RecNavPrv:"siebui-icon-ctrl-rec-nav-prv",FieldLabel:"siebui-icon-field-label",Text:"siebui-icon-text",FormSection:"siebui-icon-form-section",Link:"siebui-icon-link",TextArea:"siebui-icon-textarea",Hidden:"siebui-icon-hidden",Password:"siebui-icon-password",Mailto:"siebui-icon-wc-mailto",Button:"siebui-icon-button",URL:"siebui-icon-ctrl-url",CustomControl:"siebui-icon-ctrl-custom",PositionOnRow:"siebui-icon-ctrl-position-on-row","Text List Column":"siebui-listitem-wc siebui-icon-text-column","CheckBox List Column":"siebui-listitem-wc siebui-icon-checkbox-column"};var o={PositionOnRow:"siebui-list-enabled","Text List Column":"siebui-list-enabled","CheckBox List Column":"siebui-list-enabled"},u=[],a;for(var f in i){var l=s?'rn="WebControl-'+f.replace(/ /g,"").toLowerCase()+'" ot="Link" ':"";a=$("<div id=web_control_"+f.replace(/ /g,"").toLowerCase()+" "+l+' class="siebui-ctrl-palette-item" title="'+f+'"><span class="siebui-ctrl-palette-icon '+i[f]+'"></span>'+f+"</div>"),i[f].indexOf("siebui-listitem")>-1?a.attr("data-val",f.substring(0,f.indexOf(" "))):a.attr("data-val",f),o[f]&&a.addClass(o[f]),u.push(a)}return u;case"WorkFlow":case"TaskFlow":if(r.PaletteItems===undefined){var c=r["Type LIC"],h=r.Name,p="";return c==="TASK_VIEW"?p="Task View":c==="SUBTASK"?p="Subtask Name":c==="SUB_PROCESS"&&(p="Subprocess Name"),p!==""&&(c==="TASK_VIEW"||c==="SUBTASK")&&(h=r[p]!==undefined?r[p]:""),$("<div id="+r["Shape Id"
]+' data-type="'+c+'" data-drilldown="'+p+'"><a href="javascript:void(0);" class="siebui-fb-node-text">'+h+"</a></div>")}var d=[],v,m;for(f in r.PaletteItems)r.PaletteItems.hasOwnProperty(f)&&(m="fb_palette_item_"+f.toLowerCase(),v=$("<div id="+m+' class="siebui-fb-palette-item">'+'<div class="siebui-fb-node-palette" data-type="'+f+'"></div>'+'<div class="siebui-fb-palette-item-label"><span>'+r.PaletteItems[f]+"</span></div>"+"</div>"),s&&v.attr(t.get("SWE_PROP_AUTOM_OT"),"Link").attr(t.get("SWE_PROP_AUTOM_RN"),m).attr(t.get("SWE_PROP_AUTOM_UN"),f),d.push(v));return d}},n.prototype.DrawGraphics=function(e){var t=this;e.each(function(){t.DrawGraphic($(this))})},n.prototype.DrawGraphic=function(e){var t=$(e).data("type");if(t===undefined||t==="")return;var n={START:"siebui-start",SIEBEL_OPER:"siebui-siebel-operation",TASK:"siebui-business-service",DECISION_POINT:"siebui-decision-point",END:"siebui-end",COMMIT:"siebui-commit",TASK_VIEW:"siebui-task-view",SUBTASK:"siebui-task",ERROR:"siebui-error",SUB_PROCESS:"siebui-sub-process",TASK_INTERACT:"siebui-task",USER_INTERACT:"siebui-user-interact",WAIT:"siebui-wait",ABORT:"siebui-stop"},i,s=e.width(),o=e.height(),u=n[t],a=r.call(this,t,s,o);switch(t){case"START":case"DECISION_POINT":case"ERROR":case"SUBTASK":case"TASK":case"SIEBEL_OPER":case"SUB_PROCESS":case"TASK_INTERACT":i='<polygon points="'+a.points+'" class="siebui-fb-node-graphic '+u+'"></polygon>';break;case"END":case"COMMIT":case"ABORT":i='<rect x="0" y="0" width="'+s+'" height="'+o+'" rx="'+a.rx+'" class="siebui-fb-node-graphic '+u+'"></rect>';break;case"TASK_VIEW":case"USER_INTERACT":case"WAIT":i='<path d="'+a.d+'" class ="siebui-fb-node-graphic '+u+'"></path>';break;default:}if(a.hasOwnProperty("lines"))for(var f=0;f<a.lines.length;f++)i+='<line x1="'+a.lines[f].x1+'" y1="'+a.lines[f].y1+'" x2="'+a.lines[f].x2+'" y2="'+a.lines[f].y2+'" class="siebui-fb-node-line '+u+'"></line>';i='<svg class="siebui-fb-node-svg">'+i+"</svg>",e.prepend(i),a.hasOwnProperty("midpoint_x")&&e.data("midpoint_x",a.midpoint_x)},new n}()),typeof SiebelAppFacade.ReposValidationPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ReposValidationPM"),define("siebel/reposvalidationpm",["siebel/listpmodel"],function(){return SiebelAppFacade.ReposValidationPM=function(){function f(){SiebelAppFacade.ReposValidationPM.superclass.constructor.apply(this,arguments)}function l(){this.Get("ResetSessionWarnTimerIntervalId")!==-1&&(SiebelJS.Debug("[ReposValidationPM] clearInterval: ResetSessionWarnTimer.  IntervalId = "+this.Get("ResetSessionWarnTimerIntervalId"),!0),clearInterval(this.Get("ResetSessionWarnTimerIntervalId")),this.SetProperty("ResetSessionWarnTimerIntervalId",-1),ResetSessionWarnTimer())}function c(e,t,n){n.GetProperty(r)===i&&(this.Get("IsValidating")&&this.SetProperty("IsValidating",!1),l.call(this))}function h(e,t,n){n.GetProperty(r)===i&&(this.Get("IsValidating")&&this.SetProperty("IsValidating",!1),l.call(this))}function p(t){SiebelJS.Debug("[ReposValidationPM] In OnInvokeStart.",!0),l.call(this),gSessionWarnTimeout!=0&&(this.SetProperty("ResetSessionWarnTimerIntervalId",setInterval(function(){SiebelJS.Debug("[ReposValidationPM] Invoking ResetSessionWarnTimer.  gSessWarnTime = "+gSessWarnTime,!0),ResetSessionWarnTimer()},gSessionWarnTimeout/2)),SiebelJS.Debug("[ReposValidationPM] setInterval: ResetSessionWarnTimer.  IntervalId = "+this.Get("ResetSessionWarnTimerIntervalId")+"; Interval = "+gSessionWarnTimeout/2,!0));var n=t[1];n.SetProperty("ObjectBCName",this.Get("ObjectBCName"));if(this.Get("ObjectBCName")==="Repository Workspace"){var r=t[t.length-1],i=$(".siebui-active-ws");if(!i||i.length!==1)return r&&r instanceof Object&&(r[s]=!0,r[o]=!0),!1;var a=i.find(".siebui-wsui-ctx-wsname .siebui-value").text(),f=i.find(".siebui-wsui-ctx-wsver .siebui-value").text(),c=parseInt(this.Get("WorkspaceVersion"),10);if(a!==this.Get("WorkspaceName")||f!==this.Get("WorkspaceVersion"))return r&&r instanceof Object&&(r[s]=!0,r[o]=!0),!1;if(c!==1&&!this.Get("IsOptionConfirmed"))return c>1?this.ExecuteMethod("ConfirmWSValidationOption"):c===0&&e.Alert(u),r&&r instanceof Object&&(r[s]=!0,r[o]=!0),!1;n.SetProperty("WorkspaceName",this.Get("WorkspaceName")),n.SetProperty("WorkspaceVersion",this.Get("WorkspaceVersion")),n.SetProperty("AccumValidateFlag",this.Get("AccumValidateFlag")),this.SetProperty("IsOptionConfirmed",!1)}return this.SetProperty("IsValidating",!0),!0}function d(t){if(this.Get("IsValidating")){e.Alert(a),SiebelJS.Debug("Repository Validation is Cancelled.",!0),this.SetProperty("IsValidating",!1),l.call(this);var n=t[1];n.SetProperty("DeleteData","N")}else this.SetProperty("UIState","Close");return!0}function v(e){if($("#objectTreeFlatLink").hasClass("active")){var t=e[1];t.SetProperty("ObjectExplorerMode","Flat")}return!0}function m(e,t){var n=SiebelAppFacade.ComponentMgr.FindComponent({id:"WT Repository Validation Options List Applet"});if(n){var r=e[e.length-1];r&&r instanceof Object&&(r[s]=!0,r[o]=!0),setTimeout(function(){n.GetPM().ExecuteMethod(t)})}return!1}function g(e){var t=!0;switch(e){case"Start":t=p.call(this,arguments);break;case"Cancel":t=d.call(this,arguments);break;case"GoToObject":t=v.call(this,arguments);break;case"GetOptions":t=m.call(this,arguments,e)}return t}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=t.get("SWE_RPC_PROP_RETURN_STATUS"),i=t.get("SWE_RPC_PROP_STATUS_ERROR"),s=t.get("SWE_EXTN_CANCEL_ORIG_OP"),o=t.get("SWE_EXTN_STOP_PROP_OP"),u=n.GetLocalString("WT_VALIDATION_WS_VERSION_ZERO"),a=n.GetLocalString("WT_VALIDATION_CANCELLED_BY_USER");return SiebelJS.Extend(f,SiebelAppFacade.ListPresentationModel),f.prototype.Init=function(){SiebelAppFacade.ReposValidationPM.superclass.Init.apply(this,arguments),this.AddProperty("UIState","Close"),this.AddProperty("StartValidationMessage",""),this.AddProperty("IsValidating",!1),this.AddProperty("ValidationStartTime",null),this.AddProperty("ObjectBCName"
,""),this.AddProperty("WorkspaceName",""),this.AddProperty("WorkspaceVersion",""),this.AddProperty("AccumValidateFlag","N"),this.AddProperty("IsOptionConfirmed",!1),this.AddProperty("ActiveViewName",""),this.AddProperty("InRefreshView",!1),this.AddProperty("ResetSessionWarnTimerIntervalId",-1),this.AddMethod("ConfirmWSValidationOption",function(){}),this.AddMethod("HandleValidationOutput",function(e){}),this.AddMethod("Cancel",function(){this.ExecuteMethod("InvokeMethod","Cancel"),this.Get("IsValidating")&&this.SetProperty("IsValidating",!1)}),this.AttachEventHandler(t.get("PHYEVENT_INVOKE_CONTROL"),g),this.AttachNotificationHandler(t.get("SWE_PROP_BC_NOTI_GENERIC"),function(n){var r=n.GetProperty("type");if(r==="NotifyValidation"){this.SetProperty("UIState","Open");var i=n.GetProperty(t.get("SWE_PROP_ARGS_ARRAY")),s=[],o=CCFMiscUtil_CreatePropSet(),u;i&&(CCFMiscUtil_StringToArray(i,s),s.length===1&&(o.DecodeFromString(s[0]),u=o.GetProperty("StartValidationMessage"),e.IsEmpty(u)||this.SetProperty("StartValidationMessage",u)))}else if(r==="ValidationMessage"){var a=n.propArray.ArgsArray;e.IsEmpty(a)||(a=a.substring(a.indexOf("*")+1),setTimeout(function(){e.Alert(a)}))}}),this.AttachPSHandler("ValidationOutput",function(e){SiebelJS.Debug("[ReposValidationPM] In ValidationOutput PSHandler.",!0);var t=this;this.ExecuteMethod("HandleValidationOutput",e);var n=e.GetProperty("Status"),r=n==="Begin"||n==="InProgress"?!0:!1;SiebelJS.Debug('[ReposValidationPM] ValidationOutput - Status = "'+n+'"',!0),r?setTimeout(function(){if(t.Get("IsValidating")){var n={async:!0,scope:this,npr:!0};n.errcb=function(){SiebelJS.Debug("[ReposValidationPM] In Continue Error Callback.",!0),t.SetProperty("IsValidating",!1),l.call(t)},e.SetProperty("ObjectBCName",t.Get("ObjectBCName")),t.Get("ObjectBCName")==="Repository Workspace"&&(e.SetProperty("WorkspaceName",t.Get("WorkspaceName")),e.SetProperty("WorkspaceVersion",t.Get("WorkspaceVersion")),e.SetProperty("AccumValidateFlag",t.Get("AccumValidateFlag"))),SiebelJS.Debug("[ReposValidationPM] ValidationOutput - InvokeMethod: Continue.",!0),t.ExecuteMethod("InvokeMethod","Continue",e,n)}else SiebelJS.Debug("[ReposValidationPM] ValidationOutput - Validation has stopped.",!0)},300):(this.Get("IsValidating")&&this.SetProperty("IsValidating",!1),l.call(this))}),this.AttachPostProxyExecuteBinding("Start",c),this.AttachPostProxyExecuteBinding("Continue",h)},f.prototype.Setup=function(e){SiebelAppFacade.ReposValidationPM.superclass.Setup.call(this,e)},f}(),"SiebelAppFacade.ReposValidationPM"})),typeof SiebelAppFacade.ReposValidationPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ReposValidationRenderer"),define("siebel/reposvalidationpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.ReposValidationPR=function(){function d(){SiebelAppFacade.ReposValidationPR.superclass.constructor.apply(this,arguments)}function v(){var n=this.GetPM(),r="",i,s=o.replace("%1",n.Get("WorkspaceName")).replace("%2",n.Get("WorkspaceVersion")),l=u,c=a,h=f;return r='<div class="siebui-ws-validate-label">'+s+"</div>",r+='<div class="siebui-ws-validate-label">'+l+"</div>",i="aria-labelledby='s_SelectedVersionId' name='validateChoice' checked='checked'",e.IsTrue(SiebelApp.S_App.IsAutoOn())&&(i+=" ot='JRadioButton' rn='SelectedVersion' un='SelectedVersion'"),r+='<div class="siebui-ws-validate-option">'+SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:t.get("SWE_CTRL_RADIO"),id:"SelectedVersionId",attrs:i,value:"SelectedVersion"}),r+='<label id="s_SelectedVerionId">'+c+"</label></div>",i="aria-labelledby='s_AccumVersionId' name='validateChoice'",e.IsTrue(SiebelApp.S_App.IsAutoOn())&&(i+=" ot='JRadioButton' rn='AccumVersion' un='AccumVersion'"),r+='<div class="siebui-ws-validate-option">'+SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:t.get("SWE_CTRL_RADIO"),id:"AccumVersionId",attrs:i,value:"AccumVersion"}),r+='<label id="s_AccumVersionId">'+h+"</label></div>",r}function m(){var t=this.GetPM(),n="siebui-ctrl-btn appletButton",s=function(){var n=$("input:radio[name=validateChoice]:checked").val();n==="SelectedVersion"?n="N":n==="AccumVersion"?n="Y":n="",$(this).dialog("close"),e.IsEmpty(n)||(t.SetProperty("AccumValidateFlag",n),t.SetProperty("IsOptionConfirmed",!0),$("#s_"+t.Get("GetFullId")+"_div").find(".siebui-icon-start-validation").trigger("click"))},o=[{"class":n,text:r,click:s},{"class":n,text:i,click:function(){$(this).dialog("close")}}];return o}function g(){var t="ValidateWSOption",r=v.call(this),i=m.call(this),o=$("#"+t);if(o.length===0){o=$('<div id="'+t+'"></div>').html(r).dialog({autoOpen:!1,title:s,modal:!0,height:"auto",width:"500px",resizable:!1,draggable:!1,buttons:i,close:function(){$(this).remove()}}),o.parent().find(".ui-dialog-titlebar-close").attr("title",n.GetLocalString("IDS_MSG_CLOSE"));if(e.IsTrue(SiebelApp.S_App.IsAutoOn())){o.parent(".ui-dialog").find("span.ui-dialog-title").attr({ot:p,rn:p,un:s+" "+p});var u=o.parent().find(".ui-icon-closethick");u.length>0&&u.attr({ot:h,rn:"ValidateWSClose",un:"ValidateWSClose"}),o.parent().attr("ot",c).attr("rn",s).attr("un",s);var a=o.siblings(".ui-dialog-buttonpane");a.find(":button").each(function(){$(this).attr({ot:h,rn:s+" "+$(this).text(),un:s+" "+$(this).text()})})}}o.dialog("open")}function y(){var e=this.GetPM(),t=SiebelApp.S_App.GetActiveView(),n=t.GetName(),r=SiebelApp.S_App.GetActiveView().GetActiveApplet();e.SetProperty("ActiveViewName",n);if(r!==null&&r.GetBusComp()!==null){var i=r.GetBusComp().GetName();switch(n){case"WSUI Dashboard View":i="Repository Workspace";var s=SiebelAppFacade.ComponentMgr.FindComponent({id:"WSUI Dashboard - All Workspaces List Applet"});if(s){var o=s.GetPM().Get("GetSelection"),u=s.GetPM().Get("GetRecordSet");if(o<u.length){var a=u[o]["Calc Name Status"],f=a.indexOf("(");f!==-1&&(a=a.substring(0,f),e.SetProperty("WorkspaceName",$.trim(a)))}}var l=SiebelAppFacade.ComponentMgr.FindComponent({id:"WSUI Dashboard - Versions Applet"});if(l){var c=l.GetPM().Get("GetSelection"
),h=l.GetPM().Get("GetRecordSet");if(c<h.length){var p=h[c]["Ver Num"];e.SetProperty("WorkspaceVersion",p)}}break;case"WT Repository Edit Workflow Process":case"WT Repository Edit Workflow Process - Alternate":case"WT Repository Workflow Process Simulation View":i="Repository Workflow Process";break;case"WT Repository Edit Task Flow View":case"WT Repository Edit Task Flow View - Alternate":i="Repository Task";break;default:}i!==e.Get("ObjectBCName")&&e.SetProperty("ObjectBCName",i)}}function b(){var t=this.GetPM(),n=$("#"+t.Get("GetFullId")),r=n.find("#validation_msg"),i=n.find("#validation_spinner"),s=t.Get("IsValidating");if(s)i.addClass("siebui-validation-spinner").removeClass("forcehide"),e.IsEmpty(t.Get("StartValidationMessage"))||r.text(t.Get("StartValidationMessage")),$("#validationcontainer").dialog("widget").before('<div id="ValidationOverlay" class="ui-widget-overlay ui-front"></div>'),SiebelJS.Log("Repository Validation - Started.",!0),t.SetProperty("ValidationStartTime",new Date);else{SiebelJS.Log("Repository Validation - Completed.",!0);if(t.Get("ValidationStartTime")!==null){var o=t.Get("ValidationStartTime");t.SetProperty("ValidationStartTime",null);var u=new Date,a=u.getTime()-o.getTime(),f=Math.floor(a/1e3);SiebelJS.Log("Validation Duration: "+Math.floor(f/60).toString().padStart(2,"0")+":"+(f%60).toString().padStart(2,"0")+"."+(a%1e3).toString().padStart(3,"0"),!0)}$("#validationcontainer").dialog("widget").prev("#ValidationOverlay").remove(),i.removeClass("siebui-validation-spinner").addClass("forcehide"),t.SetProperty("AccumValidateFlag","N")}}function w(e){var t=$("#"+this.GetPM().Get("GetFullId")),n=$("#validationcontainer"),r=e.GetProperty("dn"),i=e.GetProperty("Status");if(!n.dialog("isOpen"))return;var s=t.find("#validation_msg");s.length!==1&&(t.prepend('<div id="validation_msg" class="siebui-validation-msg"></div>'),s=t.find("#validation_msg")),t.find("#validation_msg").text(r)}function E(){var e=this.GetPM(),n=$("#validationcontainer");n.removeClass("forcehide"),n.dialog("option","position",{my:"center",at:"center",of:window}),n.dialog("option","height","auto"),n.dialog("open");var r=[20-n.outerWidth(),20,$("#_sweclient").width(),$("#_sweclient").height()];n.closest(".ui-dialog").draggable("option","containment",r),$(window).trigger("resize"),y.call(this),e.Get("IsActive")||e.OnControlEvent(t.get("PHYEVENT_APPLET_FOCUS"))}function S(){var e=this.GetPM(),t=$("#validationcontainer");t.dialog("isOpen")&&(t.addClass("forcehide"),t.dialog("close"),e.SetProperty("ActiveViewName",""))}function x(){var e=this.GetPM().Get("UIState");switch(e){case"Open":E.call(this);break;case"Close":S.call(this)}}function T(){var e=this.GetPM(),t=$("#validationcontainer");if(t.dialog("isOpen")){var n=e.Get("ActiveViewName"),r=SiebelApp.S_App.GetActiveView().GetName();if(r!==n){e.SetProperty("ActiveViewName",r);if(r!=="WSUI Dashboard View"){var i=e.Get("GetControls");i.hasOwnProperty("Start")&&(e.SetProperty("InRefreshView",!0),this.EnableControl(i.Start,!e.Get("IsValidating")&&N.call(this)),e.SetProperty("InRefreshView",!1))}}}}function N(){var e=!0,t=SiebelApp.S_App.GetActiveView().GetActiveApplet();return t&&(e=t.CanInvokeMethod("Validate"),SiebelJS.Debug('[ReposValidationPR] Active Applet: "'+t.GetName()+"; Can Validate: "+e,!0)),e}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=n.GetLocalString("WT_VALIDATION_LABEL_OK"),i=n.GetLocalString("WT_VALIDATION_LABEL_CANCEL"),s=n.GetLocalString("WT_WS_VALIDATION_OPTIONS"),o=n.GetLocalString("WT_VALIDATION_WS_CONFIRM_INFO"),u=n.GetLocalString("WT_VALIDATION_WS_CONFIRM_SELECT"),a=n.GetLocalString("WT_VALIDATION_WS_CONFIRM_OPTION1"),f=n.GetLocalString("WT_VALIDATION_WS_CONFIRM_OPTION2"),l=n.GetLocalString("WT_VALIDATION_LOAD_LOG_MSG"),c="SiebApplet",h="Button",p="popup";return SiebelJS.Extend(d,SiebelAppFacade.JQGridRenderer),d.prototype.Init=function(){SiebelAppFacade.ReposValidationPR.superclass.Init.apply(this,arguments),this.AttachPMBinding("UIState",x),this.AttachPMBinding("IsValidating",b),this.AttachPMBinding("HandleValidationOutput",w),this.AttachPMBinding("ConfirmWSValidationOption",g)},d.prototype.ShowUI=function(){SiebelAppFacade.ReposValidationPR.superclass.ShowUI.call(this);var t=this,r=this.GetPM(),i=$("#"+r.Get("GetFullId")),s=r.Get("GetAppletLabel"),o=r.Get("HTML Width");i.find(".siebui-icon-start").removeClass("siebui-icon-start").addClass("siebui-icon-start-validation"),i.find(".siebui-ctrl-file").attr("accept",".log");var u=$("#validationcontainer");if(u.length===1){u.dialog({autoOpen:!1,closeOnEscape:!1,title:s,modal:!1,height:"auto",width:e.IsEmpty(o)?"720px":o,resizable:!0,draggable:!0,position:{my:"center",at:"center",of:window},appendTo:"#ReposValiContainer",beforeClose:function(e,t){if(r.Get("IsValidating"))return i.find(".siebui-ctrl-btn.siebui-icon-cancel").trigger("click"),!1;r.ExecuteMethod("Cancel")},close:function(){var e=i.find("#validation_msg");e.length===1&&e.text("");var t=i.find(".siebui-ctrl-file");t.length===1&&t.val(""),r.Get("IsValidating")&&r.SetProperty("IsValidating",!1),$("#validationcontainer").dialog("widget").prev("#ValidationOverlay").remove(),$("#validation_spinner").removeClass("siebui-validation-spinner").addClass("forcehide")}}),u.parent().find(".ui-dialog-titlebar-close").attr("title",n.GetLocalString("IDS_MSG_CLOSE")),i.find(".siebui-popup-action").prepend('<div id="validation_msg" class="siebui-validation-msg"></div>'),i.find(".siebui-popup-action").prepend('<div id="validation_spinner" class="forcehide"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>'),i.find(".siebui-validation-form").prepend('<div class="siebui-validation-section-title">'+l+"</div>");if(e.IsTrue(SiebelApp.S_App.IsAutoOn())){u.parent(".ui-dialog").find("span.ui-dialog-title").attr({ot:p,rn:p,un:s+" "+p});var a=u.parent().find(".ui-icon-closethick"
);a.length>0&&a.attr({ot:h,rn:"PopupClose",un:"PopupClose"})}}},d.prototype.EnableControl=function(e,t,n){var r=this.GetPM();!r.Get("InRefreshView")&&e.GetMethodName()==="Start"&&r.Get("ActiveViewName")!=="WSUI Dashboard View"&&(t=!r.Get("IsValidating")&&N.call(this)),SiebelAppFacade.ReposValidationPR.superclass.EnableControl.call(this,e,t,n)},d.prototype.BindEvents=function(){$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(e){y.call(e.data.ctx)}),SiebelAppFacade.ReposValidationPR.superclass.BindEvents.apply(this,arguments),SiebelApp.EventManager.addListner("refreshview",T,this)},d.prototype.EndLife=function(){SiebelApp.EventManager.removeListner("refreshview",T,this),SiebelAppFacade.ReposValidationPR.superclass.EndLife.call(this)},d}(),"SiebelAppFacade.ReposValidationPR"})),typeof SiebelAppFacade.ReposValiOptionPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ReposValiOptionPM"),define("siebel/reposvalioptionpm",["siebel/listpmodel"],function(){return SiebelAppFacade.ReposValiOptionPM=function(){function o(){SiebelAppFacade.ReposValiOptionPM.superclass.constructor.apply(this,arguments)}function u(e){e.propArray&&e.propArrayLen==2&&e.propArray.hasOwnProperty("IgnoreWarning")&&e.propArray.hasOwnProperty("MaxNumErrors")&&this.SetProperty("OptionArray",e.propArray)}function a(e,t,i){i.GetProperty(n)!==r&&this.SetProperty("UIState","Open")}function f(e,t,i){i.GetProperty(n)!==r&&this.SetProperty("UIState","Close")}function l(e,t){var n=SiebelAppFacade.ComponentMgr.FindComponent({id:"WT Repository Validation Advanced Options List Applet"});if(n){var r=e[e.length-1];r&&r instanceof Object&&(r[i]=!0,r[s]=!0),setTimeout(function(){n.GetPM().ExecuteMethod(t)})}return!1}function c(e){this.SetProperty("UIState","Close");var t=e[e.length-1];return t&&t instanceof Object&&(t[i]=!0,t[s]=!0),!1}function h(e){var t=!0;switch(e){case"GetAdvOptions":t=l.call(this,arguments,e);break;case"CancelOptions":case"CancelAdvOptions":t=c.call(this,arguments)}return t}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=t.get("SWE_RPC_PROP_RETURN_STATUS"),r=t.get("SWE_RPC_PROP_STATUS_ERROR"),i=t.get("SWE_EXTN_CANCEL_ORIG_OP"),s=t.get("SWE_EXTN_STOP_PROP_OP");return SiebelJS.Extend(o,SiebelAppFacade.ListPresentationModel),o.prototype.Init=function(){SiebelAppFacade.ReposValiOptionPM.superclass.Init.apply(this,arguments),this.AddProperty("IsAdvanced",this.GetObjName()==="WT Repository Validation Advanced Options List Applet"),this.AddProperty("UIState","Close"),this.AddMethod("GetOptions",function(){this.ExecuteMethod("InvokeMethod","GetOptions")}),this.AddMethod("GetAdvOptions",function(){this.ExecuteMethod("InvokeMethod","GetAdvOptions")}),this.AttachEventHandler(t.get("PHYEVENT_INVOKE_CONTROL"),h),this.AttachPostProxyExecuteBinding("GetOptions",a),this.AttachPostProxyExecuteBinding("GetAdvOptions",a),this.AttachPostProxyExecuteBinding("SaveOptions",f),this.AttachPostProxyExecuteBinding("SaveAdvOptions",f)},o.prototype.Setup=function(e){SiebelAppFacade.ReposValiOptionPM.superclass.Setup.call(this,e)},o}(),"SiebelAppFacade.ReposValiOptionPM"})),typeof SiebelAppFacade.ReposValiOptionPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ReposValiOptionRenderer"),define("siebel/reposvalioptionpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.ReposValiOptionPR=function(){function u(){SiebelAppFacade.ReposValiOptionPR.superclass.constructor.apply(this,arguments);var e="";this.SetContainerId=function(t){e=t},this.GetContainerId=function(){return e}}function a(){var e=this.GetPM(),t=$("#"+this.GetContainerId());t.removeClass("forcehide"),t.dialog("option","position",{my:"center",at:"center",of:window}),t.dialog("option","height","auto"),t.dialog("open"),$(window).trigger("resize")}function f(){var e=$("#"+this.GetContainerId());e.dialog("isOpen")&&(e.addClass("forcehide"),e.dialog("close"))}function l(){var e=this.GetPM().Get("UIState");switch(e){case"Open":a.call(this);break;case"Close":f.call(this)}}function c(){if(this.GetContainerId()!=="optionscontainer")return;var e=this.GetPM(),n=e.Get("GetControls").AbortAfterError,r=e.Get("GetControls").MaxNumErrors;if(n&&r){var i=this.GetUIWrapper(n).GetEl(),s=this.GetUIWrapper(r).GetEl();if(i&&i.length==1&&s&&s.length==1){var o=$(i).prop("checked"),u=this.GetUIWrapper(r).GetValue();!o&&u!==""&&(s.focus(),this.GetUIWrapper(r).SetValue(""),s.blur()),this.GetUIWrapper(r).SetState(t.get("EDITABLE"),o,0)}}}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=n.GetLocalString("WT_VALIDATION_OPTIONS_MSG"),i=n.GetLocalString("WT_VALIDATION_ADVANCED_OPTIONS_MSG"),s="Button",o="popup";return SiebelJS.Extend(u,SiebelAppFacade.JQGridRenderer),u.prototype.Init=function(){SiebelAppFacade.ReposValiOptionPR.superclass.Init.apply(this,arguments),this.AttachPMBinding("UIState",l)},u.prototype.ShowUI=function(){SiebelAppFacade.ReposValiOptionPR.superclass.ShowUI.call(this);var t=this.GetPM(),u=t.Get("GetAppletLabel"),a=t.Get("HTML Width");this.SetContainerId($("#"+t.Get("GetFullId")).parent().attr("id"));var f=$("#"+this.GetContainerId());if(f.length==1){f.dialog({autoOpen:!1,closeOnEscape:!1,title:u,modal:!0,height:"auto",width:e.IsEmpty(a)?"640px":a,resizable:!0,draggable:!0,position:{my:"center",at:"center",of:window},appendTo:"#ReposValiContainer"}),f.parent().find(".ui-dialog-titlebar-close").attr("title",n.GetLocalString("IDS_MSG_CLOSE"));var l=t.Get("IsAdvanced")?i:r;f.find(".siebui-popup-action").prepend('<span class="siebui-validation-msg">'+l+"</span>");if(e.IsTrue(SiebelApp.S_App.IsAutoOn())){f.parent(".ui-dialog").find("span.ui-dialog-title").attr({ot:o,rn:o,un:u+" "+o});var c=f.parent().find(".ui-icon-closethick");c.length>0&&c.attr({ot:s,rn:"PopupClose",un:"PopupClose"})}}},u.prototype.ShowSelection=function(e){SiebelAppFacade.ReposValiOptionPR.superclass.ShowSelection.call(this,e),c.call(this)},u.prototype
.BindControlEvents=function(e){SiebelAppFacade.ReposValiOptionPR.superclass.BindControlEvents.call(this,e);if(e.GetName()==="AbortAfterError"){var t=this.GetUIWrapper(e).GetEl();t&&t.length==1&&t.bind("change",{ctx:this},function(e){c.call(e.data.ctx)})}if(e.GetName()==="MaxNumErrors"){var t=this.GetUIWrapper(e).GetEl();t&&t.length==1&&t.bind("keypress",{ctx:this},function(e){(e.which<48||e.which>57)&&e.preventDefault()})}},u}(),"SiebelAppFacade.ReposValiOptionPR"})),typeof SiebelAppFacade.FlowBuilderCanvasViewPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlowBuilderCanvasViewPM"),define("siebel/fbcanvasviewpm",["siebel/viewpm"],function(){return SiebelAppFacade.FlowBuilderCanvasViewPM=function(){function n(){SiebelAppFacade.FlowBuilderCanvasViewPM.superclass.constructor.apply(this,arguments);var e={};this.SetPropAppletMap=function(t,n){e[t]=n},this.GetPropAppletMap=function(){return e};var t={};this.SetMVPWMap=function(e,n){t[e]=n},this.GetMVPWMap=function(){return t}}function r(n,r){var i="EditorPref/";this.Get("FlowType")==="TaskFlow"?i="Task"+i:this.Get("FlowType")==="WorkFlow"&&(i="Workflow"+i);var s=SiebelApp.S_App.GetService(t.get("SWE_OUI_CLIENT_PREF_SERVICE"));if(this.Get(i+n)!==r){if(!e.IsEmpty(s)){var o=SiebelApp.S_App.NewPropertySet();o.SetProperty(i+n,r),s.InvokeMethod("SetPreferences",o)}this.SetProperty("UserPref:"+n,r)}}function i(n){var r="EditorPref/";this.Get("FlowType")==="TaskFlow"?r="Task"+r:this.Get("FlowType")==="WorkFlow"&&(r="Workflow"+r);var i=SiebelApp.S_App.GetService(t.get("SWE_OUI_CLIENT_PREF_SERVICE"));if(!e.IsEmpty(i)){var s=SiebelApp.S_App.NewPropertySet(),o,u,a=n.length;for(u=0;u<a;u++)s.SetProperty(r+n[u],"");var f=this,l={async:!0,scope:this,cb:function(e,t,i){var s=i.GetChildByType("ResultSet");if(s)for(u=0;u<a;u++)f.SetProperty("UserPref:"+n[u],s.GetProperty(r+n[u]))}};i.InvokeMethod("GetPreferences",s,l)}}function s(t,n){this.GetPropAppletMap()[t]!==this.Get("ActivePropContext")&&this.SetProperty("ActivePropContext",this.GetPropAppletMap()[t]);var r=t;t==="Default"&&this.Get("FlowType")==="TaskFlow"&&this.Get("IsSubTask")&&(r+=":SUBTASK"),e.IsEmpty(n)||(r+=":"+n);var i=this.Get("ActiveMVPWContext");(r!==i||typeof this.GetMVPWMap()[i]!="undefined"&&this.GetMVPWMap()[i].length>0)&&this.SetProperty("ActiveMVPWContext",r)}function o(){return SiebelAppFacade.ComponentMgr.FindComponent({id:this.Get("ActivePropContext")})}function u(e){var t=$(".siebui-ide-mvpw-pane").data("ActiveTabIdentifier"),n=t.substring(t.lastIndexOf("_")+1),r=this.Get("ActiveMVPWContext"),i=this.GetMVPWMap()[r][n],s=SiebelAppFacade.ComponentMgr.FindComponent({id:i}).GetPM();if(e){var o=this.Get("ActiveMVPWTabId"),u=o.substring(o.lastIndexOf("_")+1),a=SiebelApp.S_App.GetActiveView().GetApplet(this.GetMVPWMap()[r][u]),f=a.GetPModel(),l=!1;f.Get("IsMVPWIOArg")&&f.Get("GetBusComp").IsCommitPending()&&(l=!0);if(l&&a.InvokeMethod("ImplicitCommit",CCFMiscUtil_CreatePropSet())!==!0||s.OnControlEvent(SiebelApp.Constants.get("PHYEVENT_APPLET_FOCUS"))!==!0){var c=$(".siebui-ide-mvpw-pane").find("[tab-identifier='tab-"+this.Get("ActiveMVPWTabId")+"' ]");c.length===1&&c.click();return}}this.SetProperty("ActiveMVPWTabId",t),!this.Get("DrillDown")&&s instanceof SiebelAppFacade.MVPWAppletPM&&s.ExecuteMethod("ActivateMVPW")}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(n,SiebelAppFacade.ViewPM),n.prototype.Init=function(){SiebelAppFacade.FlowBuilderCanvasViewPM.superclass.Init.apply(this,arguments),this.AddProperty("FlowType",""),this.AddProperty("DrillDown",!1),this.AddProperty("ActiveMVPWTabId",""),this.AddProperty("ActiveMVPWContext",""),this.AddProperty("ActivePropContext",""),this.AddProperty("ActivePropContextComp",o),this.AddProperty("UserPref:EditorPanesWidth","",{stateProp:!0}),this.AddProperty("UserPref:EditorPanesHeight","",{stateProp:!0}),this.AddProperty("UserPref:ObjectPaneClose","false",{stateProp:!0}),this.AddProperty("UserPref:ConfigPaneClose","false",{stateProp:!0}),this.AddProperty("UserPref:MvpwPaneClose","false",{stateProp:!0}),this.AddMethod("SetActiveState",s),this.AddMethod("SetEditorPreferences",r),this.AttachEventHandler("ActivateMVPWTab",function(e){u.call(this,e)})},n.prototype.Setup=function(n){SiebelAppFacade.FlowBuilderCanvasViewPM.superclass.Setup.call(this,n);var r,s;e.IsEmpty(n)||(r=n.GetChildByType(t.get("SWE_VIEW_PM_PS"))),e.IsEmpty(r)||(s=r.GetProperty("CanvasApplet")),e.IsEmpty(s)||this.SetProperty("CanvasApplet",s),i.call(this,["EditorPanesWidth","EditorPanesHeight"])},n}(),SiebelAppFacade.FlowBuilderCanvasViewPM})),typeof SiebelAppFacade.FlowBuilderCanvasViewPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlowBuilderCanvasViewPR"),define("siebel/fbcanvasviewpr",["siebel/viewpr"],function(){return SiebelAppFacade.FlowBuilderCanvasViewPR=function(){function v(){SiebelAppFacade.FlowBuilderCanvasViewPR.superclass.constructor.apply(this,arguments)}function m(){var e=this,t=$(".siebui-ide-property").children("div");t.length&&DOMUtils.Read(function(){DOMUtils.Write(function(){var n=e.GetPM();$(".siebui-ide-property").children("div").addClass("forcehide");var r=null;n.Get("ActivePropContext")!==""&&(r=$("#"+n.Get("ActivePropContextComp").Get("GetFullId")),r.removeClass("forcehide")),r=t=null})})}function g(){var e=this;DOMUtils.Read(function(){DOMUtils.Write(function(){var t=$(".siebui-ide-mvpw-pane");t.children("div").not(".siebui-wt-mvpw-header, .siebui-wt-mvpw-title").addClass("forcehide"),t.find(".siebui-panel-tab-cont").remove(),t.find(".siebui-panel-button").remove();var n=e.GetPM(),r=[],i=n.GetMVPWMap()[n.Get("ActiveMVPWContext")],s=f;$.each(i,function(e,t){var n=SiebelAppFacade.ComponentMgr.FindComponent({id:t});if(n){var i=$("#"+n.Get("GetFullId")),s=n.GetPM().Get("GetCaption"),o={ele:i,title:s,showOnClose:!1};r.push(o)}});if(r.length>0){var o={direction:"",parentEle:$(".siebui-ide-mvpw-pane"),contents:r};SiebelAppFacade.ContainerPanelManager.Init(o),n.OnControlEvent("ActivateMVPWTab"
,!1),s=l;var u=n.Get("ActivePropContextComp").GetPM().Get("GetRecordSet");u.length===1&&!SiebelApp.Utils.IsEmpty(u[0].Name)&&(s=c.replace("%1",u[0].Name));var h=n;$(".siebui-panel-icon",$(".siebui-ide-mvpw-pane .siebui-panel-tab-cont")).on("click.paneltab",{ctx:h},function(e){if($(this).hasClass("siebui-tab-active")){var t=$(".siebui-ide-mvpw-pane").data("ActiveTabIdentifier");t!==e.data.ctx.Get("ActiveMVPWTabId")&&e.data.ctx.OnControlEvent("ActivateMVPWTab",!0),$(".siebui-ide-mvpw-pane").scrollTop(0)}})}var p;t.find(".siebui-wt-mvpw-header").length===0&&(p='<div class="siebui-wt-mvpw-header"><span>'+a+"</span></div>"),t.find(".siebui-wt-mvpw-title").length===0&&(p+='<div class="siebui-wt-mvpw-title"><span>'+s+"</span></div>");if(!SiebelApp.Utils.IsEmpty(p))t.prepend(p);else{var d=t.find(".siebui-panel-tab-cont").detach();t.find(".siebui-wt-mvpw-title").after(d).find("span").html(s)}t=null})})}function y(e,t){var n=$(t.helper).find(".siebui-fb-node-palette");n.length===1&&(n.find("svg").remove(),SiebelAppFacade.WTTemplateFactory.DrawGraphic(n)),$(this).draggable("instance").offset.click={left:Math.floor(t.helper.width()/2),top:Math.floor(t.helper.height()/2)}}function b(){var e={containment:".siebui-ide",cursor:"context-menu",helper:"clone",start:y,revert:"invalid",zIndex:100};$(".siebui-fb-palette-item").draggable(e)}function w(){var e=this.GetPM(),n=e.Get("PaletteItemsMap");if(!t.IsEmpty(n)&&n.Set!==!0){var r=SiebelAppFacade.ComponentMgr.FindComponent({id:e.Get("CanvasApplet")}).GetPM(),i=r.Get("WF_STEP_TYPE_CD");if(!t.IsEmpty(i)){var s=n.PaletteItems;for(var o in s)s.hasOwnProperty(o)&&(s[o]=i[o])}n.Set=!0,e.SetProperty("PaletteItemsMap",n)}return n}function E(){function L(e,t){e.size.height=t.origHeight;var r=t.factor*(e.size.width-e.originalSize.width),i;e.size.width=t.origWidth+r;if(e.size.width<h)t.resizePane.hasClass("siebui-panel-open")&&(t.resizePane.data("isresize",!0),t.resizePane.find(".siebui-panel-button").click()),e.size.width=h,i=l-e.size.width-t.otherPaneWidth-N*2-2,i>p&&n.css("width",i+"px");else{t.resizePane.hasClass("siebui-panel-closed")&&(t.resizePane.data("isresize",!0),t.resizePane.find(".siebui-panel-button").click()),i=l-e.size.width-t.otherPaneWidth-N*2-2;if(i>p)n.css("width",i+"px");else{n.css("width",p+"px");var s=l-e.size.width-p-N*2-2;s>h?(t.otherPane.css("width",s+"px"),t.otherPaneWidth=s):(t.otherPane.hasClass("siebui-panel-open")&&(t.otherPane.data("isresize",!0),t.otherPane.find(".siebui-panel-button").click()),n.css("width",p+"px"),t.otherPane.css("width",h+"px"),t.otherPaneWidth=h,e.size.width=k)}}}function A(e,i){e.size.width=i.origWidth;var s=i.factor*(e.size.height-e.originalSize.height),o,u=i.origHeight+s,a=g-i.otherPaneHeight-N-5;u>a&&(u=a),e.size.height=u,e.size.height<d?(i.resizePane.hasClass("siebui-panel-open")&&(i.resizePane.data("isresize",!0),i.resizePane.find(".siebui-panel-button").click()),e.size.height=d):i.resizePane.hasClass("siebui-panel-closed")&&(i.resizePane.data("isresize",!0),i.resizePane.find(".siebui-panel-button").click()),o=g-e.size.height-i.otherPaneHeight-N,n.css("height",o+"px"),t.css("height",o+"px"),r.css("height",o+"px"),$(".siebui-resize-handle-e").css("height",o+"px"),$(".siebui-resize-handle-w").css("height",o+"px");var f=n.find(".siebui-applet-header").parent(),l=f[0]!==undefined?f[0].getBoundingClientRect().height:0;n.find(".siebui-fb-zoom").css("height",o-l+"px")}function O(){u=t[0].getBoundingClientRect().width,a=n[0].getBoundingClientRect().width,f=r[0].getBoundingClientRect().width;var e=(u/l*100).toFixed(2),i=(f/l*100).toFixed(2),s="calc("+(100-e-i).toFixed(2)+"% - "+N*2+"px)";C.GetPM().ExecuteMethod("SetEditorPreferences","EditorPanesWidth",""+e+"%:"+s+":"+i+"%"),x.call(C),o=null,t=null,n=null,r=null,SiebelApp.EventManager.fireEvent("forceResize")}function M(){c=n[0].getBoundingClientRect().height,v=i[0].getBoundingClientRect().height,m=s[0].getBoundingClientRect().height;var e=(v/g*100).toFixed(2),u="calc("+(100-e).toFixed(2)+"% - "+(N+m)+"px)";C.GetPM().ExecuteMethod("SetEditorPreferences","EditorPanesHeight",""+u+":"+e+"%"),i.css("width",""),o=null,t=null,n=null,r=null,i=null,SiebelApp.EventManager.fireEvent("forceResize")}var e='<div class="siebui-resize-handle"></div>',t,n,r,i,s,o,u,a,f,l,c,v,m,g,y,b,w,E,S=function(e,i){o=$(".siebui-ide"),t=o.find(".siebui-ide-object-pane"),n=o.find(".siebui-ide-canvas"),r=o.find(".siebui-ide-config-pane"),u=t[0]!==undefined?t[0].getBoundingClientRect().width:0,a=n[0]!==undefined?n[0].getBoundingClientRect().width:0,f=r[0]!==undefined?r[0].getBoundingClientRect().width:0,l=o[0]!==undefined?o[0].getBoundingClientRect().width:0,b=t[0]!==undefined?t[0].getBoundingClientRect().height:0,w=r[0]!==undefined?r[0].getBoundingClientRect().height:0,k=l-h-p-N*2},T=function(){o=$(".siebui-ide"),t=o.find(".siebui-ide-object-pane"),n=o.find(".siebui-ide-canvas"),r=o.find(".siebui-ide-config-pane"),i=o.find(".siebui-ide-mvpw-pane"),s=o.find(".siebui-ide-title-pane"),c=n[0]!==undefined?n[0].getBoundingClientRect().height:0,v=i[0]!==undefined?i[0].getBoundingClientRect().height:0,m=s[0]!==undefined?s[0].getBoundingClientRect().height:0,g=o[0]!==undefined?o[0].getBoundingClientRect().height:0,E=i[0]!==undefined?i[0].getBoundingClientRect().width:0},N,C=this,k;S.call(this),T.call(this),t.after($(e).addClass("siebui-resize-handle-e")),n.after($(e).addClass("siebui-resize-handle-w")),r.after($(e).addClass("siebui-resize-handle-n")),N=$(".siebui-resize-handle")[0]!==undefined?$(".siebui-resize-handle")[0].getBoundingClientRect().width:0,t.resizable({handles:{e:$(".siebui-resize-handle-e")},start:S,resize:function(e,n){var i={origHeight:b,factor:1,origWidth:u,resizePane:t,otherPane:r,otherPaneWidth:f};L.call(this,n,i),f=i.otherPaneWidth},minWidth:-1e5,stop:O}),r.resizable({handles:{w:$(".siebui-resize-handle-w")},start:S,resize:function(e,n){var i={origHeight:w,factor:-1,origWidth:f,resizePane:r,otherPane:t,otherPaneWidth:u};L.call(this,n,i),u=i.otherPaneWidth},minWidth:-1e5,stop:O}),i.resizable
({handles:{n:$(".siebui-resize-handle-n")},start:T,resize:function(e,t){var n={origWidth:E,factor:-1,origHeight:v,resizePane:i,otherPane:s,otherPaneHeight:m};A.call(this,t,n)},minHeight:-1e5,stop:M}),o=null,t=null,n=null,r=null,i=null,s=null}function S(){var e=this.GetPM().Get("UserPref:EditorPanesWidth",{getDiff:!0});if(e){var t=$(".siebui-ide");e=e.split(":"),t.find(".siebui-ide-object-pane").css("width",e[0]),t.find(".siebui-ide-canvas").css("width",e[1]),t.find(".siebui-ide-config-pane").css("width",e[2]),t=null}}function x(){var e=this.GetPM().Get("UserPref:EditorPanesHeight",{getDiff:!0});if(e){var t=$(".siebui-ide"),n=t.find(".siebui-ide-canvas"),r=n.find(".siebui-applet-header").parent(),i,s;e=e.split(":"),n.css("height",e[0]),t.find(".siebui-ide-object-pane").css("height",e[0]),t.find(".siebui-ide-config-pane").css("height",e[0]),t.find(".siebui-resize-handle-e").css("height",e[0]),t.find(".siebui-resize-handle-w").css("height",e[0]),t.find(".siebui-ide-mvpw-pane").css("height",e[1]),i=n[0]!==undefined?n[0].getBoundingClientRect().height:0,s=r[0]!==undefined?r[0].getBoundingClientRect().height:0,n.find(".siebui-fb-zoom").css("height",i-s+"px"),t=null,n=null,r=null}}function T(){if(this.GetPM().Get("PaneEventsBound")){var e,t,n,r=this.GetPM().Get("UserPref:ObjectPaneClose",{getDiff:!0});r!==null&&r!==""&&(e=r==="false",n=$(".siebui-ide-object-pane"),t=n.hasClass("siebui-panel-open"),(t&&!e||!t&&e)&&n.find(".siebui-panel-button").click());var i=this.GetPM().Get("UserPref:ConfigPaneClose",{getDiff:!0});i!==null&&i!==""&&(e=i==="false",n=$(".siebui-ide-config-pane"),t=n.hasClass("siebui-panel-open"),(t&&!e||!t&&e)&&n.find(".siebui-panel-button").click());var s=this.GetPM().Get("UserPref:MvpwPaneClose",{getDiff:!0});s!==null&&s!==""&&(e=s==="false",n=$(".siebui-ide-mvpw-pane"),t=n.hasClass("siebui-panel-open"),(t&&!e||!t&&e)&&n.find(".siebui-panel-button").click()),n=null}}function N(){$("#sidebarCloseButton").click()}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=n.GetLocalString("CLOSE"),i=n.GetLocalString("IDE_TAB_PROPERTIES"),s=n.GetLocalString("IDE_TAB_PALETTES"),o=n.GetLocalString("WT_TASK_PALETTE"),u=n.GetLocalString("WT_WORKFLOW_DESIGNER"),a=n.GetLocalString("WT_MULTI_VALUE_PROPERTY_WINDOW"),f=n.GetLocalString("WT_NO_ITEMS"),l=n.GetLocalString("WT_CHILDREN"),c=n.GetLocalString("WT_CHILDREN_OF"),h=5,p=200,d=5;return SiebelJS.Extend(v,SiebelAppFacade.ViewPR),v.prototype.Init=function(){SiebelAppFacade.FlowBuilderCanvasViewPR.superclass.Init.call(this);var n=$("<div class='siebui-restore-context' title=\""+r+'"></div>');t.IsTrue(SiebelApp.S_App.IsAutoOn())&&n.attr(e.get("SWE_PROP_AUTOM_OT"),"Link").attr(e.get("SWE_PROP_AUTOM_RN"),"ExitEditor").attr(e.get("SWE_PROP_AUTOM_UN"),"ExitEditor"),$("#_svf0").children("div").first().prepend(n),this.GetPM().SetProperty("EnableRestoreContext",!0),this.AttachPMBinding("ActivePropContext",m,{scope:this}),this.AttachPMBinding("ActiveMVPWContext",g,{scope:this}),this.AttachPMBinding("UserPref:EditorPanesWidth",S),this.AttachPMBinding("UserPref:EditorPanesHeight",x),this.AttachPMBinding("UserPref:ObjectPaneClose",T),this.AttachPMBinding("UserPref:ConfigPaneClose",T),this.AttachPMBinding("UserPref:MvpwPaneClose",T)},v.prototype.ManagePanel=function(){var n={direction:"right",parentEle:$(".siebui-ide-config-pane"),contents:[{ele:$(".siebui-ide-property").children("div").length>0?$(".siebui-ide-property"):null,title:i,showOnClose:!1,addClass:""}]};SiebelAppFacade.ContainerPanelManager.Init(n),$(".siebui-ide-object-pane").append("<div><div id='fbPalette' class='siebui-fb-palette ' title='"+s+"'></div></div>");var r=this.GetPM().Get("FlowType"),a=$(".siebui-fb-palette"),f=w.call(this);a.append(SiebelAppFacade.WTTemplateFactory.GetTemplate(r,f)),SiebelAppFacade.WTTemplateFactory.DrawGraphics($(a).find(".siebui-fb-node-palette")),t.IsTrue(SiebelApp.S_App.IsAutoOn())&&a.attr(e.get("SWE_PROP_AUTOM_OT"),"SiebApplet").attr(e.get("SWE_PROP_AUTOM_RN"),"FlowBuilderPalette").attr(e.get("SWE_PROP_AUTOM_UN"),"FlowBuilderPalette");var l={direction:"left",tabify:!0,parentEle:$(".siebui-ide-object-pane"),contents:[{ele:$(".siebui-fb-palette").parent(),title:s,showOnClose:!1,addClass:""}]};SiebelAppFacade.ContainerPanelManager.Init(l);var c=r==="TaskFlow"?o:u;a.before("<div class='siebui-applet-title'> "+c+" </div>"),a=null},v.prototype.ShowUI=function(){$(".siebui-ide").find(".siebui-ide-helper-pane").removeClass("siebui-ide-helper-pane").addClass("siebui-ide-mvpw-pane siebui-span-xl-12 siebui-span-lg-12 siebui-span-md-12"),SiebelAppFacade.FlowBuilderCanvasViewPR.superclass.ShowUI.apply(this,arguments),$("html").addClass("siebui-fb-editor"),this.ManagePanel(),S.call(this),x.call(this),E.call(this),m.call(this),g.call(this)},v.prototype.BindEvents=function(){SiebelAppFacade.FlowBuilderCanvasViewPR.superclass.BindEvents.apply(this,arguments);var e=!0,t=!0,n=this.GetPM();$(".siebui-ide-object-pane,.siebui-ide-config-pane,.siebui-ide-mvpw-pane").on("OnPanelChange",function(e){var t=$(this),r=t.hasClass("siebui-ide-object-pane"),i=t.hasClass("siebui-ide-config-pane"),s=t.hasClass("siebui-panel-open"),o="UserPref:"+(r?"ObjectPaneClose":i?"ConfigPaneClose":"MvpwPaneClose");n.ExecuteMethod("UpdateUIState",o,{stateValue:""+!s}),t.data("isresize",!1)}),n.SetProperty("PaneEventsBound",!0),T.call(this),b.call(this);var r=SiebelApp.S_App.PluginBuilder.GetHoByName("EventHelper");r&&(r.Manage($(".siebui-fb-palette-item"),"over",{ctx:this},function(){var e=$(".siebui-fb-palette").find(".siebui-fb-palette-item-highlight");e.length===0?$(this).addClass("siebui-fb-palette-item-highlight"):e.hasClass("ui-draggable-dragging")||(e.removeClass("siebui-fb-palette-item-highlight"),$(this).addClass("siebui-fb-palette-item-highlight")),e=null}),r.Manage($(window),"resize.FlowBuilderCanvasViewPR",{ctx:this},function(e){var t=$(".siebui-ide"),n=t.find(".siebui-ide-canvas"),r=n.find(".siebui-applet-header"
).parent(),i=n[0]!==undefined?n[0].getBoundingClientRect().height:0,s=r[0]!==undefined?r[0].getBoundingClientRect().height:0;n.find(".siebui-fb-zoom").css("height",i-s)})),SiebelApp.EventManager.addListner("postload",N,this)},v.prototype.EndLife=function(){SiebelApp.EventManager.removeListner("postload",N,this),$(window).unbind("resize.FlowBuilderCanvasViewPR"),$("#sidebarOpenButton").click(),$("html").removeClass("siebui-fb-editor"),SiebelAppFacade.FlowBuilderCanvasViewPR.superclass.EndLife.apply(this,arguments)},v}(),"SiebelAppFacade.FlowBuilderCanvasViewPR"})),typeof SiebelAppFacade.TaskFlowBuilderCanvasViewPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.TaskFlowBuilderCanvasViewPM"),define("siebel/tfbcanvasviewpm",["siebel/fbcanvasviewpm"],function(){return SiebelAppFacade.TaskFlowBuilderCanvasViewPM=function(){function e(){SiebelAppFacade.TaskFlowBuilderCanvasViewPM.superclass.constructor.apply(this,arguments)}return SiebelJS.Extend(e,SiebelAppFacade.FlowBuilderCanvasViewPM),e.prototype.Init=function(){SiebelAppFacade.TaskFlowBuilderCanvasViewPM.superclass.Init.apply(this,arguments),this.AddProperty("FlowType","TaskFlow"),this.AddProperty("IsSubTask",!1);var e={PaletteItems:{START:"Start",TASK_VIEW:"Task View",SIEBEL_OPER:"Siebel Operation",TASK:"Business Service",DECISION_POINT:"Decision Point",SUBTASK:"Subtask",COMMIT:"Commit",ERROR:"Error",END:"End"}};this.AddProperty("PaletteItemsMap",e),this.AddProperty("CanvasApplet","WT Repository Task Canvas Applet"),this.SetPropAppletMap("Default","WT Repository Task Properties Applet"),this.SetPropAppletMap("Step","WT Repository Task Step Properties Applet"),this.SetPropAppletMap("Branch","WT Repository Task Branch Properties Applet"),this.SetMVPWMap("Default",["WT Repository Task Property MVPW List Applet","WT Repository Task Event MVPW List Applet","WT Repository Task Metric MVPW List Applet","WT Repository Task Locale MVPW List Applet","WT Repository Task Chapter MVPW List Applet"]),this.SetMVPWMap("Default:SUBTASK",["WT Repository Task Property MVPW List Applet"]),this.SetMVPWMap("Step:TASK_VIEW",["WT Repository Task Step Input Argument MVPW List Applet","WT Repository Task Step Output Argument MVPW List Applet","WT Repository Task Step Context MVPW List Applet","WT Repository Task Step Locale MVPW List Applet"]),this.SetMVPWMap("Step:SIEBEL_OPER",["WT Repository Task Step Siebel Operation Field MVPW List Applet","WT Repository Task Siebel Operation Step Output Argument MVPW List Applet","WT Repository Task Step Context MVPW List Applet"]),this.SetMVPWMap("Step:TASK",["WT Repository Task BusSvc Step Input Argument MVPW List Applet","WT Repository Task BusSvc Step Output Argument MVPW List Applet"]),this.SetMVPWMap("Step:SUBTASK",["WT Repository Task Subtask Step Input Argument MVPW List Applet","WT Repository Task Subtask Step Output Argument MVPW List Applet"]),this.SetMVPWMap("Step:ERROR",["WT Repository Task Step Input Argument MVPW List Applet"]),this.SetMVPWMap("Step:END",["WT Repository Task Step Output Argument MVPW List Applet"])},e}(),SiebelAppFacade.TaskFlowBuilderCanvasViewPM})),typeof SiebelAppFacade.WorkFlowBuilderCanvasViewPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WorkFlowBuilderCanvasViewPM"),define("siebel/wfbcanvasviewpm",["siebel/fbcanvasviewpm"],function(){return SiebelAppFacade.WorkFlowBuilderCanvasViewPM=function(){function e(){SiebelAppFacade.WorkFlowBuilderCanvasViewPM.superclass.constructor.apply(this,arguments)}return SiebelJS.Extend(e,SiebelAppFacade.FlowBuilderCanvasViewPM),e.prototype.Init=function(){SiebelAppFacade.WorkFlowBuilderCanvasViewPM.superclass.Init.apply(this,arguments),this.AddProperty("FlowType","WorkFlow");var e={PaletteItems:{START:"Start",TASK:"Business Service",DECISION_POINT:"Decision Point",SUB_PROCESS:"Sub Process",SIEBEL_OPER:"Siebel Operation",TASK_INTERACT:"Task",USER_INTERACT:"User Interact",WAIT:"Wait",ABORT:"Stop",END:"End"}};this.AddProperty("PaletteItemsMap",e),this.AddProperty("CanvasApplet","WT Repository Workflow Canvas Applet"),this.SetPropAppletMap("Default","WT Repository Workflow Properties Applet"),this.SetPropAppletMap("Step","WT Repository WF Step Properties Applet"),this.SetPropAppletMap("Branch","WT Repository WF Step Branch Properties Applet"),this.SetMVPWMap("Default",["WT Repository WF Process Prop MVPW List Applet","WT Repository WF Process Metric MVPW List Applet"]),this.SetMVPWMap("Step:TASK_INTERACT",["WT Repository WF Step Task Input Arguments MVPW List Applet","WT Repository WF Step Task Output Arguments MVPW List Applet","WT Repository WF Step Recipient MVPW List Applet"]),this.SetMVPWMap("Step:SIEBEL_OPER",["WT Repository WF Step Siebel Operation Input Arguments MVPW List Applet","WT Repository WF Step Siebel Operation Search Spec MVPW List Applet","WT Repository WF Step Siebel Operation Output Arguments MVPW List Applet"]),this.SetMVPWMap("Step:TASK",["WT Repository WF Step BusSvc Input Arguments MVPW List Applet","WT Repository WF Step BusSvc Output Arguments MVPW List Applet"]),this.SetMVPWMap("Step:SUB_PROCESS",["WT Repository WF Step SubProcess Input Arguments MVPW List Applet","WT Repository WF Step SubProcess Output Arguments MVPW List Applet","WT Repository WF Step Recipient MVPW List Applet"]),this.SetMVPWMap("Step:WAIT",["WT Repository WF Step BusSvc Input Arguments MVPW List Applet","WT Repository WF Step BusSvc Output Arguments MVPW List Applet"]),this.SetMVPWMap("Step:ABORT",["WT Repository WF Step Stop Input Arguments MVPW List Applet"]),this.SetMVPWMap("Step:END",["WT Repository WF Step End Output Arguments MVPW List Applet"])},e}(),SiebelAppFacade.WorkFlowBuilderCanvasViewPM})),typeof SiebelAppFacade.WorkflowProcessSimulationViewPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WorkflowProcessSimulationViewPM"),define("siebel/wfpsimviewpm",["siebel/wfbcanvasviewpm"],function(){return SiebelAppFacade.WorkflowProcessSimulationViewPM=function(){function i(){SiebelAppFacade.WorkflowProcessSimulationViewPM.superclass.constructor
.apply(this,arguments)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),n=SiebelJS.Dependency("SiebelApp.Utils"),r=t.GetLocalString("WT_WF_PROCESS_SIM_CONFIRM_TERMINATION");return SiebelJS.Extend(i,SiebelAppFacade.WorkFlowBuilderCanvasViewPM),i.prototype.Init=function(){SiebelAppFacade.WorkflowProcessSimulationViewPM.superclass.Init.apply(this,arguments),this.AddProperty("IsSimulator",!0),this.AddProperty("CanLeaveView",function(){var e=!0,t=window.sessionStorage.getItem("WFP_SIM_STATE");if(!n.IsEmpty(t))switch(t){case"Init":case"Ready":break;default:n.Confirm(r)||(e=!1)}return e})},i.prototype.EndLife=function(){SiebelAppFacade.WorkflowProcessSimulationViewPM.superclass.EndLife.apply(this,arguments)},i}(),SiebelAppFacade.WorkflowProcessSimulationViewPM})),typeof SiebelAppFacade.FlowBuilderCanvasPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlowBuilderCanvasPM"),define("siebel/fbcanvaspm",["siebel/listpmodel"],function(){return SiebelAppFacade.FlowBuilderCanvasPM=function(){function ht(){if(SiebelJS.LogLevel==="debug"){var e=q;for(var t=0,n=arguments.length;t<n;t++)e+=arguments[t];SiebelJS.Debug(e,!0)}}function pt(){var e=q;for(var t=0,n=arguments.length;t<n;t++)e+=arguments[t];SiebelJS.Log(e,!0)}function dt(){SiebelAppFacade.FlowBuilderCanvasPM.superclass.constructor.apply(this,arguments),this.GetContextMenu=function(){return P};var t=!1,r=n.GetISODateTime(null,!0,!0),i=0,s=!1,o=!1,u="";this.GetEndLife=function(){return t},this.SetEndLife=function(e){t=e},this.GetCreated=function(){return r},SiebelJS.Debug("[FlowBuilderCanvasPM] Constructor: Created: '"+this.GetCreated()+"'",!0),this.GetCountGetNextError=function(){return i},this.SetCountGetNextError=function(e){i=e},this.IsGetNextMsg=function(){return s},this.SetGetNextMsg=function(e){s=e},this.GetWaitDbgSvc=function(){return o},this.SetWaitDbgSvc=function(e){o=e},this.GetSessionTimeout=function(){return u},this.SetSessionTimeout=function(e){u=e},this.InvokeServiceMethod=function(t,r,i,s){s||(s="Workflow Process Simulation UI Service");var o=SiebelApp.S_App.GetService(s);if(o){r||(r=CCFMiscUtil_CreatePropSet()),ht('Invoking "'+s+'" - "'+t+'" ...');var u=o.InvokeMethod(t,r);ht('Done invoking "'+s+'" - "'+t+'".');var a=u.GetProperty(e.get("SWE_RPC_PROP_RETURN_STATUS"));if(a!==e.get("SWE_RPC_PROP_STATUS_ERROR")&&!n.IsEmpty(a)){if(i){var f=u.GetChildByType(e.get("SWE_PROP_RESULTSET"));f&&i.DeepCopy(f)}return!0}}return!1}}function vt(t){if(t.GetProperty("type")===x){var n=t.GetProperty(e.get("SWE_PROP_ARGS_ARRAY")),r=[],i=CCFMiscUtil_CreatePropSet();n&&(CCFMiscUtil_StringToArray(n,r),r.length===1&&i.DecodeFromString(r[0])),this.ExecuteMethod(x,i)}}function mt(e){if(e){var t={},n="*Browser Applet* *",r="*"+this.GetObjName()+"*",i,s,o;for(var u=0;u<e.GetChildCount();u++){var a=e.GetChild(u);a.GetProperty("Type")==="Command"&&a.GetProperty("Enabled")==="true"&&(i=a.GetProperty("Command"),s=i.substring(i.indexOf(n)+n.length,i.indexOf(r)),s.startsWith(S)&&(o=s.substring(S.length),t[o]=a.GetProperty("Caption").replace(/\t/g," ")))}kt.call(this,P,"label",t)}this.SetProperty("IsMenuInitialized",!0)}function gt(e){if(!e)return;var t=e.GetChildByType("apm");if(!t)return;if(typeof this.Get("FlowType")=="undefined"){var r=SiebelApp.S_App.GetActiveView().GetName(),i=SiebelAppFacade.ComponentMgr.FindComponent({id:r}).GetPM();this.AddProperty("FlowType",i.Get("FlowType"))}if(this.Get("FlowType")==="WorkFlow")yt.call(this,t,"WF_STEP_TYPE_CD"),yt.call(this,t,"WF_BRNCH_TYPE_CD"),yt.call(this,t,"WF_MODE_CD");else{var s=this.Get("Fetch LIC_LDC Values");if(!n.IsEmpty(s)){var o=s.trim().split(/\s*,\s*/);for(var u=0;u<o.length;u++)n.IsEmpty(o[u])||yt.call(this,t,o[u])}}}function yt(e,t){var r=e.GetChildByType(t);if(r){var i=r.propArray.LIC,s=r.propArray.LDC,o=i.split(";"),u=s.split(";"),a={};for(var f=0;f<o.length;f++)!n.IsEmpty(o[f])&&!n.IsEmpty(u[f])&&(a[o[f]]=u[f]);this.SetProperty(t,a)}}function bt(){var e={};wt.call(this,e),kt.call(this,P,"value",e)}function wt(t){var i=SiebelApp.S_App.GetService(e.get("SWE_OUI_CLIENT_PREF_SERVICE")),s=r.length;if(!n.IsEmpty(i)){var o=SiebelApp.S_App.NewPropertySet(),u,a,f=O;if(typeof this.Get("FlowType")=="undefined"){var l=SiebelApp.S_App.GetActiveView().GetName(),c=SiebelAppFacade.ComponentMgr.FindComponent({id:l}).GetPM();this.AddProperty("FlowType",c.Get("FlowType"))}this.Get("FlowType")==="TaskFlow"?f="Task"+f:this.Get("FlowType")==="WorkFlow"&&(f="Workflow"+f);for(var h=0;h<s;h++)o.SetProperty(f+"/"+r[h],"");u=i.InvokeMethod("GetPreferences",o),a=u.GetChildByType(e.get("SWE_PROP_RESULTSET"));if(a){var p,d;for(var v=0;v<s;v++)p=r[v],d=a.GetProperty(f+"/"+p),n.IsEmpty(d)||(t[p]=d)}}}function Et(t,r){var i=SiebelApp.S_App.GetService(e.get("SWE_OUI_CLIENT_PREF_SERVICE")),s=O;this.Get("FlowType")==="TaskFlow"?s="Task"+s:this.Get("FlowType")==="WorkFlow"&&(s="Workflow"+s);if(!n.IsEmpty(i)){var o=SiebelApp.S_App.NewPropertySet();o.SetProperty(s+"/"+t,r),i.InvokeMethod("SetPreferences",o)}P[t].value=r}function St(t){var n=new $.Deferred,r=this;return setTimeout(function(){r.ExecuteMethod("InvokeMethod","NewRecord");for(var i in t)t.hasOwnProperty(i)&&r.ExecuteMethod("SetFormattedValue",r.ExecuteMethod("GetControl",i),t[i]);var s={};s.async=!0,s.cb=function(t,r,i){i.GetProperty("Status")===e.get("SWE_RPC_PROP_STATUS_ERROR")?n.reject():n.resolve()},r.ExecuteMethod("InvokeMethod","WriteRecord",null,s)},0),n.promise()}function xt(t,n){var r=new $.Deferred;if(typeof n!="undefined"&&n!==this.Get("GetSelection")){var i=this.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),n,!1,!1);if(!i)return r.reject(),r.promise()}for(var s in t)t.hasOwnProperty(s)&&this.ExecuteMethod("SetFormattedValue",this.ExecuteMethod("GetControl",s),t[s]);var o={};return o.async=!0,o.cb=function(t,n,i){i&&i.GetProperty(e.get("SWE_RPC_PROP_RETURN_STATUS"))!==e.get("SWE_RPC_PROP_STATUS_ERROR")?r.resolve():r.reject()},this.ExecuteMethod("InvokeMethod","WriteRecord",null,o),r.promise()}function Tt(t){var n=new 
$.Deferred,r=SiebelApp.S_App.GetService("WT UI Business Service"),i={};return i.async=!0,i.cb=function(t,r,i){i&&i.GetProperty(e.get("SWE_RPC_PROP_RETURN_STATUS"))!==e.get("SWE_RPC_PROP_STATUS_ERROR")?n.resolve():n.reject()},r.InvokeMethod("BulkOperations",t,i),n.promise()}function Nt(e,t,n,r){if(e==="CanvasDelete"||e==="CanvasZoomOut"||e==="CanvasZoomIn"||e==="CanvasPrint")this.ExecuteMethod(e),r.CancelOperation=!0,SiebelApp.S_App.uiStatus.Free()}function Ct(){var e=SiebelApp.CommandManager.GetInstance(),t=this.GetObjName(),n="PrepareAppletMenu",r=CCFMiscUtil_CreatePropSet(),i=CCFMiscUtil_CreatePropSet();i.SetProperty("Name",t),i.SetProperty("menuparenttype","Name");var s={async:!0,scope:this};e.InvokeServerCommand(n,i,r,s)}function kt(e,t,r){var i,s;for(var o in e)if(e.hasOwnProperty(o)){i=e[o];if(i.type===T)continue;r.hasOwnProperty(o)&&(s=r[o],t==="value"&&(i.type===k?s=n.IsTrue(s):i.type===C&&(s=isNaN(parseInt(s,10))?i[t]:parseInt(s,10))),i[t]=s),typeof i.subMenu!="undefined"&&kt.call(this,i.subMenu,t,r)}}function Lt(){ht("InitializeSimulator: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated());var e=CCFMiscUtil_CreatePropSet(),t=CCFMiscUtil_CreatePropSet(),r=!1,i=!1,s=!1;this.InvokeServiceMethod(W,e,t)?(this.SetSessionTimeout(t.GetProperty(V)||""),r=n.IsTrue(t.GetProperty(K)),i=n.IsTrue(t.GetProperty(J)),ht("SessionTimeout = "+this.GetSessionTimeout()),ht("SimConnect = "+r),ht("SimOpen = "+i),s=n.IsTrue(t.GetProperty(Q)),ht("InitializeSimulator: "+W+": "+Q+" = "+s)):ht("Failed to get Simulator State from Server.");var o=window.sessionStorage.getItem(nt),u=lt,a=!1;if(r&&i){SiebelApp.EventManager.addListner("refreshview",At,this);var f=window.sessionStorage.getItem(Z);n.IsEmpty(f)||this.Get("ProcessPropPS").DecodeFromString(f);var l=window.sessionStorage.getItem(et);n.IsEmpty(l)||this.Get("ReadOnlyProcessPropPS").DecodeFromString(l);var c=window.sessionStorage.getItem(tt);n.IsEmpty(c)||this.Get("ModifiedPropPS").DecodeFromString(c);var h=window.sessionStorage.getItem(Y);if(!n.IsEmpty(h)){var p=SiebelApp.S_App.NewPropertySet();p.DecodeFromString(h),this.ExecuteMethod("SetWatchData",p,!0)}u=window.sessionStorage.getItem(G),n.IsEmpty(u)&&(u=lt),a=!0}else window.sessionStorage.removeItem(G),window.sessionStorage.removeItem(Y),window.sessionStorage.removeItem(Z),window.sessionStorage.removeItem(et),window.sessionStorage.removeItem(tt),r?(Ot.call(this,this.GetSessionTimeout(),!0),o===it&&jt.call(this),n.IsEmpty(o)||o===it?o=rt:o!==ot&&(o=ot),o===ot&&(a=!0)):o=rt;a&&Bt.call(this),i||(e.Reset(),t.Reset(),e.SetProperty(J,"true"),this.InvokeServiceMethod(X,e,t),s=n.IsTrue(t.GetProperty(Q)),ht("InitializeSimulator: "+X+": "+Q+" = "+s)),this.SetProperty("AppInfoArray",Mt.call(this)),$t.call(this,"InitializeSimulator",o,u)}function At(){SiebelApp.EventManager.removeListner("refreshview",At,this),Ot.call(this,this.GetSessionTimeout(),!0)}function Ot(e,t){n.IsEmpty(e)||(ht("Invoke UpdateSessionTimeout: "+e),UpdateSessionTimeout(e,t))}function Mt(){var e=CCFMiscUtil_CreatePropSet(),t=CCFMiscUtil_CreatePropSet(),r=[];if(n.IsEmpty(this.Get("AppName"))){var i=SiebelApp.S_App.GetPageURL(),s,o;i.slice(-1)==="/"&&(i=i.slice(0,-1)),o=i.split("/"),i=o[o.length-2],s=o[o.length-1],this.SetProperty("AppName",i),this.SetProperty("LangName",s),ht("AppName from PageURL: "+this.Get("AppName")),ht("LangName from PageURL: "+this.Get("LangName"))}if(this.InvokeServiceMethod("GetTargetApplicationList",e,t)){for(var u=0,a=t.GetChildCount();u<a;u++){var f=t.GetChild(u),l=f.GetType();l==="ActiveApp"&&f.GetProperty("Name")!==this.Get("AppName")&&r.push({displayName:f.GetProperty("AppLang"),appName:f.GetProperty("Name"),langName:f.GetProperty("Lang")})}r.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})}return r}function _t(){var e={};Dt.call(this,e),P.Application.value=e.Application}function Dt(t){var r=SiebelApp.S_App.GetService(e.get("SWE_OUI_CLIENT_PREF_SERVICE"));if(!n.IsEmpty(r)){var i=SiebelApp.S_App.NewPropertySet(),s,o;i.SetProperty(M+"/"+_,""),i.SetProperty(M+"/"+D,""),s=r.InvokeMethod("GetPreferences",i),o=s.GetChildByType(e.get("SWE_PROP_RESULTSET"));if(o){var u,a;u=o.GetProperty(M+"/"+_),a=o.GetProperty(M+"/"+D),t.Application={appname:u,langname:a}}}}function Pt(t){var r=SiebelApp.S_App.GetService(e.get("SWE_OUI_CLIENT_PREF_SERVICE"));if(!n.IsEmpty(r)){var i=SiebelApp.S_App.NewPropertySet();i.SetProperty(M+"/"+_,t.appname),i.SetProperty(M+"/"+D,t.langname),r.InvokeMethod("SetPreferences",i)}P.Application.value={appname:t.appname,langname:t.langname},this.ExecuteMethod("NotifyUpdateMenuSimApp")}function Ht(e){switch(e){case"SimStart":Ft.call(this);break;case"SimNext":qt.call(this);break;case"SimComplete":Rt.call(this);break;case"SimStop":Ut.call(this)}}function Bt(){ht("RestartGetNext ...");if(!ct){ct=SiebelApp.S_App.GetService("Template Parser Service");if(ct===null){ht("Failed to get Debugger Service");return}}var t={async:!0,scope:this,npr:!0};t.cb=function(){var t=arguments[0],n=arguments[1].GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),r=Gt(arguments[2]);ht("RestartGetNext: "+t+", request:"+n+", response:"+r),r===e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")?this.IsGetNextMsg()||(ht("RestartGetNext: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated()),this.SetGetNextMsg(!0),Zt.call(this)):(r===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")?pt("RestartGetNext: Failed: "+Kt(arguments[2])):ht("RestartGetNext: unhandled cases: "+arguments[2].EncodeAsString()),$t.call(this,n,rt),zt.call(this))};var n="RestartGetNext";ht("RestartGetNext: "+n);var r=Qt(n);r.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),n),ct.InvokeMethod("ProcessDebugMsg",r,t)}function jt(){ht("StopGetNext ...");if(!ct){ct=SiebelApp.S_App.GetService("Template Parser Service");if(ct===null){ht("Failed to get Debugger Service");return}}var t={async:!0,scope:this,npr:!0,cb:Yt},n=e.get("SCRIPTDEBUG_CMD_QUIT");ht("StopGetNext: "+n);var r=Qt(n);r.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),e.get("SCRIPTDEBUG_ACTION_TYPE_QUIT"
)),ct.InvokeMethod("ProcessDebugMsg",r,t)}function Ft(){ht("Start Simulation ...");if(H){tn(this,"SimStart");return}if(!ct){ct=SiebelApp.S_App.GetService("Template Parser Service");if(ct===null){ht("Failed to get Debugger Service");return}}this.Get("ProcessPropPS").Reset(),this.Get("ReadOnlyProcessPropPS").Reset(),this.Get("ModifiedPropPS").Reset(),window.sessionStorage.removeItem(Z),window.sessionStorage.removeItem(et),window.sessionStorage.removeItem(tt),ht("OnSimStart: 'SimState' = '"+this.Get("SimState")+"'");switch(this.Get("SimState")){case rt:this.SetGetNextMsg(!1);break;case it:Ut.call(this);break;default:this.SetGetNextMsg(!0),en.call(this);return}var t={async:!0,scope:this,npr:!0};t.cb=function(){SiebelApp.S_App.uiStatus.Free();var t=arguments[2].GetChildByType(e.get("SWE_PROP_RESULTSET"));if(t===null){ht("OnSimStart: response does not have resultSet.");return}if(t.GetChild(0)===null){pt("Please contact your Siebel Administrator for the settings of Named Subsystem DBGSVC."),n.Alert(B);return}var r=Gt(arguments[2]);if(r===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")){pt("OnSimStart: Failed to execute: RouteToDebuggerService: "+Kt(arguments[2]));return}this.SetSessionTimeout(arguments[2].GetProperty(e.get("SWE_PROP_SESSION_TIMEOUT"))||""),ht("OnSimStart: got "+e.get("SWE_PROP_SESSION_TIMEOUT")+" = "+this.GetSessionTimeout());var i=t.GetChild(0),s=!1,o=null,u;if(i===null){ht("OnSimStart: does not return expected response");return}for(s=!0;(o=i.EnumProperties(s))!==null;s=!1)u=i.GetProperty(o),ht("OnSimStart: Connect Response: '"+o+"' = '"+u+"'");var a="?"+(n.IsTrue(SiebelApp.S_App.IsAutoOn())?e.get("SWE_CMD_ARG")+"=AutoOn&":"")+e.get("DEBUGGER_TYPE")+"="+e.get("SCRIPTDEBUG_WF_TYPE"),f,l,c=CCFMiscUtil_CreatePropSet();c.SetType(e.get("SCRIPTDEBUG_DATA_LIST"));var h=this.Get("DisconnectRequestPS");h.Reset();if(i!==null&&i.GetChildCount()>0){var p=i.GetChild(0);for(s=!0;(o=p.EnumProperties(s))!==null;s=!1)u=p.GetProperty(o),o==="_appname"?(f=u,ht("OnSimStart: got '_appname' = '"+f+"'")):o==="_lang"?(l=u.toLowerCase(),ht("OnSimStart: got '_lang' = '"+l+"'")):(a+="&"+o+"="+u,c.SetProperty(o,u),o==="_srvr"?h.SetProperty("DbgServerHost",u):o==="_port"?h.SetProperty("DbgServerPort",u):o==="_vdid"&&h.SetProperty("DebugID",u))}var d=!1,v=!1,m=0,g=0,y=this.Get("AppInfoArray"),b;if(n.IsEmpty(f)||n.IsEmpty(l))d=!0;for(m=0,g=y.length;m<g;m++){b=y[m];if(m===0&&d===!0){f=b.appName,l=b.langName,l=n.IsEmpty(l)?this.Get("LangName"):l,v=!0;break}if(!d&&f===b.appName&&l===b.langName){v=!0;break}}if(!v){pt("OnSimStart: Non-existing target application/language from UserPref: Application = '"+f+"'; Language = '"+l+"'");if(!(y.length>0)){pt("OnSimStart: invalid target application for Workflow Process Simulator: Application = '"+f+"'; Language = '"+l+"'");return}b=y[0],f=b.appName,l=b.langName,l=n.IsEmpty(l)?this.Get("LangName"):l,pt("OnSimStart: Use the first entry instead: '"+b.displayName+"' to start Workflow Process Simulation.")}ht("OnSimStart: starting target application for Workflow Process Simulator: Application = '"+f+"'; Language = '"+l+"'"),It.call(this,f,l,a,c,0)},ht("OnSimStart: RouteToDebuggerService");var r=CCFMiscUtil_CreatePropSet();r.SetType(e.get("SCRIPTDEBUG_CMD_CONNECT")),r.SetProperty("UserPrefCategory",M),ct.InvokeMethod("RouteToDebuggerService",r,t)}function It(t,r,i,s,o){if(!ct){ht("Debugger Service is not available - DebugSvc is null");return}var u={async:!0,scope:this,npr:!0};u.cb=function(){var u=arguments[0],a=arguments[1].GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),f=Gt(arguments[2]),l=this;ht("CallDbgServerReserveSession: "+u+", request:"+a+", response:"+f);if(f===e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS"))Jt(t,r,i),en.call(this,s);else if(f===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")){ht("CallDbgServerReserveSession: Failed: "+Kt(arguments[2]));var c=Kt(arguments[2]),h=!1;c==="HitMaxTask"&&(pt("CallDbgServerReserveSession: "+j),n.Alert(j),h=!0),o>=20&&(pt("CallDbgServerReserveSession: Fail to reserve session from Workflow Process Simulation Server after "+o+" tries."),n.Alert(B),h=!0);if(h){$t.call(this,a,rt),zt.call(this);return}o++,setTimeout(function(){ht("CallDbgServerReserveSession: retry: "+o),It.call(l,t,r,i,s,o)},500+o*50)}else ht("CallDbgServerReserveSession, unhandled cases: "+arguments[2].EncodeAsString())};var a=e.get("SCRIPTDEBUG_CMD_RESERVE_SESSION");ht("CallDbgServerReserveSession: "+a),$t.call(this,a);var f=Qt(a);ct.InvokeMethod("ProcessDebugMsg",f,u)}function qt(){ht("Simulate Next ...");if(H){tn(this,"SimNext");return}if(!ct){ht("Debugger Service is not available - DebugSvc is null");return}ht("OnSimNext: 'SimState' = '"+this.Get("SimState")+"'");var t={async:!0,scope:this,npr:!0,cb:Yt},n=e.get("SCRIPTDEBUG_CMD_RUN_STEP");ht("OnSimNext: "+n),$t.call(this,n);var r=Qt(n);r.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),n),r.SetProperty("ProcessId",this.Get("ProcessId")),Xt.call(this,r),ct.InvokeMethod("ProcessDebugMsg",r,t)}function Rt(){ht("Complete Simulation ...");if(H){tn(this,"SimComplete");return}if(!ct){ht("Debugger Service is not available - DebugSvc is null");return}var t={async:!0,scope:this,npr:!0,cb:Yt},n=e.get("SCRIPTDEBUG_CMD_RUN_TO_END");ht("OnSimComplete: "+n),$t.call(this,n);var r=Qt(n);r.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),n),r.SetProperty("ProcessId",this.Get("ProcessId")),Xt.call(this,r),ct.InvokeMethod("ProcessDebugMsg",r,t)}function Ut(){ht("Stop Simulation ...");if(H){tn(this,"SimStop");return}if(!ct){ct=SiebelApp.S_App.GetService("Template Parser Service");if(ct===null){ht("Failed to get Debugger Service");return}}var t={async:!0,scope:this,npr:!0};t.cb=function(){var t=arguments[0],n=arguments[1].GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),r=Gt(arguments[2]),i;ht("OnSimStop: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated()),ht("OnSimStop: "+t+", request:"+n+", response:"+r),r!==e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")&&(r===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")?(pt("OnSimStop: Failed : "+Kt(arguments[2])),i=rt):(pt("OnSimStop, unhandled cases: "+
arguments[2].EncodeAsString()),i=rt)),$t.call(this,n,i,lt)};var r=e.get("SCRIPTDEBUG_CMD_STOP_DEBUG");ht("OnSimStop: "+r),!this.GetEndLife()&&this.Get("SimState")===at&&n.Alert(I);var i=Qt(r);i.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),r),i.SetProperty("ProcessId",this.Get("ProcessId")),ct.InvokeMethod("ProcessDebugMsg",i,t)}function zt(){if(H===!0)return;if(!ct){ct=SiebelApp.S_App.GetService("Template Parser Service");if(ct===null){ht("Failed to get Debugger Service");return}}var t={async:!0,scope:this,npr:!0};t.cb=function(){this.SetSessionTimeout("");var t=CCFMiscUtil_CreatePropSet(),r=CCFMiscUtil_CreatePropSet();t.SetProperty(V,this.GetSessionTimeout()),t.SetProperty(K,"false"),this.InvokeServiceMethod(X,t,r);var i=n.IsTrue(r.GetProperty(Q));ht("OnSimDisconnect: got "+Q+" = "+i);if(i)ht("OnSimDisconnect: No need to reset SessionTimeout.  Still in Debugging/Simulating.");else{var s=arguments[2].GetProperty(e.get("SWE_PROP_SESSION_TIMEOUT"))||"";ht("OnSimDisconnect: "+e.get("SWE_PROP_SESSION_TIMEOUT")+" = "+s),Ot.call(this,s,!1)}this.InvokeServiceMethod(z)},ht("OnSimDisconnect: RouteToDebuggerService"),this.SetGetNextMsg(!1);var r=CCFMiscUtil_CreatePropSet();r.SetType(e.get("SCRIPTDEBUG_CMD_DISCONNECT")),ct.InvokeMethod("RouteToDebuggerService",r,t)}function Wt(e,t){var n=this.Get("ModifiedPropPS");n.SetProperty(e,t),window.sessionStorage.setItem(tt,n.EncodeAsString())}function Xt(e){var t=this.Get("ModifiedPropPS").Clone();t.SetType("ModifiedProperties"),e.AddChild(t)}function Vt(e){ht("SetSimStatePropVal = '"+e+"'"),this.GetEndLife()||(this.Get("SimState")!==e&&this.SetProperty("SimState",e),ht("Property 'SimState' = '"+this.Get("SimState")+"'")),window.sessionStorage.getItem(nt)!==e&&window.sessionStorage.setItem(nt,e),ht("SessionStorage 'SimState' = '"+window.sessionStorage.getItem(nt)+"'")}function $t(t,r,i){ht("UpdateSimState: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated());if(this.GetEndLife()){var s=window.sessionStorage.getItem(nt);s!==rt&&s!==it&&Vt.call(this,ot);return}ht("UpdateSimState: Command = "+t);var o=!0;if(n.IsEmpty(r))switch(t){case e.get("SCRIPTDEBUG_CMD_RESERVE_SESSION"):Vt.call(this,st);break;case e.get("SCRIPTDEBUG_CMD_START_DEBUG"):Vt.call(this,it);break;case e.get("SCRIPTDEBUG_CMD_RUN_STEP"):Vt.call(this,st);break;case e.get("SCRIPTDEBUG_CMD_RUN_TO_END"):Vt.call(this,st);break;case e.get("SCRIPTDEBUG_CMD_STOP_DEBUG"):Vt.call(this,ot);break;default:o=!1}else Vt.call(this,r);o&&(this.ExecuteMethod("NotifySimulationStateChanged"),n.IsEmpty(i)||(this.ExecuteMethod("NotifyHighlightSimulationStep",i),window.sessionStorage.setItem(G,i)))}function Jt(e,t,n){var r=SiebelApp.S_App.GetBaseURL(),i=r+"app/"+e+"/"+t+n;ht("Open application: "+i),$('<a id="openSimTargetWindow" href="'+i+'" target="_blank" rel="noreferrer"'+"></a>").appendTo("body"),$("#openSimTargetWindow")[0].click(),$("#openSimTargetWindow").html("").remove(),localStorage.setItem("IsDebugInitiated","true")}function Kt(t,n){n=typeof n!="undefined"?n:!0;var r=n?"unknown error":"",i=t.GetChildByType(e.get("SWE_PROP_RESULTSET"));if(i!==null){var s=i.GetChildByType(e.get("SCRIPTDEBUG_SD_TYPE"));if(s!==null&&s.GetChildCount()>0){var o=s.GetChild(0);o!==null&&(r=o.GetProperty(e.get("SCRIPTDEBUG_CMD_RESPONSE_ERRORMSG")));if(r===null||r===undefined||r.length===0)r=o.EncodeAsString()}}return r}function Qt(t){var n=CCFMiscUtil_CreatePropSet();return n.SetType(e.get("SCRIPTDEBUG_WD_TYPE")),n.SetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD"),t),n.SetProperty(e.get("PROP_TYPE"),e.get("SCRIPTDEBUG_PROPERTY_TYPE")),n}function Gt(t){var n=t.GetChildByType(e.get("SWE_PROP_RESULTSET")),r=null,i="";return n!==null?(r=n.GetChildByType(e.get("SCRIPTDEBUG_SD_TYPE")),r!==null?(i=r.GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),ht("GetDbgSrvRespCmd: Cmd is: '"+i+"'")):ht("GetDbgSrvRespCmd: SD Cmd is null")):ht("GetDbgSrvRespCmd: ResultSet is null"),i}function Yt(){ht("HandleDbgSrvResp");var t=arguments[0],n=arguments[1].GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),r=Gt(arguments[2]);ht("HandleDbgSrvResp: "+t+", request:"+n+", response:"+r);var i=arguments[2].GetChildByType(e.get("SWE_PROP_RESULTSET")),s=null;i!==null?(s=i.GetChildByType(e.get("SCRIPTDEBUG_SD_TYPE")),s===null&&ht("HandleDbgSrvResp: sdPropSet is null")):ht("HandleDbgSrvResp: resultSetPropSet is null"),r!==e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")&&(r===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")?(n!==e.get("SCRIPTDEBUG_CMD_QUIT")&&$t.call(this,n),pt("HandleDbgSrvResp: Failed to execute: "+n+" :"+Kt(arguments[2]))):pt("HandleDbgSrvResp, unhandled cases: "+arguments[2].EncodeAsString()))}function Zt(){if(H===!0)return;if(!ct){ht("Debugger Service is not available - DebugSvc is null");return}if(!this.IsGetNextMsg()){ht("GetNextMsg: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated()),ht("GetNextMsg: stopped");return}if(this.GetWaitDbgSvc()){ht("GetNextMsg: wait for DbgSvc");var t=this;setTimeout(function(){Zt.call(t)},1e3);return}var r={async:!0,scope:this,npr:!0,selfbusy:!0};r.cb=function(){this.SetWaitDbgSvc(!1);var t=Gt(arguments[2]);ht("GetNextMsg: receives "+t);var r=arguments[2],i=r.GetChildByType(e.get("SWE_PROP_RESULTSET")),s=null,o=this;i!==null?s=i.GetChildByType(e.get("SCRIPTDEBUG_SD_TYPE")):ht("GetNextMsg: response does not have resultSet");if(t===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")){var u=this.GetCountGetNextError()+1;ht("GetNextMsg: Failed ("+u+"): "+Kt(arguments[2])),u===1&&ht("GetNextMsg: continue try..."),this.SetCountGetNextError(u),u%10===0&&(ht("GetNextMsg: iGetNextError: "+u),n.Confirm(F)?ht("GetNextMsg: continue try..."):(ht("GetNextMsg: end workflow process simulation"),pt("GetNextMsg: Fail to connect to Workflow Process Simulation Server after "+u+" tries."),$t.call(this,t,rt,lt),zt.call(this))),setTimeout(function(){Zt.call(o)},500)}else{this.SetCountGetNextError(0);if(t===e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")){var a=Kt(arguments[2],!1);ht("GetNextMsg: get "+e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")+": "+a);if(a==="GetNext broken by EXIT"
){ht("GetNextMsg: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated()),ht("GetNextMsg: stopped: "+a);return}}else if(t===e.get("SCRIPTDEBUG_CMD_RESPONSE_WAIT"))ht("GetNextMsg: get "+e.get("SCRIPTDEBUG_CMD_RESPONSE_WAIT")),this.SetWaitDbgSvc(!0);else{var f=arguments[2].GetChildByType(e.get("SWE_PROP_RESULTSET")).GetChild(0);t=f.GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),ht("GetNextMsg: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated()),ht("GetNextMsg: sRespCmd: '"+t+"'");var l,c=f.GetProperty("NextStep");if(n.IsEmpty(c)){c=lt;switch(t){case e.get("SCRIPTDEBUG_CMD_ACTION_ACK"):l=ot;break;case e.get("SCRIPTDEBUG_CMD_INIT"):l=ot;var h=CCFMiscUtil_CreatePropSet(),p=CCFMiscUtil_CreatePropSet();h.SetProperty(V,this.GetSessionTimeout()),h.SetProperty(K,"true"),this.InvokeServiceMethod(X,h,p);var d=n.IsTrue(p.GetProperty(Q));ht("GetNextMsg: "+Q+" = "+d),Ot.call(this,this.GetSessionTimeout(),!0),this.InvokeServiceMethod(R,this.Get("DisconnectRequestPS"));break;case e.get("SCRIPTDEBUG_CMD_QUIT"):l=rt,zt.call(this);break;default:l=at,ht("GetNextMsg: Not supported sRespCmd: '"+t+"'; "+f.EncodeAsString())}}else f.GetProperty("Status")===ft?l=at:l=ut;$t.call(this,t,l,c),this.GetEndLife()||(this.ExecuteMethod("SetWatchData",f),window.sessionStorage.setItem(Y,f.EncodeAsString()),window.sessionStorage.setItem(Z,this.Get("ProcessPropPS").EncodeAsString()),window.sessionStorage.setItem(et,this.Get("ReadOnlyProcessPropPS").EncodeAsString()),this.Get("ModifiedPropPS").Reset(),window.sessionStorage.removeItem(tt))}Zt.call(this)}};var i=Qt(e.get("SCRIPTDEBUG_CMD_GETNEXT"));ht("GetNextMsg... "+e.get("SCRIPTDEBUG_CMD_GETNEXT")),ct.InvokeMethod("ProcessDebugMsg",i,r),ht("GetNextMsg... After calling ProcessDebugMsg.")}function en(t){if(H===!0)return;if(!ct){ht("Debugger Service is not available - DebugSvc is null");return}var r={async:!0,scope:this,npr:!0};r.cb=function(){var t=arguments[0],n=arguments[1].GetProperty(e.get("SCRIPTDEBUG_PROPERTY_CMD")),r=Gt(arguments[2]);ht("AttachDebugTarget: "+t+", request:"+n+", response:"+r),r===e.get("SCRIPTDEBUG_CMD_ATTACH")||r===e.get("SCRIPTDEBUG_CMD_RESPONSE_SUCCESS")?(this.IsGetNextMsg()||(this.SetGetNextMsg(!0),Zt.call(this)),$t.call(this,n)):r===e.get("SCRIPTDEBUG_CMD_RESPONSE_ERROR")?pt("[ScriptDebugger] AttachDebugTarget: Failed: "+Kt(arguments[2])):ht("AttachDebugTarget, unhandled cases: "+arguments[2].EncodeAsString())};var i=e.get("SCRIPTDEBUG_CMD_START_DEBUG");ht("AttachDebugTarget: "+i);var s=Qt(i);s.SetProperty(e.get("SCRIPTDEBUG_ACTION_TYPE"),i),s.SetProperty("ProcessId",this.Get("ProcessId")),s.SetProperty("TimeStamp","09/20/2019 12:13:04"),s.SetProperty("ShowPrBC","Y"),n.IsEmpty(t)||s.AddChild(t),ct.InvokeMethod("ProcessDebugMsg",s,r)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),n=SiebelJS.Dependency("SiebelApp.Utils"),r=["Zoom","EnableDynamicConnectors","ConnectionPoints","ShowGrid","SnapToGrid"],i=t.GetLocalString("IDS_CLIENT_EDIT"),s=t.GetLocalString("WT_FLOW_BUILDER_MENU_ZOOM"),o=t.GetLocalString("WT_FLOW_BUILDER_MENU_ENABLE_DYNAMIC_CONNECTORS"),u=t.GetLocalString("WT_FLOW_BUILDER_MENU_CONNECTION_POINTS"),a=t.GetLocalString("WT_FLOW_BUILDER_MENU_SHOW_GRID"),f=t.GetLocalString("WT_FLOW_BUILDER_MENU_VALIDATE_STEP"),l=t.GetLocalString("WT_FLOW_BUILDER_MENU_SNAP_TO_GRID"),c=t.GetLocalString("WT_FLOW_BUILDER_MENU_GENERATE_REQ_IO_ARGS"),h=t.GetLocalString("WT_FLOW_BUILDER_MENU_EDIT_CONDITIONS"),p=t.GetLocalString("WT_FLOW_BUILDER_MENU_EDIT_SUB_PROCESS"),d=t.GetLocalString("WT_FLOW_BUILDER_MENU_EDIT_TASK"),v=t.GetLocalString("WT_FLOW_BUILDER_MENU_VALIDATE"),m=t.GetLocalString("WT_FLOW_BUILDER_MENU_HIDE_TEXT"),g="Delete [Ctrl+D]",y="Zoom Out [Ctrl+Alt+O]",b="Zoom In [Ctrl+Alt+I]",w="Print... [Ctrl+Alt+P]",E=t.GetLocalString("WT_SCRIPT_DEBUGGER_APPLICATION_TITLE"),S="Canvas",x="RefreshCanvas",T="divider",N="function",C="integer",k="boolean",L="simapp",A="WorkFlow",O="FlowBuilder",M="WebToolsWFPSimulator",_="Application",D="Language",P={Edit:{type:N,label:i,keepopen:!0,simulator:!1,subMenu:{Delete:{type:N,label:g},DividerEdit1:{type:T},HideText:{type:k,value:!1,label:m}}},Divider1:{type:T,simulator:!1},Zoom:{type:C,value:100,label:s,subMenu:{ZoomOut:{label:y,keepopen:!0},ZoomIn:{label:b,keepopen:!0}}},EnableDynamicConnectors:{type:k,value:!0,label:o,simulator:!1},ConnectionPoints:{type:k,value:!0,label:u,simulator:!1},ShowGrid:{type:k,value:!0,label:a,simulator:!1},SnapToGrid:{type:k,value:!0,label:l,simulator:!1},Divider2:{type:T},Print:{type:N,label:w},Divider3:{type:T,simulator:!1},ValidateStep:{type:N,label:f,simulator:!1},Divider4:{type:T},GenerateReqIOArgs:{type:N,label:c},EditConditions:{type:N,label:h},EditSubProcess:{type:N,label:p,context:A},Divider5:{type:T,simulator:!1},Validate:{type:N,label:v,simulator:!1},Divider6:{type:T,context:A,simulator:!0},Application:{type:L,label:E,keepopen:!0,context:A,simulator:!0,property:"AppInfoArray",clickmethod:"SetSimAppPreferences"}},H=!1,B=t.GetLocalString("WT_WF_PROCESS_SIM_CONNECT_FAIL"),j=t.GetLocalString("WT_WF_PROCESS_SIM_RESERVE_SESSION_FAIL"),F=t.GetLocalString("WT_WF_PROCESS_SIM_SERVER_NOT_REACHABLE"),I="The simulation is terminated.",q="[WFPSim] ",R="AddDisconnectRequest",U="DeleteDisconnectRequest",z="HandleDisconnectRequest",W="GetDebuggerState",X="SetDebuggerState",V="SessionTimeout",J="SimOpen",K="SimConnect",Q="InDebugOrSim",G="WFP_SIM_CURR_STEP",Y="WFP_SIM_WATCH",Z="WFP_SIM_PROC_PROPS",et="WFP_SIM_RO_PROC_PROPS",tt="WFP_SIM_MOD_PROPS",nt="WFP_SIM_STATE",rt="Init",it="Starting",st="Running",ot="Ready",ut="OnStep",at="NOTOK",ft="NOTOK",lt="Type::Start",ct=null;SiebelJS.Extend(dt,SiebelAppFacade.ListPresentationModel),dt.prototype.Init=function(){SiebelAppFacade.FlowBuilderCanvasPM.superclass.Init.apply(this,arguments),this.AddProperty("LandMarkTitle",this.Get("GetAppletLabel")+" "+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_APPLET_TITLE")),this.AttachNotificationHandler(e.get("SWE_PROP_BC_NOTI_GENERIC"),vt,{scope:
this}),this.AddMethod(x,function(){}),this.AddMethod("SetEditorPreferences",Et),this.AddMethod("NewRecord",St),this.AddMethod("UpdateRecord",xt),this.AddMethod("BulkOperations",Tt),this.AddMethod("InvokeMethod",Nt,{sequence:!0,scope:this}),this.AddMethod("GetContextMenuInfo",Ct),this.AddMethod("CanvasDelete",function(){}),this.AddMethod("CanvasZoomOut",function(){}),this.AddMethod("CanvasZoomIn",function(){}),this.AddMethod("CanvasPrint",function(){}),this.AddProperty("IsMenuInitialized",!1),this.AddProperty("IsCondPopupOpening",!1),this.AddMethod("InitializeSimulator",Lt),this.AddMethod("InvokeSimulationMethod",Ht),this.AddMethod("LoadMenuSimAppPreferences",_t),this.AddMethod("SetSimAppPreferences",Pt),this.AddMethod("SetModifiedProperty",Wt),this.AddMethod("SetWatchData",function(e,t){}),this.AddMethod("NotifyUpdateMenuSimApp",function(){}),this.AddMethod("NotifySimulationStateChanged",function(){}),this.AddMethod("NotifyHighlightSimulationStep",function(e){}),this.AddProperty("IsSimulator",!1),this.AddProperty("SimState",rt),this.AddProperty("ProcessId",this.Get("GetBusComp").GetParentBusComp().GetIdValue()),this.AddProperty("ProcessPropPS",SiebelApp.S_App.NewPropertySet()),this.AddProperty("ReadOnlyProcessPropPS",SiebelApp.S_App.NewPropertySet()),this.AddProperty("ModifiedPropPS",SiebelApp.S_App.NewPropertySet()),this.AddProperty("AppInfoArray",[]),this.AddProperty("AppName",null),this.AddProperty("LangName",null),this.AddProperty("DisconnectRequestPS",SiebelApp.S_App.NewPropertySet())},dt.prototype.Setup=function(e){SiebelAppFacade.FlowBuilderCanvasPM.superclass.Setup.call(this,e),gt.call(this,e),bt.call(this)},dt.prototype.EndLife=function(e){if(this.Get("IsSimulator")){this.SetEndLife(!0),ht("EndLife: bEndLife: "+this.GetEndLife()+"; Created: "+this.GetCreated());var t=this.Get("SimState");t!==rt&&(t!==ot&&(Ut.call(this),t===it&&(jt.call(this),Vt.call(this,rt))),this.SetGetNextMsg(!1));var r=CCFMiscUtil_CreatePropSet(),i=CCFMiscUtil_CreatePropSet();r.SetProperty(J,"false"),this.InvokeServiceMethod(X,r,i);var s=n.IsTrue(i.GetProperty(Q));ht("EndLife: "+Q+" = "+s),window.sessionStorage.removeItem(G),window.sessionStorage.removeItem(Y),window.sessionStorage.removeItem(Z),window.sessionStorage.removeItem(et),window.sessionStorage.removeItem(tt)}SiebelAppFacade.FlowBuilderCanvasPM.superclass.EndLife.call(this,e)},dt.prototype.PostExecute=function(t,n,r,i){t===e.get("SWE_PREPARE_APPLET_MENU")&&mt.call(this,r)};var tn=function(e,t){var r="@0*0*3*1*0*0*6*Status19*SIMULATION COMPLETE7*Message30*Simulation ended successfully.8*NextStep0*0*0*18*ModifiedProperties0*",i={Start:{name:"Start",respstr:"@0*0*3*1*0*0*6*Status8*COMPLETE7*Message14*Step Completed8*NextStep23*QueryFromSiebelDatabase6*1*18*ModifiedProperties0*19*Process Instance Id9*88-1VGIRF9*Object Id6*1-5GZO26*Siebel Operation Object Id0*10*Error Code0*10*OutputFile40*Z:\\siebel\\temp\\SiebelAccountOutbound.xml13*Error Message0*0*0*13*OutputMessage0*"},QueryFromSiebelDatabase:{name:"QueryFromSiebelDatabase",respstr:"@0*0*3*1*0*0*6*Status8*COMPLETE7*Message14*Step Completed8*NextStep11*WriteToFile0*1*18*ModifiedProperties0*0*1*13*OutputMessage0*4*1*13*SiebelMessage0*9*MessageId0*13*IntObjectName17*Account Interface11*MessageType18*Integration Object15*IntObjectFormat19*Siebel Hierarchical0*1*23*ListOfAccount Interface0*37*6*7*Account0*16*PO Approved Flag0*30*PO Auto Approval Currency Code0*17*Skip Credit Check1*N23*Assignment Country Code0*11*DUNS Number0*19*Parent Account Name0*25*Price List Integration Id0*10*Account Id6*1-5GZO14*Account Status6*Active20*Assignment Area Code0*17*Main Phone Number10*415742450018*Credit Status Date0*13*Currency Code3*USD20*Primary Organization28*Millennium Healthcare HC ENU23*Parent Account Location0*15*Competitor Flag1*Y14*Parent HQ DUNS0*5*Alias0*14*Integration Id0*29*Parent Account Integration Id0*12*Partner Flag1*N26*Credit Auto Approval Limit1*022*PO Auto Approval Limit0*4*Type10*Commercial22*Domestic Ultimate DUNS0*19*Number of Employees3*3009*Home Page0*21*PO Auto Approval Date0*9*Expertise0*23*VAT registration number0*15*Main Fax Number10*41574245508*Location13*San Francisco20*Global Ultimate DUNS0*4*Name22*AG Edwards & Sons, Inc17*Parent Account Id0*10*Price List0*13*Price List Id0*0*1*22*ListOfBusiness Address0*11*0*16*Business Address0*12*IsPrimaryMVG1*Y16*Street Address 20*6*County0*4*City13*San Francisco14*Street Address14*784 Kearny St.5*State2*CA7*Country3*USA10*Address Id6*1-AJ3J22*Address Integration Id0*8*Province0*11*Postal Code5*941120*5*23*ListOfRelated Sales Rep0*6*0*17*Related Sales Rep0*8*Position19*Call Center Agent 18*Division7*Special12*IsPrimaryMVG1*N5*Login6*CCHENG11*Position Id5*1-36T23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position29*IF 20 33 Relationship Manager8*Division24*IF 20 Commercial Banking12*IsPrimaryMVG1*N5*Login8*FINADMIN11*Position Id5*1-1JD23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position20*Siebel Administrator8*Division21*Siebel Administration12*IsPrimaryMVG1*N5*Login6*SADMIN11*Position Id6*0-522023*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position24*Telesales Representative8*Division34*Performance Computer Systems, Inc.12*IsPrimaryMVG1*N5*Login6*TSMITH11*Position Id5*1-RDF23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position8*VP Sales8*Division34*Performance Computer Systems, Inc.12*IsPrimaryMVG1*Y5*Login7*VSILVER11*Position Id5*1=53D23*Position Integration Id0*0*4*21*ListOfRelated Contact0*7*0*15*Related Contact0*10*First Name5*Felix9*Last Name5*Aaron10*Contact Id6*1-AJ3J22*Contact Integration Id0*20*Primary Organization19*Active Systems - HQ10*Person UId6*1-AJ3J11*Middle Name1*Q7*0*15*Related Contact0*10*First Name5*Roger9*Last Name7*Guthrie10*Contact Id7*24-287Y22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId7*24-287Y11*Middle Name0*7*0*15*Related Contact0*10*First Name5*Henry9*Last Name5*Ulloa10*Contact Id6*1-A9NW22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId6*1-A9NW11*Middle Name1*A7*0*15*Related Contact0*10*First Name4*John9*Last Name4*Unga10*Contact Id6*1-57LT22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId6*1-57LT11*Middle Name0*0*1*26*ListOfRelated Organization0*4*0*20*Related Organization0*12*IsPrimaryMVG1*Y15*Organization Id9*1SIA-9ZDG27*Organization Integration Id0*12*Organization28*Millennium Healthcare HC ENU0*0*20*ListOfCredit Profile0*0*1*22*ListOfRelated Industry0*5*0*16*Related Industry0*12*IsPrimaryMVG1*Y8*SIC Code4*874211*Industry Id6*1-3AGR23*Industry Integration Id0*8*Industry30*Management Consulting Services"
},WriteToFile:{name:"WriteToFile",respstr:"@0*0*3*1*0*0*6*Status8*COMPLETE7*Message14*Step Completed8*NextStep3*End0*0*18*ModifiedProperties0*"},End:{name:"End",respstr:r}},s={QueryFromSiebelDatabase:{name:"QueryFromSiebelDatabase",respstr:"@0*0*3*1*0*0*6*Status19*SIMULATION COMPLETE7*Message30*Simulation ended successfully.8*NextStep0*0*1*18*ModifiedProperties0*0*1*13*OutputMessage0*4*1*13*SiebelMessage0*9*MessageId0*13*IntObjectName17*Account Interface11*MessageType18*Integration Object15*IntObjectFormat19*Siebel Hierarchical0*1*23*ListOfAccount Interface0*37*6*7*Account0*16*PO Approved Flag0*30*PO Auto Approval Currency Code0*17*Skip Credit Check1*N23*Assignment Country Code0*11*DUNS Number0*19*Parent Account Name0*25*Price List Integration Id0*10*Account Id6*1-5GZO14*Account Status6*Active20*Assignment Area Code0*17*Main Phone Number10*415742450018*Credit Status Date0*13*Currency Code3*USD20*Primary Organization28*Millennium Healthcare HC ENU23*Parent Account Location0*15*Competitor Flag1*Y14*Parent HQ DUNS0*5*Alias0*14*Integration Id0*29*Parent Account Integration Id0*12*Partner Flag1*N26*Credit Auto Approval Limit1*022*PO Auto Approval Limit0*4*Type10*Commercial22*Domestic Ultimate DUNS0*19*Number of Employees3*3009*Home Page0*21*PO Auto Approval Date0*9*Expertise0*23*VAT registration number0*15*Main Fax Number10*41574245508*Location13*San Francisco20*Global Ultimate DUNS0*4*Name22*AG Edwards & Sons, Inc17*Parent Account Id0*10*Price List0*13*Price List Id0*0*1*22*ListOfBusiness Address0*11*0*16*Business Address0*12*IsPrimaryMVG1*Y16*Street Address 20*6*County0*4*City13*San Francisco14*Street Address14*784 Kearny St.5*State2*CA7*Country3*USA10*Address Id6*1-AJ3J22*Address Integration Id0*8*Province0*11*Postal Code5*941120*5*23*ListOfRelated Sales Rep0*6*0*17*Related Sales Rep0*8*Position19*Call Center Agent 18*Division7*Special12*IsPrimaryMVG1*N5*Login6*CCHENG11*Position Id5*1-36T23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position29*IF 20 33 Relationship Manager8*Division24*IF 20 Commercial Banking12*IsPrimaryMVG1*N5*Login8*FINADMIN11*Position Id5*1-1JD23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position20*Siebel Administrator8*Division21*Siebel Administration12*IsPrimaryMVG1*N5*Login6*SADMIN11*Position Id6*0-522023*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position24*Telesales Representative8*Division34*Performance Computer Systems, Inc.12*IsPrimaryMVG1*N5*Login6*TSMITH11*Position Id5*1-RDF23*Position Integration Id0*6*0*17*Related Sales Rep0*8*Position8*VP Sales8*Division34*Performance Computer Systems, Inc.12*IsPrimaryMVG1*Y5*Login7*VSILVER11*Position Id5*1=53D23*Position Integration Id0*0*4*21*ListOfRelated Contact0*7*0*15*Related Contact0*10*First Name5*Felix9*Last Name5*Aaron10*Contact Id6*1-AJ3J22*Contact Integration Id0*20*Primary Organization19*Active Systems - HQ10*Person UId6*1-AJ3J11*Middle Name1*Q7*0*15*Related Contact0*10*First Name5*Roger9*Last Name7*Guthrie10*Contact Id7*24-287Y22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId7*24-287Y11*Middle Name0*7*0*15*Related Contact0*10*First Name5*Henry9*Last Name5*Ulloa10*Contact Id6*1-A9NW22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId6*1-A9NW11*Middle Name1*A7*0*15*Related Contact0*10*First Name4*John9*Last Name4*Unga10*Contact Id6*1-57LT22*Contact Integration Id0*20*Primary Organization20*Default Organization10*Person UId6*1-57LT11*Middle Name0*0*1*26*ListOfRelated Organization0*4*0*20*Related Organization0*12*IsPrimaryMVG1*Y15*Organization Id9*1SIA-9ZDG27*Organization Integration Id0*12*Organization28*Millennium Healthcare HC ENU0*0*20*ListOfCredit Profile0*0*1*22*ListOfRelated Industry0*5*0*16*Related Industry0*12*IsPrimaryMVG1*Y8*SIC Code4*874211*Industry Id6*1-3AGR23*Industry Integration Id0*8*Industry30*Management Consulting Services"},WriteToFile:{name:"WriteToFile",respstr:r},End:{name:"End",respstr:r}},o="@0*0*8*0*0*4*14596*PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48U2llYmVsTWVzc2FnZQogTWVzc2FnZUlkPSI4OC0yMUJSWiIKIEludE9iamVjdE5hbWU9IlJlcG9zaXRvcnkgV29ya2Zsb3cgRGVmaW5pdGlvbiBFeHBvcnQgVi43LjcuMSIKIE1lc3NhZ2VUeXBlPSJJbnRlZ3JhdGlvbiBPYmplY3QiCiBJbnRPYmplY3RGb3JtYXQ9IlNpZWJlbCBIaWVyYXJjaGljYWwiCj48TGlzdE9mUmVwb3NpdG9yeVdvcmtmbG93UHJvY2Vzcwo+PFJlcG9zaXRvcnlXb3JrZmxvd1Byb2Nlc3MKPjxCdXNpbmVzc09iamVjdAo+QWNjb3VudDwvQnVzaW5lc3NPYmplY3QKPjxDYWNoZUxvY2FsZQo+TjwvQ2FjaGVMb2NhbGUKPjxDb21tZW50cwo+Rkg6OC82LzA0IHRlc3Rpbmcgc2llYmVsIEFjY291bnQgQVNJPC9Db21tZW50cwo+PERlc2NyaXB0aW9uCj48L0Rlc2NyaXB0aW9uCj48RWZmZWN0aXZlRW5kRGF0ZQo+PC9FZmZlY3RpdmVFbmREYXRlCj48RWZmZWN0aXZlU3RhcnREYXRlCj48L0VmZmVjdGl2ZVN0YXJ0RGF0ZQo+PEVycm9yUHJvY2Vzc05hbWUKPjwvRXJyb3JQcm9jZXNzTmFtZQo+PEdyb3VwCj48L0dyb3VwCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48TW9kdWxlCj48L01vZHVsZQo+PE5hbWUKPlRTWVUgU2llYmVsIEFjY291bnQgT3V0Ym91bmQ6IDA8L05hbWUKPjxQZXJzaXN0ZW50RnJlcXVlbmN5Cj5OPC9QZXJzaXN0ZW50RnJlcXVlbmN5Cj48UGVyc2lzdGVudExldmVsCj48L1BlcnNpc3RlbnRMZXZlbAo+PFByb2Nlc3NOYW1lCj5UU1lVIFNpZWJlbCBBY2NvdW50IE91dGJvdW5kPC9Qcm9jZXNzTmFtZQo+PFByb2plY3ROYW1lCj5DVVQgU2llYmVsIENvbW11bmljYXRpb25zPC9Qcm9qZWN0TmFtZQo+PFJlcGxpY2F0aW9uTGV2ZWwKPk5vbmU8L1JlcGxpY2F0aW9uTGV2ZWwKPjxSdW5uYWJsZQo+WTwvUnVubmFibGUKPjxTdGF0dXMKPkNPTVBMRVRFRDwvU3RhdHVzCj48VmVyc2lvbgo+MDwvVmVyc2lvbgo+PFdvcmtmbG93TW9kZQo+NzBGTE9XPC9Xb3JrZmxvd01vZGUKPjxTdGF0ZU1hbmFnZW1lbnRUeXBlCj5TVEFURUZVTDwvU3RhdGVNYW5hZ2VtZW50VHlwZQo+PFBhc3NCeVJlZkhpZXJhcmNoeUFyZ3VtZW50Cj5OPC9QYXNzQnlSZWZIaWVyYXJjaHlBcmd1bWVudAo+PFdlYlNlcnZpY2VFbmFibGVkCj5OPC9XZWJTZXJ2aWNlRW5hYmxlZAo+PExpc3RPZlJlcG9zaXRvcnlXZlByb2Nlc3NQcm9wCj48UmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjxBY2Nlc3NNb2RlCj5SVzwvQWNjZXNzTW9kZQo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxDb3JyZWxhdG9yRmxhZwo+TjwvQ29ycmVsYXRvckZsYWcKPjxEYXRhVHlwZQo+VkFSQ0hBUjwvRGF0YVR5cGUKPjxEZWZhdWx0RGF0ZQo+PC9EZWZhdWx0RGF0ZQo+PERlZmF1bHROdW1iZXIKPjwvRGVmYXVsdE51bWJlcgo+PERlZmF1bHRTdHJpbmcKPjwvRGVmYXVsdFN0cmluZwo+PERpc3BsYXlOYW1lCj5FcnJvciBDb2RlPC9EaXNwbGF5TmFtZQo+PEluT3V0Cj5JTk9VVDwvSW5PdXQKPjxJbmFjdGl2ZQo+PC9JbmFjdGl2ZQo+PEludGVncmF0aW9uT2JqZWN0Cj48L0ludGVncmF0aW9uT2JqZWN0Cj48TmFtZTIKPkVycm9yIENvZGU8L05hbWUyCj48VmlydHVhbEZpZWxkCj48L1ZpcnR1YWxGaWVsZAo+PC9SZXBvc2l0b3J5V2ZQcm9jZXNzUHJvcAo+PFJlcG9zaXRvcnlXZlByb2Nlc3NQcm9wCj48QWNjZXNzTW9kZQo+Ulc8L0FjY2Vzc01vZGUKPjxCdXNpbmVzc0NvbXBvbmVudAo+PC9CdXNpbmVzc0NvbXBvbmVudAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48Q29ycmVsYXRvckZsYWcKPk48L0NvcnJlbGF0b3JGbGFnCj48RGF0YVR5cGUKPlZBUkNIQVI8L0RhdGFUeXBlCj48RGVmYXVsdERhdGUKPjwvRGVmYXVsdERhdGUKPjxEZWZhdWx0TnVtYmVyCj48L0RlZmF1bHROdW1iZXIKPjxEZWZhdWx0U3RyaW5nCj48L0RlZmF1bHRTdHJpbmcKPjxEaXNwbGF5TmFtZQo+RXJyb3IgTWVzc2FnZTwvRGlzcGxheU5hbWUKPjxJbk91dAo+SU5PVVQ8L0luT3V0Cj48SW5hY3RpdmUKPjwvSW5hY3RpdmUKPjxJbnRlZ3JhdGlvbk9iamVjdAo+PC9JbnRlZ3JhdGlvbk9iamVjdAo+PE5hbWUyCj5FcnJvciBNZXNzYWdlPC9OYW1lMgo+PFZpcnR1YWxGaWVsZAo+PC9WaXJ0dWFsRmllbGQKPjwvUmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjxSZXBvc2l0b3J5V2ZQcm9jZXNzUHJvcAo+PEFjY2Vzc01vZGUKPlJXPC9BY2Nlc3NNb2RlCj48QnVzaW5lc3NDb21wb25lbnQKPjwvQnVzaW5lc3NDb21wb25lbnQKPjxDb21tZW50cwo+PC9Db21tZW50cwo+PENvcnJlbGF0b3JGbGFnCj5OPC9Db3JyZWxhdG9yRmxhZwo+PERhdGFUeXBlCj5WQVJDSEFSPC9EYXRhVHlwZQo+PERlZmF1bHREYXRlCj48L0RlZmF1bHREYXRlCj48RGVmYXVsdE51bWJlcgo+PC9EZWZhdWx0TnVtYmVyCj48RGVmYXVsdFN0cmluZwo+MS01R1pPPC9EZWZhdWx0U3RyaW5nCj48RGlzcGxheU5hbWUKPk9iamVjdCBJZDwvRGlzcGxheU5hbWUKPjxJbk91dAo+SU5PVVQ8L0luT3V0Cj48SW5hY3RpdmUKPjwvSW5hY3RpdmUKPjxJbnRlZ3JhdGlvbk9iamVjdAo+PC9JbnRlZ3JhdGlvbk9iamVjdAo+PE5hbWUyCj5PYmplY3QgSWQ8L05hbWUyCj48VmlydHVhbEZpZWxkCj48L1ZpcnR1YWxGaWVsZAo+PC9SZXBvc2l0b3J5V2ZQcm9jZXNzUHJvcAo+PFJlcG9zaXRvcnlXZlByb2Nlc3NQcm9wCj48QWNjZXNzTW9kZQo+Ulc8L0FjY2Vzc01vZGUKPjxCdXNpbmVzc0NvbXBvbmVudAo+PC9CdXNpbmVzc0NvbXBvbmVudAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48Q29ycmVsYXRvckZsYWcKPk48L0NvcnJlbGF0b3JGbGFnCj48RGF0YVR5cGUKPlZBUkNIQVI8L0RhdGFUeXBlCj48RGVmYXVsdERhdGUKPjwvRGVmYXVsdERhdGUKPjxEZWZhdWx0TnVtYmVyCj48L0RlZmF1bHROdW1iZXIKPjxEZWZhdWx0U3RyaW5nCj5aOlxzaWViZWxcdGVtcFxTaWViZWxBY2NvdW50T3V0Ym91bmQueG1sPC9EZWZhdWx0U3RyaW5nCj48RGlzcGxheU5hbWUKPk91dHB1dEZpbGU8L0Rpc3BsYXlOYW1lCj48SW5PdXQKPklOT1VUPC9Jbk91dAo+PEluYWN0aXZlCj48L0luYWN0aXZlCj48SW50ZWdyYXRpb25PYmplY3QKPjwvSW50ZWdyYXRpb25PYmplY3QKPjxOYW1lMgo+T3V0cHV0RmlsZTwvTmFtZTIKPjxWaXJ0dWFsRmllbGQKPjwvVmlydHVhbEZpZWxkCj48L1JlcG9zaXRvcnlXZlByb2Nlc3NQcm9wCj48UmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjxBY2Nlc3NNb2RlCj5SVzwvQWNjZXNzTW9kZQo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxDb3JyZWxhdG9yRmxhZwo+TjwvQ29ycmVsYXRvckZsYWcKPjxEYXRhVHlwZQo+UFJPUFNFVF9DSElMRDwvRGF0YVR5cGUKPjxEZWZhdWx0RGF0ZQo+PC9EZWZhdWx0RGF0ZQo+PERlZmF1bHROdW1iZXIKPjwvRGVmYXVsdE51bWJlcgo+PERlZmF1bHRTdHJpbmcKPjwvRGVmYXVsdFN0cmluZwo+PERpc3BsYXlOYW1lCj5PdXRwdXRNZXNzYWdlPC9EaXNwbGF5TmFtZQo+PEluT3V0Cj5JTk9VVDwvSW5PdXQKPjxJbmFjdGl2ZQo+PC9JbmFjdGl2ZQo+PEludGVncmF0aW9uT2JqZWN0Cj48L0ludGVncmF0aW9uT2JqZWN0Cj48TmFtZTIKPk91dHB1dE1lc3NhZ2U8L05hbWUyCj48VmlydHVhbEZpZWxkCj48L1ZpcnR1YWxGaWVsZAo+PC9SZXBvc2l0b3J5V2ZQcm9jZXNzUHJvcAo+PFJlcG9zaXRvcnlXZlByb2Nlc3NQcm9wCj48QWNjZXNzTW9kZQo+Ulc8L0FjY2Vzc01vZGUKPjxCdXNpbmVzc0NvbXBvbmVudAo+PC9CdXNpbmVzc0NvbXBvbmVudAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48Q29ycmVsYXRvckZsYWcKPk48L0NvcnJlbGF0b3JGbGFnCj48RGF0YVR5cGUKPlZBUkNIQVI8L0RhdGFUeXBlCj48RGVmYXVsdERhdGUKPjwvRGVmYXVsdERhdGUKPjxEZWZhdWx0TnVtYmVyCj48L0RlZmF1bHROdW1iZXIKPjxEZWZhdWx0U3RyaW5nCj48L0RlZmF1bHRTdHJpbmcKPjxEaXNwbGF5TmFtZQo+UHJvY2VzcyBJbnN0YW5jZSBJZDwvRGlzcGxheU5hbWUKPjxJbk91dAo+SU5PVVQ8L0luT3V0Cj48SW5hY3RpdmUKPjwvSW5hY3RpdmUKPjxJbnRlZ3JhdGlvbk9iamVjdAo+PC9JbnRlZ3JhdGlvbk9iamVjdAo+PE5hbWUyCj5Qcm9jZXNzIEluc3RhbmNlIElkPC9OYW1lMgo+PFZpcnR1YWxGaWVsZAo+PC9WaXJ0dWFsRmllbGQKPjwvUmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjxSZXBvc2l0b3J5V2ZQcm9jZXNzUHJvcAo+PEFjY2Vzc01vZGUKPlJXPC9BY2Nlc3NNb2RlCj48QnVzaW5lc3NDb21wb25lbnQKPjwvQnVzaW5lc3NDb21wb25lbnQKPjxDb21tZW50cwo+PC9Db21tZW50cwo+PENvcnJlbGF0b3JGbGFnCj5OPC9Db3JyZWxhdG9yRmxhZwo+PERhdGFUeXBlCj5WQVJDSEFSPC9EYXRhVHlwZQo+PERlZmF1bHREYXRlCj48L0RlZmF1bHREYXRlCj48RGVmYXVsdE51bWJlcgo+PC9EZWZhdWx0TnVtYmVyCj48RGVmYXVsdFN0cmluZwo+PC9EZWZhdWx0U3RyaW5nCj48RGlzcGxheU5hbWUKPlNpZWJlbCBPcGVyYXRpb24gT2JqZWN0IElkPC9EaXNwbGF5TmFtZQo+PEluT3V0Cj5JTk9VVDwvSW5PdXQKPjxJbmFjdGl2ZQo+PC9JbmFjdGl2ZQo+PEludGVncmF0aW9uT2JqZWN0Cj48L0ludGVncmF0aW9uT2JqZWN0Cj48TmFtZTIKPlNpZWJlbCBPcGVyYXRpb24gT2JqZWN0IElkPC9OYW1lMgo+PFZpcnR1YWxGaWVsZAo+PC9WaXJ0dWFsRmllbGQKPjwvUmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjwvTGlzdE9mUmVwb3NpdG9yeVdmUHJvY2Vzc1Byb3AKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwCj48UmVwb3NpdG9yeVdmU3RlcAo+PEFsbG93UmV0cnlGbGFnCj5OPC9BbGxvd1JldHJ5RmxhZwo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48T3BlcmF0aW9uCj48L09wZXJhdGlvbgo+PEJ1c2luZXNzU2VydmljZU1ldGhvZAo+PC9CdXNpbmVzc1NlcnZpY2VNZXRob2QKPjxCdXNpbmVzc1NlcnZpY2VOYW1lCj48L0J1c2luZXNzU2VydmljZU5hbWUKPjxDb21tZW50cwo+PC9Db21tZW50cwo+PERlc2NyaXB0aW9uCj48L0Rlc2NyaXB0aW9uCj48RXJyb3JDb2RlCj48L0Vycm9yQ29kZQo+PEVycm9yTWVzc2FnZQo+PC9FcnJvck1lc3NhZ2UKPjxFdmFsdWF0ZUFsbAo+TjwvRXZhbHVhdGVBbGwKPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxMYXlvdXQKPkAwKjAqMyowKjAqMCoxKnIxMyo0ODAgNDggNTc2IDk2OSpGaWxsQmdDbHI4KjEzNDIxNzcyOCpBcnJvd0VuZDEqMTwvTGF5b3V0Cj48TWF4aW11bUl0ZXJhdGlvbnMKPjwvTWF4aW11bUl0ZXJhdGlvbnMKPjxOYW1lMwo+RW5kPC9OYW1lMwo+PFByb2Nlc3NpbmdNb2RlCj48L1Byb2Nlc3NpbmdNb2RlCj48U3VicHJvY2Vzc05hbWUKPjwvU3VicHJvY2Vzc05hbWUKPjxUeXBlCj5FTkQ8L1R5cGUKPjxVc2VySW50ZXJhY3RWaWV3Cj48L1VzZXJJbnRlcmFjdFZpZXcKPjxUYXNrTmFtZQo+PC9UYXNrTmFtZQo+PExpc3RPZlJlcG9zaXRvcnlXZlN0ZXBCcmFuY2gKPjwvTGlzdE9mUmVwb3NpdG9yeVdmU3RlcEJyYW5jaAo+PExpc3RPZlJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48L0xpc3RPZlJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48TGlzdE9mUmVwb3NpdG9yeVdmU3RlcFJlY2lwaWVudAo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwUmVjaXBpZW50Cj48L1JlcG9zaXRvcnlXZlN0ZXAKPjxSZXBvc2l0b3J5V2ZTdGVwCj48QWxsb3dSZXRyeUZsYWcKPk48L0FsbG93UmV0cnlGbGFnCj48QnVzaW5lc3NDb21wb25lbnQKPjwvQnVzaW5lc3NDb21wb25lbnQKPjxPcGVyYXRpb24KPjwvT3BlcmF0aW9uCj48QnVzaW5lc3NTZXJ2aWNlTWV0aG9kCj5RdWVyeUJ5SWQ8L0J1c2luZXNzU2VydmljZU1ldGhvZAo+PEJ1c2luZXNzU2VydmljZU5hbWUKPlNpZWJlbCBBY2NvdW50PC9CdXNpbmVzc1NlcnZpY2VOYW1lCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxEZXNjcmlwdGlvbgo+PC9EZXNjcmlwdGlvbgo+PEVycm9yQ29kZQo+PC9FcnJvckNvZGUKPjxFcnJvck1lc3NhZ2UKPjwvRXJyb3JNZXNzYWdlCj48RXZhbHVhdGVBbGwKPk48L0V2YWx1YXRlQWxsCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48TGF5b3V0Cj5AMCowKjMqMCowKjAqMSpyMTMqMTgwIDQ4IDI3NiA5NjkqRmlsbEJnQ2xyOCoxNjc2NDE1OTgqQXJyb3dFbmQxKjE8L0xheW91dAo+PE1heGltdW1JdGVyYXRpb25zCj48L01heGltdW1JdGVyYXRpb25zCj48TmFtZTMKPlF1ZXJ5RnJvbVNpZWJlbERhdGFiYXNlPC9OYW1lMwo+PFByb2Nlc3NpbmdNb2RlCj48L1Byb2Nlc3NpbmdNb2RlCj48U3VicHJvY2Vzc05hbWUKPjwvU3VicHJvY2Vzc05hbWUKPjxUeXBlCj5UQVNLPC9UeXBlCj48VXNlckludGVyYWN0Vmlldwo+PC9Vc2VySW50ZXJhY3RWaWV3Cj48VGFza05hbWUKPjwvVGFza05hbWUKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwQnJhbmNoCj48UmVwb3NpdG9yeVdmU3RlcEJyYW5jaAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48Q291bnQKPjwvQ291bnQKPjxFdmFsdWF0ZVNlcXVlbmNlCj48L0V2YWx1YXRlU2VxdWVuY2UKPjxFdmVudAo+PC9FdmVudAo+PEV2ZW50Q2FuY2VsRmxhZwo+TjwvRXZlbnRDYW5jZWxGbGFnCj48RXZlbnRPYmplY3QKPjwvRXZlbnRPYmplY3QKPjxFdmVudE9iamVjdFR5cGUKPjwvRXZlbnRPYmplY3RUeXBlCj48RXZlbnRWaXNpYmlsaXR5Cj5FTlRFUlBSSVNFPC9FdmVudFZpc2liaWxpdHkKPjxFeHByZXNzaW9uCj48L0V4cHJlc3Npb24KPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxOYW1lMgo+RGVmYXVsdC5DT05ORUNUT1I8L05hbWUyCj48U3ViZXZlbnQKPjwvU3ViZXZlbnQKPjxUaW1lTGltaXQKPjwvVGltZUxpbWl0Cj48VHlwZQo+Q09OTkVDVE9SPC9UeXBlCj48VXNlckV2ZW50TmFtZQo+PC9Vc2VyRXZlbnROYW1lCj48VXNlckV2ZW50U3RvcmFnZQo+PC9Vc2VyRXZlbnRTdG9yYWdlCj48VXNlckV2ZW50VGltZW91dAo+MDwvVXNlckV2ZW50VGltZW91dAo+PExheW91dAo+QDAqMCo3KjAqMCowKjkqTGluZVdpZHRoMSoyNCpGckhTMSoyMipQMTYqMzI0IDcyNCpOUHRzMSoyMipQMDYqMjc2IDcyNCpUb0hTMSowOCpBcnJvd0VuZDEqMTwvTGF5b3V0Cj48VG9TdGVwTmFtZQo+V3JpdGVUb0ZpbGU8L1RvU3RlcE5hbWUKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZCcmFuY2hDcml0ZXJpYQo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZCcmFuY2hDcml0ZXJpYQo+PC9SZXBvc2l0b3J5V2ZTdGVwQnJhbmNoCj48L0xpc3RPZlJlcG9zaXRvcnlXZlN0ZXBCcmFuY2gKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwSU9Bcmd1bWVudAo+PFJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48QnVzaW5lc3NDb21wb25lbnQKPjwvQnVzaW5lc3NDb21wb25lbnQKPjxCdXNpbmVzc0NvbXBvbmVudEZpZWxkCj48L0J1c2luZXNzQ29tcG9uZW50RmllbGQKPjxDb21tZW50cwo+PC9Db21tZW50cwo+PEluYWN0aXZlCj5OPC9JbmFjdGl2ZQo+PElucHV0RmxhZwo+STwvSW5wdXRGbGFnCj48SXRlbVR5cGVOYW1lCj48L0l0ZW1UeXBlTmFtZQo+PE5hbWUyCj5QcmltYXJ5Um93SWQ8L05hbWUyCj48T3V0cHV0QXJnCj48L091dHB1dEFyZwo+PFByb3BlcnR5TmFtZQo+T2JqZWN0IElkPC9Qcm9wZXJ0eU5hbWUKPjxTZXF1ZW5jZQo+MDwvU2VxdWVuY2UKPjxUeXBlCj5QUk9QRVJUWTwvVHlwZQo+PFZhbHVlU2VhcmNoU3BlY2lmaWNhdGlvbgo+PC9WYWx1ZVNlYXJjaFNwZWNpZmljYXRpb24KPjwvUmVwb3NpdG9yeVdmU3RlcElPQXJndW1lbnQKPjxSZXBvc2l0b3J5V2ZTdGVwSU9Bcmd1bWVudAo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48QnVzaW5lc3NDb21wb25lbnRGaWVsZAo+PC9CdXNpbmVzc0NvbXBvbmVudEZpZWxkCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxJbnB1dEZsYWcKPk88L0lucHV0RmxhZwo+PEl0ZW1UeXBlTmFtZQo+PC9JdGVtVHlwZU5hbWUKPjxOYW1lMgo+TzpRdWVyeUZyb21TaWViZWxEYXRhYmFzZTE8L05hbWUyCj48T3V0cHV0QXJnCj5TaWViZWxNZXNzYWdlPC9PdXRwdXRBcmcKPjxQcm9wZXJ0eU5hbWUKPk91dHB1dE1lc3NhZ2U8L1Byb3BlcnR5TmFtZQo+PFNlcXVlbmNlCj4xPC9TZXF1ZW5jZQo+PFR5cGUKPkFSR1VNRU5UPC9UeXBlCj48VmFsdWVTZWFyY2hTcGVjaWZpY2F0aW9uCj48L1ZhbHVlU2VhcmNoU3BlY2lmaWNhdGlvbgo+PC9SZXBvc2l0b3J5V2ZTdGVwSU9Bcmd1bWVudAo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwSU9Bcmd1bWVudAo+PExpc3RPZlJlcG9zaXRvcnlXZlN0ZXBSZWNpcGllbnQKPjwvTGlzdE9mUmVwb3NpdG9yeVdmU3RlcFJlY2lwaWVudAo+PC9SZXBvc2l0b3J5V2ZTdGVwCj48UmVwb3NpdG9yeVdmU3RlcAo+PEFsbG93UmV0cnlGbGFnCj5OPC9BbGxvd1JldHJ5RmxhZwo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48T3BlcmF0aW9uCj48L09wZXJhdGlvbgo+PEJ1c2luZXNzU2VydmljZU1ldGhvZAo+PC9CdXNpbmVzc1NlcnZpY2VNZXRob2QKPjxCdXNpbmVzc1NlcnZpY2VOYW1lCj48L0J1c2luZXNzU2VydmljZU5hbWUKPjxDb21tZW50cwo+PC9Db21tZW50cwo+PERlc2NyaXB0aW9uCj48L0Rlc2NyaXB0aW9uCj48RXJyb3JDb2RlCj48L0Vycm9yQ29kZQo+PEVycm9yTWVzc2FnZQo+PC9FcnJvck1lc3NhZ2UKPjxFdmFsdWF0ZUFsbAo+TjwvRXZhbHVhdGVBbGwKPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxMYXlvdXQKPkAwKjAqMyowKjAqMCoxKnIxMioyNCA0OCAxMjAgOTY5KkZpbGxCZ0NscjgqMTE3MjQyMTA4KkFycm93RW5kMSoxPC9MYXlvdXQKPjxNYXhpbXVtSXRlcmF0aW9ucwo+PC9NYXhpbXVtSXRlcmF0aW9ucwo+PE5hbWUzCj5TdGFydDwvTmFtZTMKPjxQcm9jZXNzaW5nTW9kZQo+PC9Qcm9jZXNzaW5nTW9kZQo+PFN1YnByb2Nlc3NOYW1lCj48L1N1YnByb2Nlc3NOYW1lCj48VHlwZQo+U1RBUlQ8L1R5cGUKPjxVc2VySW50ZXJhY3RWaWV3Cj48L1VzZXJJbnRlcmFjdFZpZXcKPjxUYXNrTmFtZQo+PC9UYXNrTmFtZQo+PExpc3RPZlJlcG9zaXRvcnlXZlN0ZXBCcmFuY2gKPjxSZXBvc2l0b3J5V2ZTdGVwQnJhbmNoCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxDb3VudAo+PC9Db3VudAo+PEV2YWx1YXRlU2VxdWVuY2UKPjwvRXZhbHVhdGVTZXF1ZW5jZQo+PEV2ZW50Cj48L0V2ZW50Cj48RXZlbnRDYW5jZWxGbGFnCj5OPC9FdmVudENhbmNlbEZsYWcKPjxFdmVudE9iamVjdAo+PC9FdmVudE9iamVjdAo+PEV2ZW50T2JqZWN0VHlwZQo+PC9FdmVudE9iamVjdFR5cGUKPjxFdmVudFZpc2liaWxpdHkKPkVOVEVSUFJJU0U8L0V2ZW50VmlzaWJpbGl0eQo+PEV4cHJlc3Npb24KPjwvRXhwcmVzc2lvbgo+PEluYWN0aXZlCj5OPC9JbmFjdGl2ZQo+PE5hbWUyCj5EZWZhdWx0PC9OYW1lMgo+PFN1YmV2ZW50Cj48L1N1YmV2ZW50Cj48VGltZUxpbWl0Cj48L1RpbWVMaW1pdAo+PFR5cGUKPkRFRkFVTFQ8L1R5cGUKPjxVc2VyRXZlbnROYW1lCj48L1VzZXJFdmVudE5hbWUKPjxVc2VyRXZlbnRTdG9yYWdlCj48L1VzZXJFdmVudFN0b3JhZ2UKPjxVc2VyRXZlbnRUaW1lb3V0Cj4wPC9Vc2VyRXZlbnRUaW1lb3V0Cj48TGF5b3V0Cj5AMCowKjcqMCowKjAqOSpMaW5lV2lkdGgxKjI0KkZySFMxKjIyKlAxNioxODAgNzI0Kk5QdHMxKjIyKlAwNioxMDggNzI0KlRvSFMxKjA4KkFycm93RW5kMSoxPC9MYXlvdXQKPjxUb1N0ZXBOYW1lCj5RdWVyeUZyb21TaWViZWxEYXRhYmFzZTwvVG9TdGVwTmFtZQo+PExpc3RPZlJlcG9zaXRvcnlXZkJyYW5jaENyaXRlcmlhCj48L0xpc3RPZlJlcG9zaXRvcnlXZkJyYW5jaENyaXRlcmlhCj48L1JlcG9zaXRvcnlXZlN0ZXBCcmFuY2gKPjwvTGlzdE9mUmVwb3NpdG9yeVdmU3RlcEJyYW5jaAo+PExpc3RPZlJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48L0xpc3RPZlJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48TGlzdE9mUmVwb3NpdG9yeVdmU3RlcFJlY2lwaWVudAo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwUmVjaXBpZW50Cj48L1JlcG9zaXRvcnlXZlN0ZXAKPjxSZXBvc2l0b3J5V2ZTdGVwCj48QWxsb3dSZXRyeUZsYWcKPk48L0FsbG93UmV0cnlGbGFnCj48QnVzaW5lc3NDb21wb25lbnQKPjwvQnVzaW5lc3NDb21wb25lbnQKPjxPcGVyYXRpb24KPjwvT3BlcmF0aW9uCj48QnVzaW5lc3NTZXJ2aWNlTWV0aG9kCj5Xcml0ZUVBSU1zZzwvQnVzaW5lc3NTZXJ2aWNlTWV0aG9kCj48QnVzaW5lc3NTZXJ2aWNlTmFtZQo+RUFJIFhNTCBXcml0ZSB0byBGaWxlPC9CdXNpbmVzc1NlcnZpY2VOYW1lCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxEZXNjcmlwdGlvbgo+PC9EZXNjcmlwdGlvbgo+PEVycm9yQ29kZQo+PC9FcnJvckNvZGUKPjxFcnJvck1lc3NhZ2UKPjwvRXJyb3JNZXNzYWdlCj48RXZhbHVhdGVBbGwKPk48L0V2YWx1YXRlQWxsCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48TGF5b3V0Cj5AMCowKjMqMCowKjAqMSpyMTMqMzI0IDQ4IDQyMCA5NjkqRmlsbEJnQ2xyOCoxNjc2NDE1OTgqQXJyb3dFbmQxKjE8L0xheW91dAo+PE1heGltdW1JdGVyYXRpb25zCj48L01heGltdW1JdGVyYXRpb25zCj48TmFtZTMKPldyaXRlVG9GaWxlPC9OYW1lMwo+PFByb2Nlc3NpbmdNb2RlCj48L1Byb2Nlc3NpbmdNb2RlCj48U3VicHJvY2Vzc05hbWUKPjwvU3VicHJvY2Vzc05hbWUKPjxUeXBlCj5UQVNLPC9UeXBlCj48VXNlckludGVyYWN0Vmlldwo+PC9Vc2VySW50ZXJhY3RWaWV3Cj48VGFza05hbWUKPjwvVGFza05hbWUKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwQnJhbmNoCj48UmVwb3NpdG9yeVdmU3RlcEJyYW5jaAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48Q291bnQKPjwvQ291bnQKPjxFdmFsdWF0ZVNlcXVlbmNlCj48L0V2YWx1YXRlU2VxdWVuY2UKPjxFdmVudAo+PC9FdmVudAo+PEV2ZW50Q2FuY2VsRmxhZwo+TjwvRXZlbnRDYW5jZWxGbGFnCj48RXZlbnRPYmplY3QKPjwvRXZlbnRPYmplY3QKPjxFdmVudE9iamVjdFR5cGUKPjwvRXZlbnRPYmplY3RUeXBlCj48RXZlbnRWaXNpYmlsaXR5Cj5FTlRFUlBSSVNFPC9FdmVudFZpc2liaWxpdHkKPjxFeHByZXNzaW9uCj48L0V4cHJlc3Npb24KPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxOYW1lMgo+RGVmYXVsdC5DT05ORUNUT1I8L05hbWUyCj48U3ViZXZlbnQKPjwvU3ViZXZlbnQKPjxUaW1lTGltaXQKPjwvVGltZUxpbWl0Cj48VHlwZQo+Q09OTkVDVE9SPC9UeXBlCj48VXNlckV2ZW50TmFtZQo+PC9Vc2VyRXZlbnROYW1lCj48VXNlckV2ZW50U3RvcmFnZQo+PC9Vc2VyRXZlbnRTdG9yYWdlCj48VXNlckV2ZW50VGltZW91dAo+MDwvVXNlckV2ZW50VGltZW91dAo+PExheW91dAo+QDAqMCo3KjAqMCowKjkqTGluZVdpZHRoMSoyNCpGckhTMSoyMipQMTYqNDgwIDcyNCpOUHRzMSoyMipQMDYqNDIwIDcyNCpUb0hTMSowOCpBcnJvd0VuZDEqMTwvTGF5b3V0Cj48VG9TdGVwTmFtZQo+RW5kPC9Ub1N0ZXBOYW1lCj48TGlzdE9mUmVwb3NpdG9yeVdmQnJhbmNoQ3JpdGVyaWEKPjwvTGlzdE9mUmVwb3NpdG9yeVdmQnJhbmNoQ3JpdGVyaWEKPjwvUmVwb3NpdG9yeVdmU3RlcEJyYW5jaAo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwQnJhbmNoCj48TGlzdE9mUmVwb3NpdG9yeVdmU3RlcElPQXJndW1lbnQKPjxSZXBvc2l0b3J5V2ZTdGVwSU9Bcmd1bWVudAo+PEJ1c2luZXNzQ29tcG9uZW50Cj48L0J1c2luZXNzQ29tcG9uZW50Cj48QnVzaW5lc3NDb21wb25lbnRGaWVsZAo+PC9CdXNpbmVzc0NvbXBvbmVudEZpZWxkCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxJbnB1dEZsYWcKPkk8L0lucHV0RmxhZwo+PEl0ZW1UeXBlTmFtZQo+PC9JdGVtVHlwZU5hbWUKPjxOYW1lMgo+RmlsZU5hbWU8L05hbWUyCj48T3V0cHV0QXJnCj48L091dHB1dEFyZwo+PFByb3BlcnR5TmFtZQo+T3V0cHV0RmlsZTwvUHJvcGVydHlOYW1lCj48U2VxdWVuY2UKPjA8L1NlcXVlbmNlCj48VHlwZQo+UFJPUEVSVFk8L1R5cGUKPjxWYWx1ZVNlYXJjaFNwZWNpZmljYXRpb24KPjwvVmFsdWVTZWFyY2hTcGVjaWZpY2F0aW9uCj48L1JlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48UmVwb3NpdG9yeVdmU3RlcElPQXJndW1lbnQKPjxCdXNpbmVzc0NvbXBvbmVudAo+PC9CdXNpbmVzc0NvbXBvbmVudAo+PEJ1c2luZXNzQ29tcG9uZW50RmllbGQKPjwvQnVzaW5lc3NDb21wb25lbnRGaWVsZAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48SW5wdXRGbGFnCj5JPC9JbnB1dEZsYWcKPjxJdGVtVHlwZU5hbWUKPjwvSXRlbVR5cGVOYW1lCj48TmFtZTIKPlNpZWJlbE1lc3NhZ2U8L05hbWUyCj48T3V0cHV0QXJnCj48L091dHB1dEFyZwo+PFByb3BlcnR5TmFtZQo+T3V0cHV0TWVzc2FnZTwvUHJvcGVydHlOYW1lCj48U2VxdWVuY2UKPjA8L1NlcXVlbmNlCj48VHlwZQo+UFJPUEVSVFk8L1R5cGUKPjxWYWx1ZVNlYXJjaFNwZWNpZmljYXRpb24KPjwvVmFsdWVTZWFyY2hTcGVjaWZpY2F0aW9uCj48L1JlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48UmVwb3NpdG9yeVdmU3RlcElPQXJndW1lbnQKPjxCdXNpbmVzc0NvbXBvbmVudAo+PC9CdXNpbmVzc0NvbXBvbmVudAo+PEJ1c2luZXNzQ29tcG9uZW50RmllbGQKPjwvQnVzaW5lc3NDb21wb25lbnRGaWVsZAo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48SW5wdXRGbGFnCj5JPC9JbnB1dEZsYWcKPjxJdGVtVHlwZU5hbWUKPjwvSXRlbVR5cGVOYW1lCj48TmFtZTIKPlhNTENoYXJFbmNvZGluZzwvTmFtZTIKPjxPdXRwdXRBcmcKPjwvT3V0cHV0QXJnCj48UHJvcGVydHlOYW1lCj48L1Byb3BlcnR5TmFtZQo+PFNlcXVlbmNlCj4wPC9TZXF1ZW5jZQo+PFR5cGUKPkxJVEVSQUw8L1R5cGUKPjxWYWx1ZVNlYXJjaFNwZWNpZmljYXRpb24KPlVURi0xNjwvVmFsdWVTZWFyY2hTcGVjaWZpY2F0aW9uCj48L1JlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48L0xpc3RPZlJlcG9zaXRvcnlXZlN0ZXBJT0FyZ3VtZW50Cj48TGlzdE9mUmVwb3NpdG9yeVdmU3RlcFJlY2lwaWVudAo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZTdGVwUmVjaXBpZW50Cj48L1JlcG9zaXRvcnlXZlN0ZXAKPjwvTGlzdE9mUmVwb3NpdG9yeVdmU3RlcAo+PExpc3RPZlJlcG9zaXRvcnlXZkJyYW5jaENvbm5lY3Rvcgo+PFJlcG9zaXRvcnlXZkJyYW5jaENvbm5lY3Rvcgo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48RnJvbVN0ZXBOYW1lCj5TdGFydDwvRnJvbVN0ZXBOYW1lCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48TGF5b3V0Cj5AMCowKjcqMCowKjAqOSpMaW5lV2lkdGgxKjI0KkZySFMxKjIyKlAxNioxODAgNzI0Kk5QdHMxKjIyKlAwNioxMDggNzI0KlRvSFMxKjA4KkFycm93RW5kMSoxPC9MYXlvdXQKPjxOYW1lMgo+RGVmYXVsdDwvTmFtZTIKPjxGb3JCcmFuY2hOYW1lCj5EZWZhdWx0PC9Gb3JCcmFuY2hOYW1lCj48UGFyZW50VHlwZQo+REVGQVVMVDwvUGFyZW50VHlwZQo+PFRvU3RlcE5hbWUKPlF1ZXJ5RnJvbVNpZWJlbERhdGFiYXNlPC9Ub1N0ZXBOYW1lCj48L1JlcG9zaXRvcnlXZkJyYW5jaENvbm5lY3Rvcgo+PFJlcG9zaXRvcnlXZkJyYW5jaENvbm5lY3Rvcgo+PENvbW1lbnRzCj48L0NvbW1lbnRzCj48RnJvbVN0ZXBOYW1lCj5Xcml0ZVRvRmlsZTwvRnJvbVN0ZXBOYW1lCj48SW5hY3RpdmUKPk48L0luYWN0aXZlCj48TGF5b3V0Cj5AMCowKjcqMCowKjAqOSpMaW5lV2lkdGgxKjI0KkZySFMxKjIyKlAxNio0ODAgNzI0Kk5QdHMxKjIyKlAwNio0MjAgNzI0KlRvSFMxKjA4KkFycm93RW5kMSoxPC9MYXlvdXQKPjxOYW1lMgo+RGVmYXVsdC5DT05ORUNUT1I8L05hbWUyCj48Rm9yQnJhbmNoTmFtZQo+RGVmYXVsdC5DT05ORUNUT1I8L0ZvckJyYW5jaE5hbWUKPjxQYXJlbnRUeXBlCj5DT05ORUNUT1I8L1BhcmVudFR5cGUKPjxUb1N0ZXBOYW1lCj5FbmQ8L1RvU3RlcE5hbWUKPjwvUmVwb3NpdG9yeVdmQnJhbmNoQ29ubmVjdG9yCj48UmVwb3NpdG9yeVdmQnJhbmNoQ29ubmVjdG9yCj48Q29tbWVudHMKPjwvQ29tbWVudHMKPjxGcm9tU3RlcE5hbWUKPlF1ZXJ5RnJvbVNpZWJlbERhdGFiYXNlPC9Gcm9tU3RlcE5hbWUKPjxJbmFjdGl2ZQo+TjwvSW5hY3RpdmUKPjxMYXlvdXQKPkAwKjAqNyowKjAqMCo5KkxpbmVXaWR0aDEqMjQqRnJIUzEqMjIqUDE2KjMyNCA3MjQqTlB0czEqMjIqUDA2KjI3NiA3MjQqVG9IUzEqMDgqQXJyb3dFbmQxKjE8L0xheW91dAo+PE5hbWUyCj5EZWZhdWx0LkNPTk5FQ1RPUjwvTmFtZTIKPjxGb3JCcmFuY2hOYW1lCj5EZWZhdWx0LkNPTk5FQ1RPUjwvRm9yQnJhbmNoTmFtZQo+PFBhcmVudFR5cGUKPkNPTk5FQ1RPUjwvUGFyZW50VHlwZQo+PFRvU3RlcE5hbWUKPldyaXRlVG9GaWxlPC9Ub1N0ZXBOYW1lCj48L1JlcG9zaXRvcnlXZkJyYW5jaENvbm5lY3Rvcgo+PC9MaXN0T2ZSZXBvc2l0b3J5V2ZCcmFuY2hDb25uZWN0b3IKPjxMaXN0T2ZSZXBvc2l0b3J5V2ZQcm9jZXNzTWV0cmljCj48L0xpc3RPZlJlcG9zaXRvcnlXZlByb2Nlc3NNZXRyaWMKPjwvUmVwb3NpdG9yeVdvcmtmbG93UHJvY2Vzcwo+PC9MaXN0T2ZSZXBvc2l0b3J5V29ya2Zsb3dQcm9jZXNzCj48L1NpZWJlbE1lc3NhZ2UKPg==19*ErrorContextIntComp0*11*OMErrorCode0*22*ErrorContextSearchSpec0*12*PrimaryRowId10*0CX-1VDCP013*OMErrorSymbol0*11*ErrorSymbol0*9*ErrorCode3*0x016*NumOutputObjects1*1"
,u;return function(e,t){var r=!0,o=CCFMiscUtil_CreatePropSet(),a,f;switch(t){case"SimStart":o.DecodeFromString(i.Start.respstr),u=o.GetProperty("NextStep"),e.ExecuteMethod("SetWatchData",o),e.ExecuteMethod("NotifyHighlightSimulationStep",u),e.SetProperty("SimState",st);break;case"SimNext":o.DecodeFromString(i[u].respstr),u=o.GetProperty("NextStep"),e.ExecuteMethod("SetWatchData",o),n.IsEmpty(u)?e.SetProperty("SimState",ot):(e.ExecuteMethod("NotifyHighlightSimulationStep",u),r=!1);break;case"SimComplete":o.DecodeFromString(s[u].respstr),u=o.GetProperty("NextStep"),e.ExecuteMethod("SetWatchData",o),e.SetProperty("SimState",ot);break;case"SimStop":e.SetProperty("SimState",ot)}r&&(t==="SimStart"&&e.SetProperty("SimState",ut),e.ExecuteMethod("NotifySimulationStateChanged"),t!=="SimStart"&&e.ExecuteMethod("NotifyHighlightSimulationStep",lt))}}();return dt}(),SiebelAppFacade.FlowBuilderCanvasPM})),typeof SiebelAppFacade.FlowBuilderCanvasPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlowBuilderCanvasPR"),define("siebel/fbcanvaspr",["siebel/phyrenderer","3rdParty/jsflowchart/jsplumb.min.js"],function(){return SiebelAppFacade.FlowBuilderCanvasPR=function(){function mt(){var e=null,t={},n=null,r=!1,i=!1,s=!1,o=[],u={};this.GetPlumb=function(){return e},this.SetPlumb=function(t){e=t},this.GetPositionMap=function(){return t},this.SetPositionMap=function(e){t=e},this.SetCanvasElem=function(e){n=e},this.GetCanvasElem=function(){return n},this.SetDynamicConn=function(e){s=e},this.GetDynamicConn=function(){return s},this.SetSnapGrid=function(e){r=e},this.GetSnapGrid=function(){return r},this.SetShowPoints=function(e){i=e},this.GetShowPoints=function(){return i},this.GetSelectedElem=function(){return o},this.HaveSel=function(){return o.length>0},this.IsMultiSel=function(){return o.length>1},this.IsSingleSel=function(){return o.length===1},this.GetMenuKeepOpenMap=function(){return u},SiebelAppFacade.FlowBuilderCanvasPR.superclass.constructor.apply(this,arguments)}function gt(e){SiebelJS.Debug("[Edit Workflow Process] Start Canvas Refresh ...",!0);var t=e.GetProperty("OldShapeId"),r=e.GetProperty("ShapeId"),i=wt.call(this,r);n.IsEmpty(i)?yt.call(this):bt.call(this,t,i),St.call(this,i),SiebelJS.Debug("[Edit Workflow Process] Done Canvas Refresh.",!0)}function yt(){SiebelJS.Debug("[Edit Workflow Process] RefreshCanvasAll",!0);var e=this.GetPlumb(),t=$(e.getContainer()).find(".siebui-fb-node"),n=this.GetPM(),r=sn.call(this,n.Get("GetRecordSet")),i=r[0],s=r[1],o=this;e.deleteEveryEndpoint(),t.each(function(t,n){e.remove(n.id)}),Ft.call(o,i,s)}function bt(e,t){SiebelJS.Debug("[Edit Workflow Process] RefreshCanvasUpdated",!0);var n=In(this.GetPM().Get("GetRecordSet")[t])?v:d;n===d?On.call(this,e,t,!0):n===v&&Mn.call(this,t,vn.call(this,this.GetPM().Get("GetRawRecordSet")[t]))}function wt(e){var t,n=this.GetPM().Get("GetRecordSet");for(var r=0,i=n.length;r<i;r++)if(n[r]["Shape Id"]===e){t=r;break}return t}function Et(){var e=this.GetPM().Get("GetRecordSet"),t={},r;return e.forEach(function(e){e.Inactive!=="Y"&&(r=n.IsEmpty(e["Source Id"])?e["Shape Id"]:e["Source Id"],t[r]=e["Shape Id"])}),t}function St(e){if(!n.IsEmpty(e)&&n.IsTrue(this.GetPM().Get("GetRawRecordSet")[e].Inactive)){this.GetCanvasElem().find(".siebui-fb-zoom").click();return}var t=this.GetSelectedElem().slice(0),r=Et.call(this),i=this;Wt.call(this),t.forEach(function(e){var t;e.rowId=i.GetPositionMap()[e.shapeId],n.IsEmpty(e.rowId)&&(e.shapeId=r[e.sourceId],e.rowId=i.GetPositionMap()[e.shapeId]),e.type===d?t=$(i.GetPlumb().getContainer()).find("#"+e.shapeId):e.type===v&&(t=vn.call(i,i.GetPM().Get("GetRawRecordSet")[e.rowId])),(e.type===d&&t.length>0||e.type===v&&!n.IsEmpty(t))&&ir.call(i,e.rowId,e.type,t)}),this.GetSelectedElem().length===0&&this.GetCanvasElem().find(".siebui-fb-zoom").click()}function xt(e,t,r,i){var s=this,o=this.GetPM();Wt.call(this);if(e===d){var u=t.replace(/ /g,"");this.GetPlumb().remove(u)}else e===v&&!n.IsEmpty(r)&&this.GetPlumb().deleteConnection(r);var a=$("#"+o.Get("GetFullId")+"_container"),f={},l=o.Get("GetRecordSet"),c,h,p;l.forEach(function(e,r){f[e["Shape Id"]]=r;if(t===e.Name){c=r,h=e["Shape Id"],p=e["Type LIC"];if(n.IsEmpty(h))return!1}});if(!n.IsEmpty(h)){this.SetPositionMap(f);if(e===d){var m=[];m.push(l[c]),Ft.call(s,m),tr.call(this,c,d,undefined,a.find("#"+h))}else if(e===v){var g=dn.call(this,l[c]);g!==undefined&&tr.call(this,c,v,undefined,g)}if(i){var y=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:y}).ExecuteMethod("SetActiveState",e,p)}}}function Tt(e){var t=$("<div class='siebui-fb-zoom' tabindex='0'> <div id='"+this.GetPM().Get("GetFullId")+"_container'"+" class='siebui-fb-container' ></div></div>");t.appendTo(e);if(n.IsTrue(SiebelApp.S_App.IsAutoOn())){var r=e.find(".siebui-fb-container");er.call(this,r,"SiebApplet","CanvasArea")}}function Nt(e,t){if(this.HaveSel()){var n=this.GetPM(),r=t,i=this.GetSelectedElem()[0].rowId,s=n.Get("GetRawRecordSet")[i];e!==i&&(e=i,In(s)?r=v:r=d);var o=SiebelApp.S_App.GetActiveView().GetName(),u=SiebelAppFacade.ComponentMgr.FindComponent({id:o}).GetPM();(e!==n.Get("GetSelection")||u.Get("ActivePropContext")===u.GetPropAppletMap().Default)&&Ct.call(this,e,r)}else Ct.call(this,undefined,"Default")}function Ct(t,n){var r=SiebelApp.S_App.GetActiveView().GetName();if(n==="Default")SiebelAppFacade.ComponentMgr.FindComponent({id:r}).ExecuteMethod("SetActiveState",n);else{var i=this.GetPM().OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),t,!1,!1);if(i){var s;n===d&&(s=this.GetPM().Get("GetRawRecordSet")[t]["Type LIC"]),SiebelAppFacade.ComponentMgr.FindComponent({id:r}).ExecuteMethod("SetActiveState",n,s)}}}function kt(e,t){var r=this.GetPM();if(n.IsEmpty(e))return!1;var i=r.Get("GetControls")[e];return i===undefined?!1:n.IsEmpty(r.ExecuteMethod("GetFormattedFieldValue",i))?(t==="SUB_PROCESS"?n.Alert(M):t==="TASK_INTERACT"&&n.Alert(_),!1):!0}function Lt(t){var n=t.data.ctx,r=n.GetPM();if(r.Get("IsSimulator"))return;if(r.Get("ActiveAppletCommitPending"
)||ar.call(n))return;var i=t.data.drilldown,s=t.data.type,o=n.GetSelectedElem();if(o.length===0)return!1;var u=o[0].rowId;if(r.Get("GetSelection")!==u){var a=r.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),u,!1,!1);if(!a)return!1}if(!kt.call(n,i,s))return;SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:!0});var f=SiebelApp.S_App.GetActiveView().GetName(),l=SiebelAppFacade.ComponentMgr.FindComponent({id:f}).GetPM();l.SetProperty("DrillDown",!0);if(r.OnControlEvent(e.get("PHYEVENT_DRILLDOWN_LIST"),i,r.Get("GetSelection"))===!1)return l.SetProperty("DrillDown",!1),SiebelApp.S_App.uiStatus.Free(),!1;SiebelApp.S_App.uiStatus.Free()}function At(e,t){var r=[],i=this,s=i.GetPM();return t.forEach(function(t){var r=SiebelAppFacade.WTTemplateFactory.GetTemplate(s.Get("FlowType"),t);Ot(r,t.css),SiebelAppFacade.WTTemplateFactory.DrawGraphic(r),Mt.call(i,r,e),r.on("click",{ctx:t},function(e){if(s.Get("ActiveAppletCommitPending")||ar.call(i))return e.preventDefault(),e.stopImmediatePropagation(),!1;if(!s.Get("StepDrag")){var t=i.GetPositionMap()[$(e.currentTarget).attr("id")];s.Get("StepSelectPending")&&tr.call(i,t,d,e,$(this)),Nt.call(i,t,d)}else s.AddProperty("StepDrag",!1);s.AddProperty("StepSelectPending",!1),e.stopPropagation()}),r.on("mousedown",function(e){if(ar.call(i))return setTimeout(function(){fr.call(i)}),e.preventDefault(),e.stopImmediatePropagation(),!1;fr.call(i);var t=i.GetPositionMap()[$(e.currentTarget).attr("id")];!i.IsMultiSel()||!nr.call(i,t)?tr.call(i,t,d,e,$(this)):s.AddProperty("StepSelectPending",!0),e.stopPropagation()});var o=$(r).data("drilldown"),u=$(r).data("type");n.IsTrue(SiebelApp.S_App.IsAutoOn())&&er.call(i,r,a,t.Name),n.IsEmpty(o)||r.on("dblclick",{ctx:i,drilldown:o,type:u},Lt),s.Get("FlowEditable")&&_t.call(i,r),Rt.call(i,r,t),r.text(t.name)}),r}function Ot(e,t){e.addClass("siebui-fb-node").css({left:""+t.left+"px",top:""+t.top+"px",width:""+(t.right-t.left)+"px",height:""+(t.bottom-t.top)+"px"})}function Mt(e,t){t=t||$("#"+this.GetPM().Get("GetFullId")+"_container"),e.appendTo(t)}function _t(e){var t=this,n=t.GetPM(),r,i=0,s=0,o=t.GetSnapGrid()?[g,g]:null;t.GetPlumb().draggable(e,{containment:$("#"+n.Get("GetFullId")+"_container"),handle:"rect, polygon, line, path, a",grid:o,start:function(n){r=t.GetDynamicConn()?"Flowchart":"Straight";var o=[];o.push(t.GetPlumb().select({source:$(e)})),o.push(t.GetPlumb().select({target:$(e)}));for(var u=0;u<o.length;u++)o[u].setConnector(r),o[u].addOverlay(["Arrow",{location:1,width:8,length:8,foldback:.2}]);typeof n.e!="undefined"&&(i=n.e.pageX,s=n.e.pageY)},stop:function(r){if(r.e.target.closest(".siebui-fb-node").id!==r.el.id)return;var o=Math.abs(r.e.pageX-i)>5||Math.abs(r.e.pageY-s)>5;if(!o)return;n.AddProperty("StepDrag",!0);var u=Dt.call(t);t.IsSingleSel()&&!u?Ht.call(t,t.GetSelectedElem()[0].rowId,e):r.selection.length>=1&&Bt.call(t,r.selection,u)}})}function Dt(){var e,t=[],n=this.GetSelectedElem(),r=this.GetPM().Get("GetRawRecordSet");for(var i=0;i<n.length;i++)if(n[i].type===d){e=n[i].rowId,t=Dn.call(this,r[e].Name);if(t.length>0)return!0}return!1}function Pt(e,t,n){var r=this.GetPM(),i=r.Get("GetRawRecordSet"),s=I[r.Get("FlowType")],o,u,a,f,l,c=[],h=[],p,m,g,y;for(var b in e)if(e.hasOwnProperty(b)){o=e[b],f=o["From Step Name"],l=o["To Step Name"],u=hn.call(this,o),a=CCFMiscUtil_CreatePropSet(),gn.call(this,o.Layout,a),p=a.propArray.FrHS||a.propArray.FromHotSpot,yn.call(this,p,u.frStepId,c),c.length>=2&&(g=c[0]+" "+c[1],a.propArray.Point0?a.propArray.Point0=g:a.SetProperty("P0",g)),m=a.propArray.ToHS||a.propArray.ToHotSpot,yn.call(this,m,u.toStepId,h),h.length>=2&&(y=h[0]+" "+h[1],a.propArray.Point1?a.propArray.Point1=y:a.SetProperty("P1",y)),a.propArray.NumPoints?a.propArray.NumPoints="2":a.SetProperty("NPts","2");var w={Name:o.Name,Layout:a.EncodeAsString()};if(r.Get("FlowType")==="TaskFlow")or.call(this,n,s[v],w);else if(r.Get("FlowType")==="WorkFlow"){var E=t[f];if(E===undefined){var S={Name:f};E=or.call(this,n,s[d],S),t[f]=E}or.call(this,E,s[v],w)}}}function Ht(t,n){var r=this,i=this.GetPM(),s=n[0].id,o=SiebelApp.S_App.GetActiveView().GetName();if(t!==i.Get("GetSelection")){var u=i.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),t,!1,!1);if(!u)return}var a=i.Get("GetRawRecordSet")[t],f=a["Type LIC"],l=It.call(r,t,n),c=l[1],h={Layout:l[0]};SiebelApp.S_App.uiStatus.Busy(),i.ExecuteMethod("UpdateRecord",h).done(function(){On.call(r,s,t)}).fail(function(){qt.call(r,n,c)}).always(function(){SiebelAppFacade.ComponentMgr.FindComponent({id:o}).ExecuteMethod("SetActiveState",d,f),SiebelApp.S_App.uiStatus.Free()})}function Bt(t,n){var r=this.GetPM(),i=this,s=I[r.Get("FlowType")],o={},u=CCFMiscUtil_CreatePropSet(),a=CCFMiscUtil_CreatePropSet(),f=CCFMiscUtil_CreatePropSet(),l={},c={},h={},p=[],m,g=this.GetSelectedElem()[0].rowId,y;if(this.IsSingleSel()&&g!==r.Get("GetSelection")){var b=r.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),g,!1,!1);if(!b)return}sr.call(this,u,a,s),m=s[d];for(var w=0;w<t.length;w++){var E=t[w][0];g=this.GetPositionMap()[E.id];var S=It.call(this,g,E),x=r.Get("GetRawRecordSet")[g],T=x.Name,N={Name:T,Layout:S[0]};y=x["Type LIC"],o[w]=S[1],f=or.call(this,a,s[d],N),c[T]=f,l[T]=x["Shape Id"];if(n){var C=Dn.call(this,T);C.length>0&&(p=p.concat(C))}}if(p.length>0){for(var k=0;k<p.length;k++){var L=p[k]["From Step Name"]+":"+p[k].Name;h[L]=p[k]}Pt.call(this,h,c,a),m+=";"+s[v]}u.SetProperty("RefreshBCNames",m),SiebelApp.S_App.uiStatus.Busy(),r.ExecuteMethod("BulkOperations",u).done(function(){jt.call(i,l,h)}).fail(function(){for(var e=0;e<t.length;e++){var n=t[e][0],r=o[e];qt.call(i,n,r)}}).always(function(){if(i.IsSingleSel()){var e=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:e}).ExecuteMethod("SetActiveState",d,y)}SiebelApp.S_App.uiStatus.Free()})}function jt(e,t){var n=this,r=n.GetPM(),i=r.Get("GetRecordSet"),s={},o=[],u=[],a,f,l,c;i.forEach(function(r,i){s[r["Shape Id"]]=i,a=r["Shape Id"];if(!In(r))l=r.Name,e.hasOwnProperty(l)&&(f=e[l
],a!==f?(u.push(r),n.GetPlumb().remove(f)):delete e[l]);else{c=r["From Step Name"]+":"+r.Name;if(t.hasOwnProperty(c)){f=t[c]["Shape Id"];if(a!==f){var o=vn.call(n,t[c]);o!==undefined&&n.GetPlumb().deleteConnection(o)}else delete t[c]}}}),n.SetPositionMap(s);if(u.length===0&&Object.keys(t).length===0)return;o=$.grep(i,function(n){return In(n)&&n.Inactive!=="Y"&&(e.hasOwnProperty(n["From Step Name"])||e.hasOwnProperty(n["To Step Name"])||t.hasOwnProperty(n["From Step Name"]+":"+n.Name))}),Ft.call(n,u,o),St.call(n)}function Ft(e,t){var n=this,r=n.GetPM(),i=$("#"+r.Get("GetFullId")+"_container"),s=mn.call(n,e);At.call(n,i,s),t!==undefined&&t.forEach(function(e){dn.call(n,e)})}function It(e,t){var n=this.GetPM(),r=n.Get("GetRawRecordSet")[e],i=r.Layout,s,o=CCFMiscUtil_CreatePropSet(),u,a,f=[],l=Math.round($(t)[0].offsetLeft),c=l+Math.round($(t).width()),h=Math.round($(t)[0].offsetTop),p=h+Math.round($(t).height());return u=l.toString()+" "+h.toString()+" "+c.toString()+" "+p.toString(),gn.call(this,i,o),a=o.propArray.r||o.propArray.Rect,o.propArray.Rect?o.propArray.Rect=u:o.propArray.r=u,s=o.EncodeAsString(),f.push(s),f.push(a),f}function qt(e,t){var n=t.split(" ");$(e).css({left:""+parseInt(n[0],10)+"px",top:""+parseInt(n[1],10)+"px",width:""+(parseInt(n[2],10)-parseInt(n[0],10))+"px",height:""+(parseInt(n[3],10)-parseInt(n[1],10))+"px"}),this.GetPlumb().revalidate(e)}function Rt(e,t){var r=n.IsTrue(SiebelApp.S_App.IsAutoOn()),i=this.GetShowPoints(),s="",o=this.GetPM(),u=o.Get("FlowEditable");i||(s="forceinvisible");var f=this.GetDynamicConn()?"Flowchart":"Straight",l={endpoint:["Image",{src:"images/connection_point.png"}],cssClass:s,isSource:u,isTarget:u,detachable:u,connector:[f,{stub:20}]},c=e.data("midpoint_x");for(var h=0;h<p.length;h++){var d=p[h],v=[],m=[0,0];(h===0||h===2)&&c!==undefined&&(m[0]=h===0?c:-1*c),h===0?v=[-1,0]:h===1?v=[0,-1]:h===2?v=[1,0]:v=[0,1],d=d.concat(v,m);var g=this.GetPlumb().addEndpoint(e,{anchor:d},l);if(r&&g!==undefined){var y=$(g.canvas);er.call(this,y,a,t.Name+"_"+h)}}}function Ut(e){typeof e.connector=="undefined"&&(e=e.component);var t=e.endpoints;for(var n=0;n<t.length;n++)t[n].removeClass("forceinvisible"),t[n].addClass("forcevisible")}function zt(e){typeof e.connector=="undefined"&&(e=e.component);var t=e.endpoints;for(var n=0;n<t.length;n++)t[n].removeClass("forcevisible"),t[n].addClass("forceinvisible")}function Wt(){var e=$(".siebui-fb-canvas"),t=e.find(".jtk-endpoint.forcevisible");t.addClass("forceinvisible").removeClass("forcevisible");var n=e.find(".siebui-active");n.removeClass("siebui-active");var r=this.GetSelectedElem();r.splice(0,r.length),this.GetPlumb().clearDragSelection()}function Xt(){return this.GetPM().Get("FlowEditable")&&this.HaveSel()}function Vt(e){var t=String(this.GetPlumb().getZoom()*100),n=-1;for(var r=0;r<c.length;r++)if(t===c[r]){e?n=r+1:n=r-1;break}if(n<0||n>c.length-1)n=-1;return n}function $t(e){var t=Vt.call(this,e);if(t===-1)return;var n=c[t];$("#"+l+"Zoom").text(n+"%"),Jt.call(this,n);var r=$(".siebui-fb-settings-panel");if(r.length===1&&!r.hasClass("hide")){var i=r.find(".siebui-btn-zoom-in, .siebui-btn-zoom-out");Yn.call(this,i)}this.GetPM().ExecuteMethod("SetEditorPreferences","Zoom",n)}function Jt(e,t){var n=!1,r=t===undefined?$(".siebui-fb-zoom"):t;for(var i=0;i<c.length;i++){if(e===c[i]){n=!0;continue}var s="siebui-fb-zoom-"+c[i];r.hasClass(s)&&r.removeClass(s)}n&&(r.addClass("siebui-fb-zoom-"+e),r.hasClass("siebui-fb-zoom")&&this.GetPlumb().setZoom(e/100))}function Kt(e){var t=$("#"+this.GetPM().Get("GetFullId")+"_container");e?t.find("img.jtk-endpoint").removeClass("forceinvisible"):t.find("img.jtk-endpoint").addClass("forceinvisible")}function Qt(e){var t=$("#"+this.GetPM().Get("GetFullId")+"_container");e?t.addClass("siebui-fb-grid"):t.removeClass("siebui-fb-grid")}function Gt(){var e=$(".siebui-ide").children("div").not(".siebui-ide-canvas");e.addClass("forcehide");var t=$("#_sweview"),n=$(".siebui-fb-zoom"),r=$(".siebui-ide-canvas");t.addClass("siebui-noscroll"),n.addClass("siebui-noscroll"),r.addClass("siebui-fb-print");var i=n.find(".siebui-fb-node"),s=-1,o=-1,u=-1,a=-1;i.each(function(){var e=$(this).offset().left,t=e+$(this).width(),n=$(this).offset().top,r=n+$(this).height();if(s===-1||e<s)s=e;if(o===-1||t>o)o=t;if(u===-1||n<u)u=n;if(a===-1||r>a)a=r});var f=o-s,l=a-u+100,c="100";f>1600?c="50":f>800?c="75":c="100";var h=n.height();l>h&&n.height(l);var p=String(this.GetPlumb().getZoom()*100);Jt.call(this,c),window.print(),e.each(function(){$(this).removeClass("forcehide")}),t.removeClass("siebui-noscroll"),n.removeClass("siebui-noscroll"),r.removeClass("siebui-fb-print"),Jt.call(this,p),n.height(h)}function Yt(e){var t=this.GetSelectedElem();if(t.length!==1)return!1;var n=this.GetPM(),r=n.Get("GetRawRecordSet")[t[0].rowId];return r["Type LIC"]!==e?!1:!0}function Zt(e){if(Yt.call(this,e)){var t=$("#"+this.GetPM().Get("GetFullId")).find(".siebui-fb-node.siebui-hilight");t.length===1&&t.dblclick()}}function en(){var e=this.GetPM(),t=e.Get("GetSelection"),n=vn.call(this,e.Get("GetRawRecordSet")[t]);n!==undefined&&n.fire("dblclick",n)}function tn(){if(!Yt.call(this,"TASK"))return;SiebelApp.S_App.uiStatus.Busy();var t={async:!0,cb:function(t,r,i){SiebelApp.S_App.uiStatus.Free(),i&&i.GetProperty(e.get("SWE_RPC_PROP_RETURN_STATUS"))!==e.get("SWE_RPC_PROP_STATUS_ERROR")&&n.Alert(O)}};this.GetPM().ExecuteMethod("InvokeMethod","ValidateStep",null,t)}function nn(){if(!Yt.call(this,"TASK"))return;SiebelApp.S_App.uiStatus.Busy();var e={async:!0,cb:function(){SiebelApp.S_App.uiStatus.Free()}};this.GetPM().ExecuteMethod("InvokeMethod","GenerateReqIOArgs",null,e)}function rn(e,t,n){if(this.GetPM().Get("ActiveAppletCommitPending")||ar.call(this))return;if(!Wn.call(this,e,t,n))return;var r=this.GetPM(),i=CCFMiscUtil_CreatePropSet();r.SetProperty("IsCondPopupOpening",!0),SiebelApp.S_App.uiStatus.Busy();var s={async:!0,cb:function(){r.SetProperty("IsCondPopupOpening",!1),SiebelApp.S_App.uiStatus.Free()}};setTimeout(function()
{i.SetProperty("Shape Id",e),r.ExecuteMethod("InvokeMethod","ShowConditionPopup",i,s)})}function sn(e){var t=[],n=[],r=[],i={};return e.forEach(function(e,r){e["Shape Id"]&&e.Inactive!=="Y"&&(In(e)?n.push($.extend({},e)):t.push($.extend({},e))),i[e["Shape Id"]]=r}),this.SetPositionMap(i),r.push(t),r.push(n),r}function on(e){var t=this.GetPM(),c="",h,p,d,v,m=n.IsTrue(SiebelApp.S_App.IsAutoOn());for(var g in e)if(e.hasOwnProperty(g)){h=e[g];if(h.context!==undefined&&h.context!==t.Get("FlowType"))continue;if(h.simulator===!1&&t.Get("IsSimulator")===!0)continue;if(h.simulator===!0&&t.Get("IsSimulator")===!1)continue;p=l+g,d=h.type,c+=d==="divider"?'<li class="ui-menu-divider">':"<li>";if(d==="boolean"){var y=h.value?"Y":"N";v=m?r+'="'+u+'" '+i+'="'+g+'" '+s+'="'+g+'"':"",c+='<input type="checkbox" '+v+' id="'+p+'" value="'+y+'"'+(h.value?' checked="true"':"")+' aria-checked="'+h.value+'" />',c+='<label for="'+p+'">'+h.label+"</label>"}else if(d==="integer"){if(g==="Zoom"){var b=h.subMenu,w,E;for(var S in b)if(b.hasOwnProperty(S)){var x=b[S],T=l+S;v=m?r+'="'+a+'" '+i+'="'+S+'" '+s+'="'+S+'"':"",S==="ZoomOut"?w='<a href="javascript:void(0)" '+v+' id="'+T+'" title="'+x.label+'" class="siebui-btn-zoom-out"></a>':S==="ZoomIn"&&(E='<a href="javascript:void(0)" '+v+' id="'+T+'" title="'+x.label+'" class="siebui-btn-zoom-in"></a>'),this.GetMenuKeepOpenMap()[S]=x.keepopen?!0:!1}c+='<label for="'+p+'">'+h.label+"</label>",c+=w,v=m?r+'="'+f+'" '+i+'="'+g+'" '+s+'="'+g+'"':"",c+='<label id="'+p+'" '+v+">"+h.value+"%</label>",c+=E}}else if(d==="function")v=m?'mouseover="true"'+r+'="'+o+'" '+i+'="'+h.label+'" '+s+'="'+h.label+'"':"",c+='<a href="javascript:void(0)" '+v+' id="'+p+'"',c+=n.IsEmpty(h.attrs)?"":" "+h.attrs,c+=">"+h.label+"</a>",this.GetMenuKeepOpenMap()[g]=h.keepopen?!0:!1,typeof h.subMenu!="undefined"&&(c+="<ul>"+on.call(this,h.subMenu)+"</ul>");else if(d==="simapp"){var N=t.Get(h.property);if(!n.IsEmpty(N)){v=m?'mouseover="true"'+r+'="'+o+'" '+i+'="'+h.label+'" '+s+'="'+h.label+'"':"",c+='<a href="javascript:void(0)" '+v+' id="'+p+'">'+h.label+"</a>",this.GetMenuKeepOpenMap()[g]=h.keepopen?!0:!1;var C,k,L={},A;for(C=0,k=N.length;C<k;C++)A=N[C],L[A.appName+"_"+A.langName]={type:"function",label:A.displayName,keepopen:!0,attrs:'data-appname="'+A.appName+'" data-langname="'+A.langName+'" data-clickmethod="'+h.clickmethod+'"'};c+="<ul>"+on.call(this,L)+"</ul>"}}else h.type!=="divider"&&(c+=h.label);c+="</li>"}return c}function un(){var e=this.GetPM(),t=SiebelApp.S_App.GetDirection(),n=$("#"+e.Get("GetFullId")).find(".siebui-fb-settings"),r=n.find(".siebui-fb-settings-ctrl");if($(".siebui-fb-settings-panel").length===0){var i=e.GetContextMenu(),s='<ul class="siebui-fb-settings-panel" id="contextMenu" tabIndex="0">'+on.call(this,i)+"</ul>";n.append(s).find(".siebui-fb-settings-panel").menu({icons:{submenu:t?"siebui-icon-arrowsm-left":"siebui-icon-arrowsm-right"}})}$(".siebui-fb-settings-panel").position({my:t?"right top":"left top",at:t?"right bottom":"left bottom",of:r,collision:"flipfit flipfit"}).removeClass("hide").focus().focusin(),e.Get("IsSimulator")&&(e.ExecuteMethod("LoadMenuSimAppPreferences"),cr.call(this)),Gn.call(this)}function an(){var e=this,t=e.GetPM(),r=$(".siebui-fb-settings-panel"),i=r.find(".ui-menu-item > a"),s=r.find(".ui-menu-item > input");s.bind("change",function(r){var i=r.target.id.substring(l.length),s;this.type==="checkbox"&&(s=this.checked,$(this).val(s?"Y":"N"),$(this).attr("aria-checked",s));switch(i){case"EnableDynamicConnectors":e.SetDynamicConn(s);break;case"ConnectionPoints":e.SetShowPoints(s),Kt.call(e,s);break;case"ShowGrid":Qt.call(e,s);break;case"SnapToGrid":e.SetSnapGrid(s),yt.call(e);break;case"HideText":fn.call(e,s);return}n.IsEmpty(i)||t.ExecuteMethod("SetEditorPreferences",i,s)}),i.bind("click",function(i){if($(this).hasClass("ui-state-disabled"))return;var s=i.currentTarget.id.substring(l.length);e.GetMenuKeepOpenMap()[s]!==!0&&r.addClass("hide");switch(s){case"Delete":Vn.call(e);break;case"ZoomIn":$t.call(e,!0);break;case"ZoomOut":$t.call(e,!1);break;case"CopyDrawing":break;case"Print":Gt.call(e);break;case"ValidateStep":tn.call(e);break;case"GenerateReqIOArgs":nn.call(e);break;case"EditConditions":en.call(e);break;case"EditSubProcess":Zt.call(e,"SUB_PROCESS");break;case"EditTask":Zt.call(e,"TASK_INTERACT");break;case"Validate":e.GetPM().ExecuteMethod("InvokeMethod","Validate");break;default:var o=$(i.target),u=o.data("clickmethod");n.IsEmpty(u)||(t.ExecuteMethod(u,o.data()),i.stopPropagation()),o=null}}),r.on("focusout",function(){var e=$(this);setTimeout(function(){var t=document.activeElement;e.find($(t)).length===0&&e[0]!==t&&t!==$(".siebui-fb-settings-ctrl")[0]&&e.addClass("hide")},10)}),$(window).off("resize.fbEditorSettings").on("resize.fbEditorSettings",function(){var e=$(".siebui-fb-settings-panel");e.hasClass("hide")||e.addClass("hide"),e=null})}function fn(e){var t=this;if(!t.GetPM().Get("FlowEditable")||!t.IsSingleSel())return;var r=t.GetPM(),i=t.GetSelectedElem();if(i[0].type===v){var s=i[0].rowId,o=r.Get("GetRawRecordSet")[s];layout=o.Layout,layoutInfo=CCFMiscUtil_CreatePropSet(),gn.call(t,layout,layoutInfo);if(e!==n.IsTrue(layoutInfo.propArray.HdTxt)){e?layoutInfo.SetProperty("HdTxt","Y"):layoutInfo.RemoveProperty("HdTxt");var u={Layout:layoutInfo.EncodeAsString()};SiebelApp.S_App.uiStatus.Busy(),r.ExecuteMethod("UpdateRecord",u).done(function(){Mn.call(t,s,vn.call(t,o))}).always(function(){SiebelApp.S_App.uiStatus.Free()})}}}function ln(e,t){var n=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:n}).ExecuteMethod("SetActiveState",v)}function cn(e,t,r){var i=this,s=this.GetPM(),o=i.GetDynamicConn()?"Flowchart":"Straight",u=s.Get("FlowType")==="TaskFlow"?"Label":"Name",a=Fn(e["Type LIC"])?"siebui-fb-conn-excpt":"siebui-fb-connector",f=CCFMiscUtil_CreatePropSet();gn.call(this,e.Layout,f);var l=f.propArray.FrHS||f.propArray.FromHotSpot,c=f.propArray.ToHS||f.propArray.ToHotSpot,h=yn.call(this,l,t),p=yn
.call(this,c,r),m=f.propArray.HdTxt,g={connector:[o,{cssClass:a,stub:20}],detachable:s.Get("FlowEditable"),anchors:[h,p],overlays:[["Label",{label:e[u],width:5,location:.7,id:"label",cssClass:"siebui-fb-label",events:{click:function(t,n){if(ar.call(i))return setTimeout(function(){fr.call(i)}),n.stopImmediatePropagation(),!1;fr.call(i);var r=i.GetPositionMap()[e["Shape Id"]];tr.call(i,r,v,n,t),Nt.call(i,r,v),n.stopPropagation()},dblclick:function(){s.Get("IsCondPopupOpening")||rn.call(i,e["Shape Id"],e["Type LIC"],t)}}}]]},y=_n.call(this,d,t)[0]["Type LIC"];return(s.Get("FlowType")==="WorkFlow"&&jn(e["Type LIC"])&&!Rn(y)||n.IsEmpty(e[u])||n.IsTrue(m))&&g.overlays.shift(),g}function hn(e){var t=this.GetPM(),n={frStepId:"",toStepId:""},r=_n.call(this,d,e["From Step Id"]);r.length!==0&&(n.frStepId=r[0]["Shape Id"]);var i=$.grep(t.Get("GetRecordSet"),function(t){return!In(t)&&t.Name===e["To Step Name"]});return i.length!==0&&(n.toStepId=i[0]["Shape Id"]),n}function pn(e){var t=CCFMiscUtil_CreatePropSet();gn.call(this,e.Layout,t);var r=t.propArray.HdTxt;return n.IsTrue(r)}function dn(e){var t=this,r=this.GetPM(),i,s=hn.call(this,e),u=s.frStepId,f=s.toStepId;!n.IsEmpty(u)&&$("#"+u).length===1&&!n.IsEmpty(f)&&$("#"+f).length===1&&(i=this.GetPlumb().connect({source:u,target:f,parameters:{"Shape Id":e["Shape Id"],Type:e.Type,"Type LIC":e["Type LIC"]}},cn.call(t,e,u,f)),pn.call(t,e)&&i.setParameter("Hide Text",!0),i.bind("click",function(n,r){if(typeof n.connector!="undefined"){if(ar.call(t))return setTimeout(function(){fr.call(t)}),r.stopImmediatePropagation(),!1;fr.call(t);var i=t.GetPositionMap()[e["Shape Id"]];tr.call(t,i,v,r,n),Nt.call(t,i,v)}r.stopPropagation()}),i.bind("dblclick",function(e,n){typeof e.connector!="undefined"&&!t.GetPM().Get("IsCondPopupOpening")&&rn.call(t,e.getParameter("Shape Id"),e.getParameter("Type LIC"),e.sourceId)}));if(n.IsTrue(SiebelApp.S_App.IsAutoOn())&&i!==undefined){var l=$(i.canvas);er.call(t,l,a,e.Name);if(i.getOverlay("label")!==undefined){var c=$(i.getOverlay("label").canvas);er.call(t,c,o,"branch_label_"+e.Name)}}return i}function vn(e){var t=this.GetPM(),r,i=hn.call(this,e),s=i.frStepId,o=i.toStepId;return!n.IsEmpty(s)&&$("#"+s).length===1&&!n.IsEmpty(o)&&$("#"+o).length===1&&(r=this.GetPlumb().getConnections({source:s,target:o})),r!==undefined&&r.length!==0&&(r=r[0]),r}function mn(e){return e.map(function(e){var t=CCFMiscUtil_CreatePropSet();gn.call(this,e.Layout,t);var n=$.extend(!0,{},e);n.propArray=$.extend(!0,{},t.propArray);var r=n.propArray.r||n.propArray.Rect,i=r.split(" ");return n.css={},n.css.left=parseInt(i[0],10),n.css.top=parseInt(i[1],10),n.css.right=parseInt(i[2],10),n.css.bottom=parseInt(i[3],10),n})}function gn(e,t){var n=e.charAt(0);if(n==="@")return t.DecodeFromString(e);var r=0,i=[];CCFMiscUtil_StringToArray(e,i);if(i.length<4)return!1;t.SetType(i[r++]),t.SetValue(i[r++]);var s=parseInt(i[r++],10);if(isNaN(s)||r+s*2>=i.length)return!1;var o,u;for(var a=0;a<s;++a)o=i[r++],u=i[r++],t.SetProperty(o,u);var f=parseInt(i[r++],10);if(isNaN(f)||r+f!==i.length)return!1;for(var l=0;l<f;++l)if(!gn(t.AppendChild(),i[r++]))return!1;return!0}function yn(e,t,n){if(e<0||e===undefined)e=0;var r=p[e],i=this.GetPlumb().getEndpoints($("#"+t));for(var s=0;s<i.length;s++)if(r[0]===i[s].anchor.x&&r[1]===i[s].anchor.y){r=r.concat(i[s].anchor.orientation,i[s].anchor.offsets);if(n!==undefined){var o=i[s].anchor.getCurrentLocation();n[0]=o[0],n[1]=o[1]}break}return r}function bn(e,t){for(var n=0;n<p.length;n++)if(p[n][0]===e&&p[n][1]===t)return n;return-1}function wn(e){if(e.isFloating)return null;var t=bn(e.x,e.y),n=e.getCurrentLocation(),r=n.length>=2?n[0]+" "+n[1]:"";return{pos:r,hotspot:t}}function En(e,t){var r,i=CCFMiscUtil_CreatePropSet(),s=wn.call(this,e.dropEndpoint.anchor),o=wn.call(this,e.connection.endpoints[0].anchor),u=wn.call(this,e.connection.endpoints[1].anchor);o===null?o=s:u===null&&(u=s);var a=o.pos,f=u.pos;if(t)i.SetProperty("ArrowEnd","1"),i.SetProperty("LineWidth","2"),!n.IsEmpty(a)&&!n.IsEmpty(f)&&(i.SetProperty("NPts","2"),i.SetProperty("P0",a),i.SetProperty("P1",f));else{var l=e.connection.getParameter("Shape Id"),c=_n.call(this,v,l);gn.call(this,c[0].Layout,i),i.propArray.Point0?i.propArray.Point0=a:i.SetProperty("P0",a),i.propArray.Point1?i.propArray.Point1=f:i.SetProperty("P1",f),i.propArray.NumPoints?i.propArray.NumPoints="2":i.SetProperty("NPts","2")}var h=o.hotspot,p=u.hotspot;return h!==-1&&(i.propArray.FromHotSpot?i.propArray.FromHotSpot=h:i.SetProperty("FrHS",h)),p!==-1&&(i.propArray.ToHotSpot?i.propArray.ToHotSpot=p:i.SetProperty("ToHS",p)),r=i.EncodeAsString(),r}function Sn(e,t,r){var i=this.GetPM(),s=t;if(r==="START"||r==="END"&&i.Get("FlowType")==="TaskFlow")return s;var o={},u=i.Get("GetRecordSet");u.forEach(function(t,r){var i=t.Name;!n.IsEmpty(i)&&i.indexOf(s)===0&&(e===d&&!In(t)||e===v&&In(t))&&(o[i]=t["Type LIC"])});var a=0;do s=t+" "+a,a++;while(o.hasOwnProperty(s));return s}function xn(e){var t=$.grep(this.GetPM().Get("GetRecordSet"),function(t){return!In(t)&&t["Type LIC"]===e});return t.length!==0?!0:!1}function Tn(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t){n=r;break}return n}function Nn(e,t){var r=this.GetPM();if(r.Get("FlowType")==="TaskFlow"){if((e==="START"||e==="END")&&xn.call(this,e))return n.Alert(b.replace("%1",t)),!1}else if(r.Get("FlowType")==="WorkFlow"){if(e==="START"&&xn.call(this,e))return n.Alert(S),!1;var i=r.Get("WF_MODE_CD"),s=Tn.call(this,i,r.Get("WFMode"));if(e==="USER_INTERACT"&&(s==="SRVFLOW"||s==="LRFLOW"))return n.Alert(x),!1;if(e==="WAIT"&&s==="SRVFLOW")return n.Alert(T),!1}return!0}function Cn(e,t){$("body").css("cursor","context-menu"),$(t.helper).addClass("siebui-fb-dragging-over");var n=String(this.GetPlumb().getZoom()*100);Jt.call(this,n,$(t.helper).parent())}function kn(e,t){$(t.helper).removeClass("siebui-fb-dragging-over"),$("body").css("cursor","not-allowed"),Jt.call(this,-1,$(t.helper).parent())}function Ln(e,t){var n=this,r=this.GetPM();Jt.call(this,-1,$(t.helper
).parent());if(!fr.call(this))return;if(!r.Get("FlowEditable"))return;var i=$(t.helper).children(".siebui-fb-node-palette").data("type"),s=$(t.helper).children(".siebui-fb-palette-item-label")[0].innerText,o=s;if(!Nn.call(this,i,o))return;var u=$("#"+r.Get("GetFullId")+"_container");o=Sn.call(this,d,s,i);var a=this.GetPlumb().getZoom(),f=Math.round(t.offset.left/a-u.offset().left/a),l=f+h.width,c=Math.round(t.offset.top/a-u.offset().top/a),p=c+h.height,v={left:f,top:c,right:l,bottom:p},m={"Shape Id":o.replace(/ /g,""),Type:s,"Type LIC":i,Name:o,css:v},g=[];g.push(m),At.call(this,u,g),u=null;var y=f.toString()+" "+c.toString()+" "+l.toString()+" "+p.toString(),b=CCFMiscUtil_CreatePropSet(),w;b.SetProperty("r",y),w=b.EncodeAsString();var E={Name:o,Type:s,Layout:w};SiebelApp.S_App.uiStatus.Busy(),r.ExecuteMethod("NewRecord",E).done(function(){xt.call(n,d,o,null,!0),SiebelApp.S_App.uiStatus.Free()}).fail(function(){xt.call(n,d,o,null,!1),SiebelApp.S_App.uiStatus.Free()})}function An(){var e=this,t={accept:".siebui-fb-palette-item",tolerance:"fit",over:function(t,n){Cn.call(e,t,n)},out:function(t,n){kn.call(e,t,n)},drop:function(t,n){Ln.call(e,t,n)}};$("#"+this.GetPM().Get("GetFullId")+"_container").droppable(t)}function On(e,t,r){var i=this,s=i.GetPM(),o=s.Get("GetRecordSet"),u=$("#"+s.Get("GetFullId")+"_container"),a={},f,l,c,h=!1,p=[];o.forEach(function(e,r){a[e["Shape Id"]]=r,r===t&&(f=e["Shape Id"],l=e.Name,c=n.IsEmpty(e["Source Id"])?e["Shape Id"]:e["Source Id"],h=n.IsTrue(e.Inactive))});if(!r&&(n.IsEmpty(f)||f===e))return;h||o.forEach(function(e,t){e.Inactive!=="Y"&&(e["From Step Id"]===c||e["From Step Id"]===f?p.push(e):e["To Step Name"]===l&&p.push(e))}),i.SetPositionMap(a),i.GetPlumb().remove(e);if(h)return;var d=[];d.push(o[t]),Ft.call(i,d,p),u.find("#"+f).addClass("siebui-active")}function Mn(e,t){var r=this.GetPM(),i=r.Get("GetRecordSet"),s=!1,o={};i.forEach(function(t,r){o[t["Shape Id"]]=r,r===e&&(s=n.IsTrue(t.Inactive))}),this.SetPositionMap(o),this.GetPlumb().deleteConnection(t);if(s)return;var u=dn.call(this,i[e]);u!==undefined&&Ut.call(this,u)}function _n(e,t){var n=this.GetPM().Get("GetRecordSet"),r=[];return r=$.grep(n,function(n){if(e===d)return!In(n)&&(n["Shape Id"]===t||n["Source Id"]===t);if(e===v)return In(n)&&n["Shape Id"]===t}),r}function Dn(e){var t=this.GetPM(),n=[];return n=$.grep(t.Get("GetRecordSet"),function(t){return In(t)&&t.Inactive!=="Y"&&(t["From Step Name"]===e||t["To Step Name"]===e)}),n}function Pn(e,t,r,i,s){var o=this.GetPM(),u=o.Get("GetRecordSet"),a=o.Get("WF_STEP_TYPE_CD"),f=o.Get("WF_BRNCH_TYPE_CD"),l=e.getParameter("Shape Id");if(e.suspendedElementType==="source")return n.Alert(A),!1;if(i==="ABORT")return n.Alert(C.replace("%1",a[i])),!1;if(Rn.call(this,i))i==="DECISION_POINT"?(e.setParameter("Type",f.DECISION),e.setParameter("Type LIC","DECISION")):(e.setParameter("Type",f.DEFAULT),e.setParameter("Type LIC","DEFAULT"));else if(zn.call(this,l,r,u))return n.Alert(L.replace("%1",a[i])),!1;return t==="ERROR_EXC"&&!Un.call(this,i)?!1:!0}function Hn(e,t,n,r,i){var s=this.GetPM(),o=s.Get("GetRecordSet"),u=s.Get("WF_BRNCH_TYPE_CD");if(t==="ERROR_EXC"&&i==="SUBTASK")return!1;if(r==="ERROR")return!1;if(jn(t)){if(r!=="DECISION_POINT"){if(!(e.suspendedElementType!=="source"&&typeof e.suspendedElementType!="undefined"||!qn.call(this,n,o)))return!1;if(t==="DECISION"||t==="DEFAULT")e.setParameter("Type",u.CONNECTOR),e.setParameter("Type LIC","CONNECTOR")}r==="DECISION_POINT"?(e.setParameter("Type",u.DECISION),e.setParameter("Type LIC","DECISION")):t==="DEFAULT"&&(e.setParameter("Type",u.CONNECTOR),e.setParameter("Type LIC","CONNECTOR"))}else if(t==="ERROR_EXC")if(r==="START"||r==="DECISION_POINT"||r==="SUBTASK"||r==="ERROR")return!1;return!0}function Bn(e){var t=this.GetPM(),r=t.Get("WF_STEP_TYPE_CD"),i=e.connection,s=e.sourceId,o=e.targetId,u=i.getParameter("Shape Id"),a=n.IsEmpty(u)?i.getParameter("Type LIC"):"",f=_n.call(this,d,s),l=f[0]["Type LIC"],c=f[0].Name,h=_n.call(this,d,o),p=h[0]["Type LIC"];if(i.suspendedElementType==="source"&&i.suspendedElementId===s||i.suspendedElementType==="target"&&i.suspendedElementId===o)return!0;if(!n.IsEmpty(u)){var m=_n.call(this,v,u);a=m[0]["Type LIC"]}if(p==="START")return n.Alert(k.replace("%1",r[p])),!1;if(l==="END")return n.Alert(C.replace("%1",r[l])),!1;if(t.Get("FlowType")==="TaskFlow")return Hn.call(this,i,a,c,l,p);if(t.Get("FlowType")==="WorkFlow")return Pn.call(this,i,a,c,l,p)}function jn(e){return e==="DEFAULT"||e==="CONNECTOR"||e==="DECISION"}function Fn(e){return e==="ERROR_EXC"||e==="USER_DEFINED_EXC"}function In(e){var t=e["Type LIC"];return jn(t)||Fn(t)}function qn(e,t){var n=$.grep(t,function(t,n){return jn(t["Type LIC"])&&t["From Step Name"]===e&&t.Inactive!=="Y"});return n.length>0?!0:!1}function Rn(e){return e==="START"||e==="DECISION_POINT"||e==="USER_INTERACT"||e==="WAIT"}function Un(e){return e==="TASK"||e==="SIEBEL_OPER"||e==="SUB_PROCESS"||e==="TASK_INTERACT"}function zn(e,t,n){var r=$.grep(n,function(n){return In(n)&&n["Type LIC"]==="CONNECTOR"&&n["From Step Name"]===t&&n["Shape Id"]!==e&&n.Inactive!=="Y"});return r.length>0?!0:!1}function Wn(e,t,r){var i=this.GetPM();if(arguments.length===0){var s=this.GetSelectedElem();if(s.length!==1)return!1;var o=i.Get("GetRawRecordSet"),u=s[0].rowId;if(u>=o.length)return!1;if(s[0].type!==v)return!1;var a=o[u];e=a["Shape Id"],t=a["Type LIC"],r=a["From Step Id"]}if(n.IsEmpty(e)||n.IsEmpty(t)||n.IsEmpty(r))return!1;if(i.Get("FlowType")==="TaskFlow")return t==="DECISION";var f=_n.call(this,d,r);if(f.length===0)return!1;var l=f[0]["Type LIC"];return n.IsEmpty(l)?!1:jn.call(this,t)&&Rn.call(this,l)||Fn.call(this,t)&&Un.call(this,l)}function Xn(e){var t=this.GetPM();return t.Get("FlowType")!=="TaskFlow"||e["Type LIC"]!=="START"&&e["Type LIC"]!=="END"?t.Get("FlowType")==="WorkFlow"&&e["Type LIC"]==="START"?(n.Alert(N),!1):!0:(n.Alert(w),!1)}function Vn(){if(!Xt.call(this))return;var e=this.GetPM(),t=this.IsSingleSel(),n=!1,r=[],i=this.GetSelectedElem(),s,o;t&&(s=i
[0].rowId,n=i[0].type===v?!0:!1,n||(o=e.Get("GetRawRecordSet")[s],r=Dn.call(this,o.Name),r.length!==0&&(t=!1))),t?n?$n.call(this,!1,s):Jn.call(this,s):Kn.call(this)}function $n(t,r){var i=this,s=this.GetPM();if(r!==s.Get("GetSelection")){var o=s.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),r,!1,!1);if(!o)return}if(!n.Confirm(E)){if(t){var u=dn.call(i,s.Get("GetRawRecordSet")[r]);u!==undefined&&Ut.call(i,u)}return}var a={Inactive:"Y"};SiebelApp.S_App.uiStatus.Busy(),s.ExecuteMethod("UpdateRecord",a).done(function(){if(!t){var e=vn.call(i,s.Get("GetRawRecordSet")[r]);i.GetPlumb().deleteConnection(e)}i.GetSelectedElem().splice(0,1);var n=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:n}).ExecuteMethod("SetActiveState","Default"),SiebelApp.S_App.uiStatus.Free()}).fail(function(){SiebelApp.S_App.uiStatus.Free()})}function Jn(t){var r=this,i=this.GetPM(),s=i.Get("GetRawRecordSet")[t];if(t!==i.Get("GetSelection")){var o=i.OnControlEvent(e.get("PHYEVENT_SELECT_ROW"),t,!1,!1);if(!o)return}if(!Xn.call(this,s))return;if(!n.Confirm(E))return;var u={Inactive:"Y"};SiebelApp.S_App.uiStatus.Busy(),i.ExecuteMethod("UpdateRecord",u).done(function(){r.GetPlumb().remove(s["Shape Id"]),r.GetSelectedElem().splice(0,1);var e=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:e}).ExecuteMethod("SetActiveState","Default"),SiebelApp.S_App.uiStatus.Free()}).fail(function(){SiebelApp.S_App.uiStatus.Free()})}function Kn(){if(!n.Confirm(E))return;var e=this.GetPM(),t=this,r=this.GetSelectedElem(),i,s,o={},u={},a={},f=[],l={},c=[],h=[],p=!1,m=!1,g=I[e.Get("FlowType")],y=CCFMiscUtil_CreatePropSet(),b=CCFMiscUtil_CreatePropSet(),w=CCFMiscUtil_CreatePropSet(),S="";sr.call(this,y,b,g);for(var x=0;x<r.length;x++){i=r[x].rowId,s=e.Get("GetRawRecordSet")[i],o={Name:s.Name,Inactive:"Y"};if(r[x].type===v)a[s["Shape Id"]]=s,p=!0;else{if(!Xn.call(this,s))continue;m=!0,c.push(s["Shape Id"]),w=or.call(this,b,g[d],o),u[s.Name]=w,f=Dn.call(this,s.Name),!p&&f.length>0&&(p=!0);for(var T=0;T<f.length;T++)l=f[T],a[l["Shape Id"]]=l}}m&&(S=g[d]),p&&(S+=n.IsEmpty(S)?g[v]:";"+g[v]),y.SetProperty("RefreshBCNames",S);for(var N in a)if(a.hasOwnProperty(N)){l=a[N],h.push(l),o={Name:l.Name,Inactive:"Y"};if(e.Get("FlowType")==="TaskFlow")or.call(this,b,g[v],o);else if(e.Get("FlowType")==="WorkFlow"){var C=l["From Step Name"];w=u[C];if(w===undefined){var k={Name:C};w=or.call(t,b,g[d],k),u[C]=w}or.call(t,w,g[v],o)}}SiebelApp.S_App.uiStatus.Busy(),e.ExecuteMethod("BulkOperations",y).done(function(){Qn.call(t,c,h),SiebelApp.S_App.uiStatus.Free()}).fail(function(){SiebelApp.S_App.uiStatus.Free()})}function Qn(e,t){var n,r={},i=this.GetPM().Get("GetRecordSet");i.forEach(function(e,t){r[e["Shape Id"]]=t}),this.SetPositionMap(r),ur.call(this,e,t);var s=SiebelApp.S_App.GetActiveView().GetName();SiebelAppFacade.ComponentMgr.FindComponent({id:s}).ExecuteMethod("SetActiveState","Default")}function Gn(){var e=$(".siebui-fb-settings-panel").find(".ui-menu-item > a");Yn.call(this,e);var t=$(".siebui-fb-settings-panel").find("[Id="+l+"HideText"+"]");Yn.call(this,t)}function Yn(e){var t=this.GetPM();for(var n=0;n<e.length;n++){var r=$(e[n]),i=r.attr("id"),s=i.substring(l.length),o=!1,u=!1;switch(s){case"Edit":o=!t.Get("FlowEditable");break;case"Delete":o=!Xt.call(this);break;case"ZoomIn":o=Vt.call(this,!0)===-1;break;case"ZoomOut":o=Vt.call(this,!1)===-1;break;case"ValidateStep":o=!Yt.call(this,"TASK")||t.ExecuteMethod("CanInvokeMethod","ValidateStep")!==!0;break;case"GenerateReqIOArgs":u=!t.Get("FlowEditable")||t.Get("FlowType")!=="WorkFlow"||!Yt.call(this,"TASK");break;case"EditConditions":u=!Wn.call(this);break;case"EditSubProcess":u=!Yt.call(this,"SUB_PROCESS");break;case"EditTask":u=!Yt.call(this,"TASK_INTERACT");break;case"Validate":u=this.HaveSel();break;case"HideText":Zn.call(this,r);break;default:}s!=="HideText"&&(u?r.addClass("forcehide"):o?r.removeClass("forcehide").addClass("ui-state-disabled"):r.removeClass("forcehide ui-state-disabled"))}}function Zn(e){var t=!1,r=!1;if(this.IsSingleSel()){var i=this.GetPM(),s=this.GetSelectedElem();if(s[0].type===v){var o=s[0].rowId,u=i.Get("GetRawRecordSet")[o],a=_n.call(this,d,u["From Step Id"])[0]["Type LIC"],f=i.Get("FlowType")==="TaskFlow"?"Label":"Name";i.Get("FlowType")==="WorkFlow"&&jn(u["Type LIC"])&&!Rn(a)||n.IsEmpty(u[f])||(r=n.IsTrue(vn.call(this,u).getParameter("Hide Text")),i.Get("FlowEditable")&&(t=!0))}}e.prop("checked",r).val(r?"Y":"N").attr("aria-checked",r),t?(e.prop("disabled",!1),e.siblings().removeClass("ui-state-disabled")):(e.prop("disabled",!0),e.siblings().addClass("ui-state-disabled"))}function er(e,t,n,o,u){e.length!==0&&(o=o||n,u?e.attr(r,t).attr(i,n).attr(s,o):e.attr(r,t).attr(i,n.replace(/\s/g,"_")).attr(s,o.replace(/\s/g,"_")))}function tr(e,t,n,r){n!==undefined&&n.ctrlKey?nr.call(this,e)?rr.call(this,e,t,r):ir.call(this,e,t,r):(Wt.call(this),ir.call(this,e,t,r))}function nr(e){if(!this.HaveSel())return!1;var t=this.GetSelectedElem();for(var n=0;n<t.length;n++)if(e===t[n].rowId)return!0;return!1}function rr(e,t,n){var r=this.GetSelectedElem();for(var i=0;i<r.length;i++)if(e===r[i].rowId){r.splice(i,1);break}t===d?(n.removeClass("siebui-active"),this.GetPlumb().removeFromDragSelection(n)):t===v&&zt.call(this,n)}function ir(e,t,r){var i=this.GetSelectedElem(),s=this.GetPM().Get("GetRawRecordSet")[e];i.push({rowId:e,shapeId:s["Shape Id"],sourceId:n.IsEmpty(s["Source Id"])?s["Shape Id"]:s["Source Id"],type:t}),t===d?(r.addClass("siebui-active"),this.GetPlumb().addToDragSelection(r)):t===v&&Ut.call(this,r)}function sr(e,t,n){var r=n.IntObjName;e.SetType(P),e.SetProperty(H,n.RepObjType),e.SetProperty(B,r),e.SetProperty(j,F);var i=CCFMiscUtil_CreatePropSet();i.SetType(D+r),t.SetType(n.Parent),t.SetProperty("Name",this.GetPM().Get("FlowName")),i.AddChild(t),e.AddChild(i)}function or(e,t,n){var r=D+t,i=e.GetChildByType(r);i||(i=CCFMiscUtil_CreatePropSet(),i.SetType(r),e.AddChild(i));var s=CCFMiscUtil_CreatePropSet()
;s.SetType(t);for(var o in n)n.hasOwnProperty(o)&&s.SetProperty(o,n[o]);return i.AddChild(s),s}function ur(e,t){for(var n=0;n<t.length;n++){var r=vn.call(this,t[n]);this.GetPlumb().deleteConnection(r)}for(var i=0;i<e.length;i++)this.GetPlumb().remove(e[i]);Wt.call(this)}function ar(){var e=this.GetPM(),t=SiebelApp.S_App.GetActiveView().GetName(),n=SiebelApp.S_App.GetActiveView().GetActiveApplet();if(n&&n.GetName()!==e.GetObjName()){var r=n.GetActiveControl();if(r!==null&&r!==undefined){var i=n.GetPModel().GetRenderer().GetUIWrapper(r).GetEl();i&&i.length===1&&i.focus().blur()}}var s=n?n.GetCommitPending():!1;return e.AddProperty("ActiveAppletCommitPending",s),s}function fr(){var e=SiebelApp.S_App.GetActiveView(),t=this.GetPM().GetObjName(),n=e.GetActiveApplet(),r=n?n.GetName():"",i=this.GetCanvasElem();return i.find(".siebui-fb-zoom").focus(),t===r?!0:e.SetActiveApplet(e.GetApplet(t))}function lr(){var e=this.GetPM().GetContextMenu();this.SetDynamicConn(e.EnableDynamicConnectors.value),this.GetPM().Get("IsSimulator")||(this.SetShowPoints(e.ConnectionPoints.value),this.SetSnapGrid(e.SnapToGrid.value),Qt.call(this,e.ShowGrid.value)),Jt.call(this,String(e.Zoom.value))}function cr(){var e=$(".siebui-fb-settings-panel").find("#"+l+"Application").next().find(".ui-menu-item > a"),t,r,i,s=this.GetPM().GetContextMenu().Application.value,o=!1,u=!1,a=0,f=0;n.IsEmpty(s)&&(s={appname:"",langname:""});if(n.IsEmpty(s.appname)||n.IsEmpty(s.langname))o=!0;for(a=0,f=e.length;a<f;a++)t=$(e[a]),r=t.data("appname"),i=t.data("langname"),t.addClass("siebui-wfps-app-entry"),a===0&&o===!0?(t.addClass("siebui-wfps-selected"),u=!0):!o&&r===s.appname&&i===s.langname?(t.addClass("siebui-wfps-selected"),u=!0):t.removeClass("siebui-wfps-selected");u||(SiebelJS.Debug("[WFPSim] UpdateMenuSimApp: Non-existing target application/language from UserPref: Application = '"+s.appname+"'; Language = '"+s.langname+"'",!0),e.length>0&&(t=$(e[0]),t.addClass("siebui-wfps-selected"),SiebelJS.Debug("[WFPSim] UpdateMenuSimApp: Select the first entry instead: '"+t.text()+"'",!0)))}function hr(){var e=$(".siebui-wfps-mode .siebui-fb-canvas .siebui-btn-grp-applet");if(e.length===0)return;switch(this.GetPM().Get("SimState")){case"Init":case"Starting":case"Ready":e.find("#wfpsStart").removeClass(X).prop("disabled",!1),e.find("#wfpsNext").addClass(X).prop("disabled",!0),e.find("#wfpsComplete").addClass(X).prop("disabled",!0),e.find("#wfpsStop").addClass(X).prop("disabled",!0),e.find("#wfpsStart").focus();break;case"Running":e.find("#wfpsStart").addClass(X).prop("disabled",!0),e.find("#wfpsNext").addClass(X).prop("disabled",!0),e.find("#wfpsComplete").addClass(X).prop("disabled",!0),e.find("#wfpsStop").addClass(X).prop("disabled",!0);break;case"OnStep":e.find("#wfpsStart").addClass(X).prop("disabled",!0),e.find("#wfpsNext").removeClass(X).prop("disabled",!1),e.find("#wfpsComplete").removeClass(X).prop("disabled",!1),e.find("#wfpsStop").removeClass(X).prop("disabled",!1),e.find("#wfpsNext").focus();break;default:e.find("#wfpsStart").addClass(X).prop("disabled",!0),e.find("#wfpsNext").addClass(X).prop("disabled",!0),e.find("#wfpsComplete").addClass(X).prop("disabled",!0),e.find("#wfpsStop").removeClass(X).prop("disabled",!1),e.find("#wfpsStop").focus()}}function pr(e){var t=this.GetPM().Get("GetRecordSet"),n,r,i,s;e===ht?(r="Type LIC",i="START"):(r="Name",i=e);for(var o=0,u=t.length;o<u;o++){n=t[o];if(!In(n)&&n[r]===i){s=n["Shape Id"];break}}return s}function dr(e){var t=pr.call(this,e),r=$(".siebui-wfps-mode .siebui-fb-canvas .siebui-fb-node"),i=!1;r.removeClass("siebui-wfps-current-step");if(!n.IsEmpty(t)){var s=r.parent().find("#"+t);s.length>0&&(s.addClass("siebui-wfps-current-step"),i=!0)}i?SiebelJS.Debug("[WFPSim] Highlight Step: '"+e+"'",!0):(SiebelJS.Log("[Warning] HighlightSimulationStep - Can't find Step to highlight: '"+e+"'",!0),SiebelJS.Log("[Warning] HighlightSimulationStep - Most likely the Workflow Process data is out of sync between Web Tools and Target AOM.",!0),SiebelJS.Log("[Warning] HighlightSimulationStep - Please end the simulation, logout Target AOM, and restart the simulation again.",!0));if(!document.hasFocus()&&e!==ht){var o=-1,u=document.title,a=dt+u,f=!0;SiebelJS.Debug("[WFPSim] Blinking browser tab title ...",!0),o=setInterval(function(){document.hasFocus()?(document.title=u,clearInterval(o)):(document.title=f?a:u,f=!f)},500)}}function vr(e,t){var r=this,i=$(".siebui-wfps-mode .siebui-wfps-watch-panel");i.find(".siebui-wfps-watch-panel-toggle").hasClass("siebui-wfps-expanded")||i.find(".siebui-wfps-watch-panel-header").click(),i.find(".siebui-wfps-watch-panel-body-default").addClass("forcehide");var s=i.find(".siebui-wfps-watch-panel-body-data");s.removeClass("forcehide").find("ul").remove();var o=e.GetProperty("Status"),u=e.GetProperty("NextStep"),a=e.GetProperty("Message");n.IsEmpty(a)&&(a=""),n.IsTrue(t)||(o==="NOTOK"||o==="SIMULATION COMPLETE")&&n.Alert(a);var f=this.GetPM().Get("ProcessPropPS");f.SetProperty(W,a);var l=f.GetChildByType(q);l||(l=SiebelApp.S_App.NewPropertySet(),l.SetType(q),f.AddChild(l));var c=this.GetPM().Get("ReadOnlyProcessPropPS");n.IsEmpty(c.GetType())&&(c.SetType(R),c.SetProperty("Process Instance Id",!0),c.SetProperty("Siebel Operation Object Id",!0),c.SetProperty("Error Code",!0),c.SetProperty("Error Message",!0));var h,p,d;if(!n.IsTrue(t)){h=e.GetChildByType(U);if(h){var v,m,g,y;for(p=!0;(d=h.EnumProperties(p))!==null;p=!1)l.SetProperty(d,h.GetProperty(d));for(v=0;v<h.GetChildCount();v++)g=h.GetChild(v),m=g.GetType(),y=l.GetChildByType(m),y?(y.Reset(),y.DeepCopy(g)):l.AddChild(g)}var b=e.GetChildByType(z);if(b){var w=l.GetChildByType(z);w?(w.Reset(),w.DeepCopy(b)):l.AddChild(b)}}else{h=this.GetPM().Get("ModifiedPropPS");if(h)for(p=!0;(d=h.EnumProperties(p))!==null;p=!1)l.SetProperty(d,h.GetProperty(d))}gr.call(this,f,0,s),s.find(".siebui-wfps-watch-entry").off("click").on("click",function(e){var t=$(e.target),n=$(e.currentTarget);e.preventDefault(),e.stopPropagation(),t.hasClass("siebui-wfps-entry-icon-action"
)?mr.call(r,t.parent()):n.hasClass("siebui-wfps-folder")?t.hasClass("siebui-wfps-entry-value")?mr.call(r,n):n.next().length!==0&&n.toggleClass("siebui-wfps-expanded").next().toggle():(!t.hasClass("siebui-wfps-entry-key")||t.hasClass("siebui-wfps-entry-colon"))&&mr.call(r,n)})}function mr(e){var t=this,r=n.IsTrue(SiebelApp.S_App.IsAutoOn()),i=$("."+J);i.length<=0&&(i=$(vt.watchEditPropContent),i.dialog({modal:!0,autoOpen:!1,draggable:!1,minHeight:150,minWidth:300,classes:{"ui-dialog":V,"ui-dialog-content":J},create:function(e,n){var i=$(this).siblings(".ui-dialog-buttonpane").find(".ui-dialog-buttonset").prependTo(".siebui-wfps-watch-edit-prop-dialog .ui-dialog-titlebar");i.find(".ui-button").each(function(){r&&er.call(t,$(this),o,$(this).text(),$(this).text(),!0),$('<div class="siebui-wfps-title-wrap" title="'+$(this).text()+'"></div>').insertAfter($(this)).append($(this)),$(this).text("")}),i.after($(vt.watchEditPropTitle)),r&&er.call(t,$(this).find("."+K),"JTextArea","PropValue","Property Value",!0)},buttons:[{text:ot,"class":"siebui-ctrl-btn appletButton siebui-ctrl-wfps-save",click:function(){var e=$(this).data("editinfo");if(!e.readonly){var t=$(this).find("."+K).val();e.value!==t&&(e.jqvalue.text(t),e.pm.ExecuteMethod("SetModifiedProperty",e.prop,t))}$(this).dialog("close")}},{text:ut,"class":"siebui-ctrl-btn appletButton siebui-ctrl-wfps-cancel",click:function(){$(this).dialog("close")}}]}));var s=SiebelApp.S_App.GetDirection(),u=e.find(".siebui-wfps-entry-key"),a=e.find(".siebui-wfps-entry-value"),f=u.text(),l=a.text(),c=!e.hasClass("siebui-wfps-editable"),h=i.find("."+K);h.val(l),h.prop("readonly",c),i.data("editinfo",{pm:this.GetPM(),prop:f,readonly:c,jqvalue:a,value:l}),i.siblings(".ui-dialog-titlebar").find(".siebui-wfps-edit-prop-title").text(f),c?i.siblings(".ui-dialog-titlebar").find(".siebui-ctrl-wfps-save").addClass("siebui-wfps-button-disabled"):i.siblings(".ui-dialog-titlebar").find(".siebui-ctrl-wfps-save").removeClass("siebui-wfps-button-disabled"),i.dialog("option",{height:200,width:400,position:{my:s?"right top":"left top",at:s?"right bottom":"left bottom",of:u,collision:"flipfit flipfit"}}),i.dialog("open"),r&&er.call(t,i.parent(),"SiebApplet","EditProcessProperty","Edit Process Property",!0)}function gr(e,t,r){var i=n.IsTrue(SiebelApp.S_App.IsAutoOn()),s=e.GetChildCount(),u=e.GetPropertyCount();if(u+s<=0)return;r.find("> .siebui-wfps-watch-entry").first().addClass("siebui-wfps-watch-entry-has-children");var a=0,f=0;r.append("<ul></ul>");if(u>0){var l=e.GetType()===q,c=[];for(var h=!0,p;(p=e.EnumProperties(h))!==null;h=!1)c.push({key:p,value:e.GetProperty(p),readonly:l?n.IsTrue(this.GetPM().Get("ReadOnlyProcessPropPS").GetProperty(p)):!0,watchLevel:""});c.sort(function(e,t){return e.key.localeCompare(t.key)});for(a=0,f=c.length;a<f;a++){var d=xr.call(this,vt.watchEntry,c[a]),v=$(d).appendTo(r.find("> ul").last()),m=v.find("> .siebui-wfps-watch-entry").first().addClass("siebui-wfps-property");c[a].readonly||(m.addClass("siebui-wfps-editable"),m.find(".siebui-wfps-entry-icon-action").prop("title",it)),i&&er.call(this,m,o,c[a].key,c[a].key,!0)}}if(s>0)for(a=0;a<s;a++){var g=e.GetChild(a);g&&yr.call(this,g,t,r)}t>3?r.find("> ul").toggle():r.find("> div.siebui-wfps-watch-entry-has-children").addClass("siebui-wfps-expanded")}function yr(e,t,r){var i=e.GetType();n.IsEmpty(i)&&(i="PS: Property Set");var s=xr.call(this,vt.watchEntry,{key:i,value:e.GetValue(),watchLevel:""}),o=$(s).appendTo(r.find("> ul").last()),u=o.find("> .siebui-wfps-watch-entry").first().addClass("siebui-wfps-folder");n.IsEmpty(e.GetValue())||u.addClass("siebui-wfps-has-data"),gr.call(this,e,t+1,o)}function br(e){var t=$(e.target),r=e.data.ctx.GetPM(),i=t.data("clickmethod");i&&!n.IsEmpty(r)&&(e.preventDefault(),e.stopPropagation(),r.ExecuteMethod("InvokeSimulationMethod",i))}function wr(e){(e.which===$.ui.keyCode.ENTER||e.which===$.ui.keyCode.SPACE)&&br(e)}function Er(e){var t=$(e.currentTarget);e.preventDefault(),e.stopPropagation(),t.find(".siebui-wfps-watch-panel-toggle").toggleClass("siebui-wfps-expanded"),t.parent().find(".siebui-wfps-watch-panel-body").toggleClass("forcehide")}function Sr(e){(e.which===$.ui.keyCode.ENTER||e.which===$.ui.keyCode.SPACE)&&Er(e)}function xr(e,t){var n="",r=null,i="",s=e;for(n in t)t.hasOwnProperty(n)&&(i="{{\\s*"+n+"\\s*}}",r=new RegExp(i,"g"),s=s.replace(r,t[n]));return s}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),n=SiebelJS.Dependency("SiebelApp.Utils"),r=e.get("SWE_PROP_AUTOM_OT"),i=e.get("SWE_PROP_AUTOM_RN"),s=e.get("SWE_PROP_AUTOM_UN"),o=e.get("SWE_PST_BUTTON_CTRL"),u=e.get("SWE_CTRL_CHECKBOX"),a=e.get("SWE_CTRL_LINK"),f=e.get("SWE_CTRL_PLAINTEXT"),l="wtfbMenu",c=["50","75","100","150","200","400"],h={width:78,height:54},p=[[0,.5],[.5,0],[1,.5],[.5,1]],d="Step",v="Branch",m="Task",g=12,y=t.GetLocalString("IDS_SWE_MENU_TITLE"),b=t.GetLocalString("WT_TASKFLOW_ERROR_ONE_STEP_ALLOWED"),w=t.GetLocalString("WT_TASKFLOW_ERROR_CANNOT_DELETE_START_END"),E=t.GetLocalString("IDS_SWE_JQGRID_DEL_MSG"),S=t.GetLocalString("WT_WF_PROCESS_VALIDATION_START"),x=t.GetLocalString("WT_WF_PROCESS_VALIDATION_USERINTERACT"),T=t.GetLocalString("WT_WF_PROCESS_VALIDATION_WAIT"),N=t.GetLocalString("WT_WF_PROCESS_VALIDATION_DELETE_START"),C=t.GetLocalString("WT_WF_PROCESS_VALIDATION_NO_CONN_FROM_STEP"),k=t.GetLocalString("WT_WF_PROCESS_VALIDATION_NO_CONN_TO_STEP"),L=t.GetLocalString("WT_WF_PROCESS_VALIDATION_NO_MULTI_CONN_FROM_STEP"),A=t.GetLocalString("WT_WF_PROCESS_VALIDATION_NO_UPD_CONN_FROM_STEP"),O=t.GetLocalString("WT_WF_PROCESS_VALIDATE_STEP_SUCCESS_MSG"),M=t.GetLocalString("WT_WF_PROCESS_EDITSUBPROCESS"),_=t.GetLocalString("WT_WF_PROCESS_EDITTASK"),D="ListOf",P="PropertySet",H="Repository Object Type",B="Integration Object Name",j="Operation",F="Upsert",I={TaskFlow:{RepObjType:"Task",IntObjName:"Repository Task",Parent:"Repository Task",Step:"Repository Task Step",Branch:"Repository Task Branch"},WorkFlow:{RepObjType:"Workflow Process"
,IntObjName:"Repository Workflow Process Bulk Operations",Parent:"Repository Workflow Process",Step:"Repository WF Step",Branch:"Repository WF Step Branch"}},q="Process Properties",R="__ReadOnlyProcessProperties__",U="ModifiedProperties",z="BusComp",W="Simulator Status",X="siebui-wfps-button-disabled",V="siebui-wfps-watch-edit-prop-dialog",J="siebui-wfps-watch-edit-prop-content",K="siebui-wfps-prop-value-textarea",Q="resize.wfpscanvas",G=t.GetLocalString("WT_WF_PROCESS_SIM_TITLE"),Y=t.GetLocalString("WT_WF_PROCESS_SIM_WATCH_TITLE"),Z=t.GetLocalString("WT_WF_PROCESS_SIM_WATCH_DEFAULT_TEXT"),et=t.GetLocalString("WT_WF_PROCESS_SIM_START"),tt=t.GetLocalString("WT_WF_PROCESS_SIM_NEXT"),nt=t.GetLocalString("WT_WF_PROCESS_SIM_COMPLETE"),rt=t.GetLocalString("WT_WF_PROCESS_SIM_STOP"),it=t.GetLocalString("WT_DEBUGGER_EDIT_WATCH_DATA"),st=t.GetLocalString("WT_DEBUGGER_VIEW_WATCH_DATA"),ot=t.GetLocalString("IDS_CLIENT_SAVE"),ut=t.GetLocalString("IDS_CLIENT_CANCEL"),at="",ft="WT Repository Workflow Process Simulation View",lt="GetSimulateButtonDisplayName",ct="DisplayName",ht="Type::Start",pt="Validate Workflow Process",dt="\u275a\u275a ",vt={simButtons:'<div class="siebui-wfps-title-wrap" title="'+et+'" aria-label="'+et+'">'+'<button id="wfpsStart" class="siebui-ctrl-btn appletButton siebui-ctrl-wfps-button siebui-ctrl-wfps-start" data-clickmethod="SimStart"></button>'+"</div>"+'<div class="siebui-wfps-title-wrap" title="'+tt+'" aria-label="'+tt+'">'+'<button id="wfpsNext" class="siebui-ctrl-btn appletButton siebui-ctrl-wfps-button siebui-ctrl-wfps-next" data-clickmethod="SimNext"></button>'+"</div>"+'<div class="siebui-wfps-title-wrap" title="'+nt+'" aria-label="'+nt+'">'+'<button id="wfpsComplete" class="siebui-ctrl-btn appletButton siebui-ctrl-wfps-button siebui-ctrl-wfps-complete" data-clickmethod="SimComplete"></button>'+"</div>"+'<div class="siebui-wfps-title-wrap" title="'+rt+'" aria-label="'+rt+'">'+'<button id="wfpsStop" class="siebui-ctrl-btn appletButton siebui-ctrl-wfps-button siebui-ctrl-wfps-stop" data-clickmethod="SimStop"></button>'+"</div>",watchPanel:'<div class="siebui-wfps-watch-panel"><div class="siebui-wfps-watch-panel-header" tabindex="0" title="'+Y+'" aria-label="'+Y+'">'+'<div class="siebui-wfps-title-wrap">'+'<a class="siebui-wfps-watch-panel-toggle" role="button" tabindex="-1">'+"</a>"+"</div>"+'<div class="siebui-wfps-title-wrap">'+'<a href="javascript:;" class="siebui-wfps-watch-panel-title" tabindex="-1">'+Y+"</a>"+"</div>"+"</div>"+'<div class="siebui-wfps-watch-panel-body forcehide" title="">'+'<div class="siebui-wfps-watch-panel-body-default" title="">'+Z+"</div>"+'<div class="siebui-wfps-watch-panel-body-data forcehide" title="">'+"</div>"+"</div>"+"</div>",watchEntry:'<li><div class="siebui-wfps-watch-entry"><span class="siebui-wfps-entry-key">{{key}}</span><span class="siebui-wfps-entry-colon">:</span><span class="siebui-wfps-entry-icon-action" title="'+st+'"></span>'+'<span class="siebui-wfps-entry-value">{{value}}</span>'+"</div>"+"</li>",watchEditPropTitle:'<div class="siebui-wfps-edit-prop-title"></div>',watchEditPropContent:'<div><textarea class="'+K+'"></textarea>'+"</div>",simWFPButton:'<div class="siebui-wfps-title-wrap" title="{{wfps_simulate}}" aria-label="{{wfps_simulate}}"><button id="wfpsSim" class="siebui-ctrl-btn appletButton siebui-ctrl-wfps-button siebui-icon-simulate-wfp" data-clickmethod="Simulate"></button></div>'};return SiebelJS.Extend(mt,SiebelAppFacade.PhysicalRenderer),mt.prototype.Init=function(){SiebelAppFacade.FlowBuilderCanvasPR.superclass.Init.apply(this,arguments);var e=this.GetPM(),t=SiebelApp.S_App.GetActiveView().GetName(),n=SiebelAppFacade.ComponentMgr.FindComponent({id:t}),r=n.GetPM(),i=SiebelAppFacade.ComponentMgr.FindComponent({id:r.GetPropAppletMap().Default}).GetPM(),s=i.ExecuteMethod("CanInvokeMethod","WriteRecord");r.Get("IsSimulator")&&(e.SetProperty("IsSimulator",!0),$("html").addClass("siebui-wfps-mode"),s=!1),e.AddProperty("FlowType",r.Get("FlowType")),e.AddProperty("FlowEditable",s),this.AttachPMBinding("RefreshCanvas",gt,{scope:this}),this.AttachPMBinding("CanvasDelete",function(){Vn.call(this)}),this.AttachPMBinding("CanvasZoomOut",function(){$t.call(this,!1)}),this.AttachPMBinding("CanvasZoomIn",function(){$t.call(this,!0)}),this.AttachPMBinding("CanvasPrint",Gt,{scope:this}),this.AttachPMBinding("IsMenuInitialized",function(){e.Get("IsMenuInitialized")&&(un.call(this),an.call(this))}),this.AttachPMBinding("NotifyUpdateMenuSimApp",cr,{scope:this}),this.AttachPMBinding("NotifySimulationStateChanged",hr,{scope:this}),this.AttachPMBinding("NotifyHighlightSimulationStep",dr,{scope:this}),this.AttachPMBinding("SetWatchData",vr,{scope:this})},mt.prototype.GetDefaults=function(){var e=n.IsTrue(SiebelApp.S_App.IsAutoOn())?2:1,t="siebui-fb-conn-endpoint forceinvisible",r={PaintStyle:{strokeWidth:e,stroke:"black",outlineStroke:"rgba(0,0,0,0)",outlineWidth:3},HoverPaintStyle:{stroke:"gray"},Endpoints:[["Dot",{radius:4,cssClass:t}],["Rectangle",{width:8,height:8,cssClass:t}]],EndpointStyle:{fill:"red",outlineStroke:"black",outlineWidth:1},Overlays:[["Arrow",{location:1,width:8,length:8,foldback:.2}]]};return r},mt.prototype.ShowUI=function(){SiebelAppFacade.FlowBuilderCanvasPR.superclass.ShowUI.apply(this,arguments);var e=this.GetPM(),t=n.IsTrue(SiebelApp.S_App.IsAutoOn());this.SetCanvasElem($(".siebui-fb-canvas"));var r=this.GetCanvasElem();r&&Tt.call(this,r),this.GetPlumb()||this.SetPlumb(jsPlumb.getInstance(this.GetDefaults())),lr.call(this);var i=$("#"+e.Get("GetFullId")).find(".siebui-btn-grp-applet"),s=e.Get("GetAppletLabel")+" "+y;i.append('<div class="siebui-fb-settings"><button title="'+s+'" aria-label="'+s+'" class="siebui-ctrl-btn appletButton siebui-fb-settings-ctrl"></button></div>');if(t){var u=i.find(".siebui-fb-settings-ctrl");er.call(this,u,o,"Settings")}if(e.Get("FlowType")==="WorkFlow")if(e.Get("IsSimulator"))$(".siebui-ide-object-pane").append(vt.watchPanel),i.find(".siebui-fb-settings").before(vt.simButtons
),$("#"+e.Get("GetFullId")).find(".siebui-applet-title").text(G),$("."+J).remove(),t&&(er.call(this,$(".siebui-wfps-watch-panel"),"SiebApplet","WFPSimWatch","Simulator Watch Panel",!0),er.call(this,$(".siebui-wfps-watch-panel .siebui-wfps-watch-panel-header"),o,"WFPSimWatchHeader","Toggle Watch Panel",!0),er.call(this,i.find(".siebui-ctrl-wfps-start"),o,"WFPSimStart","Start Simulation",!0),er.call(this,i.find(".siebui-ctrl-wfps-next"),o,"WFPSimNext","Simulate Next",!0),er.call(this,i.find(".siebui-ctrl-wfps-complete"),o,"WFPSimComplete","Complete Simulation",!0),er.call(this,i.find(".siebui-ctrl-wfps-stop"),o,"WFPSimStop","Stop Simulation",!0));else{if(n.IsEmpty(at)){var a=CCFMiscUtil_CreatePropSet(),f=CCFMiscUtil_CreatePropSet();e.InvokeServiceMethod(lt,a,f)&&(at=f.GetProperty(ct)),n.IsEmpty(at)&&(at="Simulate Workflow Process",SiebelJS.Debug("[WFPSim] Can't find Simulate button Display Name. Use default text: '"+at+"'",!0))}i.find(".siebui-fb-settings").before(xr.call(this,vt.simWFPButton,{wfps_simulate:at})),t&&er.call(this,i.find(".siebui-icon-simulate-wfp"),o,"WFPSimulate","Simulate Workflow Process",!0)}var l=SiebelApp.S_App.GetActiveView().GetName(),c=SiebelAppFacade.ComponentMgr.FindComponent({id:l}),h=c.GetPM(),p=SiebelAppFacade.ComponentMgr.FindComponent({id:h.GetPropAppletMap().Default}).GetPM(),d=p.Get("GetRawRecordSet"),v=d.length===1?d[0].Name:"";e.AddProperty("FlowName",v);if(e.Get("FlowType")==="TaskFlow"){var m=d.length===1?d[0]["Is Subtask"]:"";m==="Y"&&h.SetProperty("IsSubTask",!0)}else if(e.Get("FlowType")==="WorkFlow"){var g=d.length===1?d[0]["Workflow Mode"]:"";e.AddProperty("WFMode",g)}c.ExecuteMethod("SetActiveState","Default")},mt.prototype.BindEvents=function(){SiebelAppFacade.FlowBuilderCanvasPR.superclass.BindEvents.apply(this,arguments);var e=null,t=this,r=t.GetPM(),i=sn.call(this,r.Get("GetRecordSet")),s=i[0],o=i[1];e=this.GetPlumb(),e.ready(function(){var e=t.GetCanvasElem();Ft.call(t,s,o),e.find(".siebui-fb-zoom").on("click",{ctx:this},function(e){if(r.Get("ConnDetachPending")){r.AddProperty("ConnDetachPending",!1);return}if(ar.call(t))return setTimeout(function(){fr.call(t)}),e.stopImmediatePropagation(),!1;fr.call(t),Ct.call(e.data.ctx,undefined,"Default"),Wt.call(t),e.stopPropagation()})}),e.bind("beforeDrag",function(e){if(ar.call(t))return setTimeout(function(){fr.call(t)}),!1;fr.call(t)}),e.bind("beforeStartDetach",function(e,n){if(ar.call(t))return setTimeout(function(){fr.call(t)}),!1;fr.call(t);var i=e.connection;t.GetPM().AddProperty("ConnDetachPending",!0);var s=t.GetPositionMap()[i.getParameter("Shape Id")];if(nr.call(t,s)&&t.IsMultiSel())return!1;s!==r.Get("GetSelection")&&(tr.call(t,s,v,undefined,i),Nt.call(t,s,v))}),e.bind("connectionDetached",function(e,n){t.GetPM().AddProperty("ConnDetachPending",!1)}),e.bind("connectionDragStop",function(e){e.source===null&&e.target===null&&$n.call(t,!0,r.Get("GetSelection"))}),e.bind("beforeDrop",function(e){var i=e.connection,s=_n.call(t,d,i.sourceId),o=s.length===1?s[0].Name:"",u=_n.call(t,d,i.targetId),a=u.length===1?u[0].Name:"",f={},l;if(typeof i.suspendedElement=="undefined"){var p="CONNECTOR",m=r.Get("WF_BRNCH_TYPE_CD")[p];e.connection.setParameter("Type",m),e.connection.setParameter("Type LIC",p);if(!Bn.call(t,e))return!1;var g=i.sourceId;s.length===1&&!n.IsEmpty(s[0]["Source Id"])&&(g=s[0]["Source Id"]);var y=Sn.call(t,v,m,p);return l=En.call(t,e,!0),f={Name:y,Type:e.connection.getParameter("Type"),Layout:l,"From Step Id":g,"From Step Name":o,"To Step Name":a},SiebelApp.S_App.uiStatus.Busy(),r.ExecuteMethod("NewRecord",f).done(function(){xt.call(t,v,y,i,!0),SiebelApp.S_App.uiStatus.Free()}).fail(function(){xt.call(t,v,y,i,!1),SiebelApp.S_App.uiStatus.Free()}),!0}var c=r.Get("GetSelection"),h=Bn.call(t,e);if(h)return l=En.call(t,e,!1),f={"From Step Name":o,"To Step Name":a,Type:i.getParameter("Type"),Layout:l},SiebelApp.S_App.uiStatus.Busy(),r.ExecuteMethod("UpdateRecord",f).done(function(){Mn.call(t,c,i),SiebelApp.S_App.uiStatus.Free(),h=!0}).fail(function(){SiebelApp.S_App.uiStatus.Free(),h=!1}),h}),An.call(this),$(".siebui-fb-settings-ctrl").on("click",function(e){if(!fr.call(t))return!1;var n=$(".siebui-fb-settings-panel");n.length===0?r.ExecuteMethod("GetContextMenuInfo"):(n.toggleClass("hide"),n.hasClass("hide")||un.call(t)),n=null});if(r.Get("FlowType")==="WorkFlow")if(r.Get("IsSimulator")){var u=SiebelApp.S_App.PluginBuilder.GetHoByName("EventHelper");if(u){var a=$(".siebui-wfps-mode .siebui-fb-canvas .siebui-ctrl-wfps-button");a.length>0&&(u.Manage(a,"click",{ctx:this},br),u.Manage(a,"keydown",{ctx:this},wr)),a=null;var f=$(".siebui-wfps-mode .siebui-wfps-watch-panel .siebui-wfps-watch-panel-header");f.length>0&&(u.Manage(f,"click",{ctx:this},Er),u.Manage(f,"keydown",{ctx:this},Sr)),f.find(".siebui-wfps-watch-panel-toggle").hasClass("siebui-wfps-expanded")||f.click(),f=null}u=null;var l=0;$(window).off(Q).on(Q,{ctx:this},function(e){l&&(clearTimeout(l),l=0),l=setTimeout(function(){var e=$(".siebui-ide-canvas");if(e.length>0){var t=e.height(),n=e.find(".siebui-fb-canvas .siebui-applet-header").parent().height();e.find(".siebui-fb-canvas .siebui-fb-zoom").height(t-n)}e=null,l=0},200)})}else $(".siebui-icon-simulate-wfp").on("click",function(e){fr.call(t),SiebelApp.S_App.uiStatus.Busy({mask:!0}),setTimeout(function(){var e=r.Get("ProcessId"),t=CCFMiscUtil_CreatePropSet();t.SetProperty("ProcessId",e),r.InvokeServiceMethod(pt,t)&&SiebelApp.S_App.GotoView(ft),SiebelApp.S_App.uiStatus.Free()},100)})},mt.prototype.EndLife=function(){this.GetPM().Get("IsSimulator")&&($(window).off(Q),$("html").removeClass("siebui-wfps-mode"),$("."+J).remove()),SiebelAppFacade.FlowBuilderCanvasPR.superclass.EndLife.apply(this,arguments),this.GetPlumb().reset(),this.SetPlumb(null),this.GetCanvasElem().empty(),this.SetCanvasElem(null)},mt.prototype.BindData=function(){SiebelAppFacade.FlowBuilderCanvasPR.superclass.BindData.call(this),this.GetPM().Get("IsSimulator")&&this.GetPM().ExecuteMethod("InitializeSimulator")},
mt}(),SiebelAppFacade.FlowBuilderCanvasPR})),typeof SiebelAppFacade.WorkflowProcessListAppletPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WorkflowProcessListAppletPM"),define("siebel/wfproclistappletpm",["siebel/listpmodel"],function(){return SiebelAppFacade.WorkflowProcessListAppletPM=function(){function u(){SiebelAppFacade.WorkflowProcessListAppletPM.superclass.constructor.apply(this,arguments)}function a(t,u,a,f){if(t==="GotoView"&&u.GetProperty(r)===i){var l=SiebelApp.S_App.GetService(s),c=!1;if(l){var h=this.Get("GetBusComp").GetIdValue(),p=CCFMiscUtil_CreatePropSet();p.SetProperty("ProcessId",h);var d=l.InvokeMethod(o,p),v=d.GetProperty(e.get("SWE_RPC_PROP_RETURN_STATUS"));v!==e.get("SWE_RPC_PROP_STATUS_ERROR")&&!n.IsEmpty(v)&&(c=!0)}c||(f.CancelOperation=!0,SiebelApp.S_App.uiStatus.Free())}}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),n=SiebelJS.Dependency("SiebelApp.Utils"),r="SWETargetView",i="WT Repository Workflow Process Simulation View",s="Workflow Process Simulation UI Service",o="Validate Workflow Process";return SiebelJS.Extend(u,SiebelAppFacade.ListPresentationModel),u.prototype.Init=function(){SiebelAppFacade.WorkflowProcessListAppletPM.superclass.Init.apply(this,arguments),this.AddMethod("InvokeMethod",a,{sequence:!0,scope:this})},u}(),SiebelAppFacade.WorkflowProcessListAppletPM})),typeof SiebelAppFacade.TaskListAppletPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.TaskListAppletPR"),define("siebel/tasklistappletpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.TaskListAppletPR=function(){function n(){SiebelAppFacade.TaskListAppletPR.superclass.constructor.apply(this,arguments)}function r(){var n=this.GetPM(),r=n.GetObjName(),i;r==="WT Repository Task List Applet"?i=n.Get("GetControls").EditTaskFlow:r===t&&(i=n.Get("GetControls").EditWFProcess);if(!i)return;var s=this.GetUIWrapper(i),o=s.GetEl();n.Get("IsInQueryMode")===!0||this.GetSelectedRow()===null?s.SetState(e.get("SHOW"),!1,0):s.SetState(e.get("SHOW"),!0,0),n.ExecuteMethod("CanInvokeMethod","NewRecord")&&n.ExecuteMethod("CanInvokeMethod","WriteRecord")?o.removeClass("siebui-readonly"):o.addClass("siebui-readonly"),r===t&&(i=n.Get("GetControls").SimulateWFProcess,i&&(s=this.GetUIWrapper(i),n.Get("IsInQueryMode")===!0||this.GetSelectedRow()===null?s.SetState(e.get("SHOW"),!1,0):s.SetState(e.get("SHOW"),!0,0))),o=null}var e=SiebelJS.Dependency("SiebelApp.Constants"),t="WT Repository Workflow Process List Applet";return SiebelJS.Extend(n,SiebelAppFacade.JQGridRenderer),n.prototype.Init=function(){SiebelAppFacade.TaskListAppletPR.superclass.Init.apply(this,arguments),this.AttachPMBinding("ShowSelection",r,{scope:this}),this.AttachPMBinding("InvokeStateChange",r,{scope:this})},n.prototype.ShowUI=function(){$("#"+this.GetPM().Get("GetFullId")).addClass("siebui-wt-list"),SiebelAppFacade.TaskListAppletPR.superclass.ShowUI.apply(this,arguments);var e=this.GetPM(),n,r;e.GetObjName()===t&&(n=e.Get("GetControls").SimulateWFProcess,n&&(r=this.GetUIWrapper(n).GetEl(),r.hasClass("siebui-icon-simulate-wfp")||r.addClass("siebui-icon-simulate-wfp"))),n=null,r=null},n}(),SiebelAppFacade.TaskListAppletPR})),typeof SiebelAppFacade.PropertyAppletPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.PropertyAppletPR"),define("siebel/propertyappletpr",["siebel/phyrenderer"],function(){return SiebelAppFacade.PropertyAppletPR=function(){function t(e){SiebelAppFacade.PropertyAppletPR.superclass.constructor.call(this,e);var t=0;this.SetTimerId=function(e){t=e},this.GetTimerId=function(){return t};var n;this.SetPrevSelected=function(e){n=e},this.GetPrevSelected=function(){return n}}function n(){var t=this.GetPM(),n=$("#s_"+t.Get("GetFullId")+"_div"),r=t.Get("GetControls"),i=t.Get("GetRawRecordSet"),s=i.length===1?i[0]["Type Code"]:"";n.find(".siebui-wt-prop-row").removeClass("forcehide");if(!e.IsEmpty(s))for(var o in r)if(r.hasOwnProperty(o)){var u=r[o],a=u.GetPMPropSet(),f=a?a.GetProperty("Type Code"):"";if(!e.IsEmpty(f)){var l=f.split(","),c=this.GetUIWrapper(u).GetEl();l.indexOf(s)<0&&c!==undefined&&c.length===1&&c.closest(".siebui-wt-prop-row").addClass("forcehide"),l=c=null}u=a=null}n=r=i=null}function r(e){var t=e.data.ctx.GetTimerId(),n=e.data.ctx.GetPrevSelected();t!==0&&e.target.name===n&&(clearTimeout(t),e.data.ctx.SetTimerId(0)),e.currentTarget.classList.remove("siebui-not-selected"),e.data.ctx.SetPrevSelected("")}function i(e){var t=0,n=e.target.name,r=e.target.nextSibling;if($(r).length===1&&$(r).hasClass("siebui-icon-dropdown")){var i=e.data.ctx,s=e.currentTarget;t=setTimeout(function(){i.SetTimerId(0),s.classList.add("siebui-not-selected")},100)}else e.currentTarget.classList.add("siebui-not-selected");e.data.ctx.SetTimerId(t),e.data.ctx.SetPrevSelected(n),r=null}var e=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(t,SiebelAppFacade.PhysicalRenderer),t.prototype.Init=function(){SiebelAppFacade.PropertyAppletPR.superclass.Init.call(this),this.AttachPMBinding("ShowSelection",n)},t.prototype.BindEvents=function(e,t){SiebelAppFacade.PropertyAppletPR.superclass.BindEvents.call(this,e,t);var n=this.GetPM(),s=$("#s_"+n.Get("GetFullId")+"_div"),o=s.find(".siebui-value"),u=SiebelApp.S_App.PluginBuilder.GetHoByName("EventHelper");o.length>0&&(u.Manage($(s),"focus.PropertyAppletPR",{ctx:this},r,".siebui-value"),u.Manage($(s),"blur.PropertyAppletPR",{ctx:this},i,".siebui-value")),s=o=null},t}(),SiebelAppFacade.PropertyAppletPR}));if(typeof SiebelAppFacade.WTTaskPhyRenderer=="undefined"){var consts=SiebelJS.Dependency("SiebelApp.Constants");SiebelJS.Namespace("SiebelAppFacade.WTTaskPhyRenderer"),define("siebel/wttaskphyrenderer",["siebel/basephyrenderer","siebel/taskprenderer"],function(){var e=consts.get("SWE_PROP_AUTOM_OT"),t=consts.get("SWE_PROP_AUTOM_RN"),n=consts.get("SWE_PROP_AUTOM_UN");return SiebelAppFacade.WTTaskPhyRenderer=function(){function r(){SiebelAppFacade.WTTaskPhyRenderer.superclass.constructor.apply(this,arguments)}function i
(){var r=this.GetPM().Get("CurrentTask");if(r&&r.TaskDispName){var i=this.GetPM().Get("CurrentTaskChapter"),s=i[0].STEPS,o="",u="";for(var a=0;a<i.length;a++)r.TACS>a?u="siebui-visited":r.TACS==a?u="siebui-active":u="",o+='<li><div class="'+u+' siebui-step"></div><span>'+i[a].CDN+"</span></li>";$("#SS_TaskUIPane").html("<ul>"+o+"</ul>");if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())){var f={};$("#SS_TaskUIPane ul li").each(function(r){f[e]="Link",f[t]=i[r].CDN,f[n]=i[r].CDN,$(this).attr(f)})}}else $("#SS_TaskUIPane").html(""),$("#SS_TaskUIPane").removeClass("siebui-wt-task-pane")}return SiebelJS.Extend(r,SiebelAppFacade.BasePR),r.prototype.Init=function(){SiebelAppFacade.WTTaskPhyRenderer.superclass.Init.apply(this,arguments),this.AttachPMBinding("TaskRefresh",this.BindData)},r.prototype.ShowUI=function(){SiebelAppFacade.WTTaskPhyRenderer.superclass.ShowUI.apply(this,arguments)},r.prototype.BindData=function(){SiebelAppFacade.WTTaskPhyRenderer.superclass.BindData.apply(this,arguments),$("#SS_TaskUIPane").addClass("siebui-wt-task-pane"),i.apply(this,arguments)},r}(),SiebelAppFacade.TaskPhyRenderer=SiebelAppFacade.WTTaskPhyRenderer,SiebelAppFacade.WTTaskPhyRenderer})}typeof SiebelAppFacade.MVPWAppletPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.MVPWAppletPM"),define("siebel/mvpwappletpm",["siebel/listpmodel"],function(){return SiebelAppFacade.MVPWAppletPM=function(){function o(){SiebelAppFacade.MVPWAppletPM.superclass.constructor.apply(this,arguments)}function u(e,n,o,u){var a=this.GetObjName();if(e==="DeleteRecord"&&(a==="WT Repository Task Step Input Argument MVPW List Applet"||a==="WT Repository Task Step Output Argument MVPW List Applet"||a==="WT Repository Task Siebel Operation Step Output Argument MVPW List Applet"||a==="WT Repository Task BusSvc Step Input Argument MVPW List Applet"||a==="WT Repository Task BusSvc Step Output Argument MVPW List Applet"||a==="WT Repository Task Subtask Step Input Argument MVPW List Applet"||a==="WT Repository Task Subtask Step Output Argument MVPW List Applet")){var f=[],l=this.Get("GetTitle");l||(l=a),f.push(l);var c=t.FormatString(r,f);if(t.Confirm(c)){var h=this,o={async:!0,cb:function(e,t,n){n&&n.GetProperty(i)!==s&&(h.ExecuteMethod("ActivateMVPW"),SiebelApp.S_App.uiStatus.Free())}};this.ExecuteMethod("InvokeMethod","MVPWInactivate",CCFMiscUtil_CreatePropSet(),o),u.CancelOperation=!0}}}function a(e,n,r){if(this.Get("IsMVPWIOArg")){if(!t.IsEmpty(this.Get("IOFieldLOVType"))){var i=SiebelAppFacade.ComponentMgr.FindComponent({id:SiebelApp.S_App.GetActiveView().GetName()}),s=SiebelAppFacade.ComponentMgr.FindComponent({id:i.GetPM().Get("CanvasApplet")}).GetPM(),o=s.Get(this.Get("IOFieldLOVType"));if(!t.IsEmpty(o)){var u=o[this.Get("IOFieldValue")];t.IsEmpty(u)||this.SetProperty("IOFieldValue",u)}this.SetProperty("IOFieldLOVType",null)}this.Get("GetBusComp").SetFormattedValue(this.Get("IOFieldName"),this.Get("IOFieldValue")),this.Get("IsInQueryMode")||SiebelApp.S_App.GetActiveView().GetActiveApplet().PostChangesToBC(!1,this.Get("IOFieldName"))}}function f(){if(this.Get("IsMVPWIOArg")){this.SetProperty("ActivateMVPWInProgress",!0);var e={scope:this,async:!0,cb:function(){this.SetProperty("ActivateMVPWInProgress",!1),SiebelApp.S_App.uiStatus.Free()}};SiebelApp.S_App.uiStatus.Busy(),this.ExecuteMethod("InvokeMethod","RefreshData",CCFMiscUtil_CreatePropSet(),e)}}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=n.GetLocalString("IDS_SWE_DELETE_CONFIRM_WARNING"),i=e.get("SWE_RPC_PROP_RETURN_STATUS"),s=e.get("SWE_RPC_PROP_STATUS_ERROR");return SiebelJS.Extend(o,SiebelAppFacade.ListPresentationModel),o.prototype.Init=function(){SiebelAppFacade.MVPWAppletPM.superclass.Init.apply(this,arguments),this.AddProperty("IsMVPWIOArg",!1),this.AddProperty("ActivateMVPWInProgress",!1),this.AddMethod("ActivateMVPW",f),this.AttachPostProxyExecuteBinding("NewRecord",a),this.AttachPostProxyExecuteBinding("NewQuery",a),this.AddMethod("InvokeMethod",u,{sequence:!0,scope:this})},o.prototype.Setup=function(e){SiebelAppFacade.MVPWAppletPM.superclass.Setup.call(this,e);var n=this.Get("I/O Argument");if(!t.IsEmpty(n)){var r=n.trim().split(/\s*,\s*/);r.length===2&&!t.IsEmpty(r[0])&&!t.IsEmpty(r[1])&&(this.SetProperty("IsMVPWIOArg",!0),this.AddProperty("IOFieldName",r[0]),this.AddProperty("IOFieldValue",r[1]),t.IsEmpty(this.Get("I/O Argument LOV Type"))||this.AddProperty("IOFieldLOVType",this.Get("I/O Argument LOV Type")))}},o}(),SiebelAppFacade.MVPWAppletPM})),typeof SiebelAppFacade.MVPWAppletPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.MVPWAppletPR"),define("siebel/mvpwappletpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.MVPWAppletPR=function(){function e(){SiebelAppFacade.MVPWAppletPR.superclass.constructor.apply(this,arguments)}function t(){var e=this.GetPM(),t=arguments.length===2?arguments[1]:!1,n=$("#s_"+e.Get("GetFullId")+"_div").find(".ui-jqgrid-bdiv");t?(SiebelApp.EventManager.fireEvent("forceResize"),e.Get("IsMVPWIOArg")&&e.Get("GetRecordSet").length>0&&n.addClass("forcehide")):e.Get("IsMVPWIOArg")&&n.removeClass("forcehide"),n=null}return SiebelJS.Extend(e,SiebelAppFacade.JQGridRenderer),e.prototype.Init=function(){SiebelAppFacade.MVPWAppletPR.superclass.Init.apply(this,arguments),this.AttachPMBinding("ActivateMVPWInProgress",t)},e}(),SiebelAppFacade.MVPWAppletPR})),typeof SiebelAppFacade.WFBrchConditionPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WFBrchConditionPM"),define("siebel/wfbrchconditionpm",["siebel/listpmodel"],function(){return SiebelAppFacade.WFBrchConditionPM=function(){function u(){SiebelAppFacade.WFBrchConditionPM.superclass.constructor.apply(this,arguments)}function a(e,t,n){n.GetProperty(r)!==i&&this.SetProperty("CloseCondPopup",!0)}function f(){if(this.Get("GetBusComp").IsCommitPending())return!0;var e=this.Get("GetRawRecordSet");for(var t=0,n=e.length;t<n;t++)if(e[t].Updated==="Y")return!0;return!1}function l(r){var i=arguments
[arguments.length-1];if(r==="NewValue"||r==="EditValue"||r==="DeleteValue"){if(r==="DeleteValue"||this.Get("IsDataTypeSet"))this.ExecuteMethod("InvokeValueControl",r);else{var u=this,a={};a.async=!0,a.cb=function(e,n,i){i.GetProperty("Status")!==t.get("SWE_RPC_PROP_STATUS_ERROR")&&u.ExecuteMethod("InvokeValueControl",r)},this.ExecuteMethod("InvokeMethod","SetDataType",null,a)}if(i&&i instanceof Object)return i[s]=!0,i[o]=!0,!1}else if(r==="CloseApplet"&&!this.Get("CloseCondPopup")&&f.call(this)&&!e.Confirm(n.GetLocalString("WT_WF_COND_POPUP_CONFIRM_CANCEL"))&&i&&i instanceof Object)return i[s]=!0,i[o]=!0,!1;return!0}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=t.get("SWE_RPC_PROP_RETURN_STATUS"),i=t.get("SWE_RPC_PROP_STATUS_ERROR"),s=t.get("SWE_EXTN_CANCEL_ORIG_OP"),o=t.get("SWE_EXTN_STOP_PROP_OP");return SiebelJS.Extend(u,SiebelAppFacade.ListPresentationModel),u.prototype.Init=function(){SiebelAppFacade.WFBrchConditionPM.superclass.Init.apply(this,arguments),this.AddProperty("CloseCondPopup",!1),this.AddProperty("RefreshValues",!1),this.AddProperty("IsDataTypeSet",!1),this.AddProperty("DataType",""),this.AddProperty("PickListValues",[]),this.AddMethod("InvokeValueControl",function(e){}),this.AttachEventHandler(t.get("PHYEVENT_INVOKE_CONTROL"),l),this.AttachPostProxyExecuteBinding("CommitRecords",a),this.AttachNotificationHandler(t.get("SWE_PROP_BC_NOTI_GENERIC"),function(t){var n=t.GetProperty("type");if(n==="CriteriaValueDataType"){var r=t.propArray.ArgsArray,i=[],s="";e.IsEmpty(r)||(CCFMiscUtil_StringToArray(r,i),i.length>0&&(s=i[0],s==="LO_CHAR1_PICK"&&i.length>1&&(i[0]=""))),this.SetProperty("DataType",s),this.SetProperty("PickListValues",i),e.IsEmpty(s)?this.SetProperty("IsDataTypeSet",!1):this.SetProperty("IsDataTypeSet",!0)}}),this.AttachNotificationHandler(t.get("SWE_PROP_BC_NOTI_NEW_DATA_WS"),function(t){var n=t.GetProperty("f");e.IsEmpty(n)||(n==="Values"?this.SetProperty("RefreshValues",!0):this.Get("IsDataTypeSet")&&(n==="Compare To"||n==="Object"||n==="Field")&&this.SetProperty("IsDataTypeSet",!1))})},u.prototype.Setup=function(e){SiebelAppFacade.WFBrchConditionPM.superclass.Setup.call(this,e)},u}(),"SiebelAppFacade.WFBrchConditionPM"})),typeof SiebelAppFacade.WFBrchConditionPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WFBrchConditionPR"),define("siebel/wfbrchconditionpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.WFBrchConditionPR=function(){function y(){SiebelAppFacade.WFBrchConditionPR.superclass.constructor.apply(this,arguments)}function b(){var e=this.GetPM();e.Get("CloseCondPopup")&&$("#s_"+e.Get("GetFullId")+"_div").find(".siebui-ctrl-btn.siebui-icon-closeapplet").trigger("click")}function w(t,r,i){if(e.IsEmpty(t))return e.Alert(u),!1;if(r===d){if(isNaN(t))return e.Alert(f),!1;var s=Number(t);t=s.toString()}else if(r===v){var o=n.GetDateFormat()+" "+n.GetTimeFormat(),a=n.GetStringFromDateTime(t,o,l);if(e.IsEmpty(a))return e.Alert(f),!1}return i?L.call(this,t,r):A.call(this,t,r),!0}function E(t,n){var s=this,o=[{"class":"siebui-ctrl-btn appletButton",text:r,click:function(){var e=$(this).find(".siebui-value").val();w.call(s,e,t,n)&&$(this).dialog("close")}},{"class":"siebui-ctrl-btn appletButton",text:i,click:function(){$(this).dialog("close")}}];if(e.IsTrue(SiebelApp.S_App.IsAutoOn())){var u="Button",a="WFCondValPopupOK",f="WFCondValPopupCancel";o[0].ot=u,o[0].rn=a,o[0].un=a,o[1].ot=u,o[1].rn=f,o[1].un=f}return o}function S(t,n){var r="",i,s,o=0;if(!n){var u={};if(!M.call(this,u))return r;i=u.value}if(t===m){var a=!1,f=this.GetPM().Get("PickListValues");if(!e.IsEmpty(i))for(o=0;o<f.length;o++)if(i===f[o]){a=!0;break}o=a?o:0,i=f}return e.IsTrue(SiebelApp.S_App.IsAutoOn())&&(s="rn='"+t+"' ot='"+g[t]+"' un='"+t+"'"),r=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({attrs:s,className:"siebui-value",index:o,type:g[t],value:i})),t===p&&$(r).val(i).text(i),r}function x(e,t,r){e.val(t),e.datetimepicker("destroy"),setTimeout(function(){e.focus()},10);var i=e.attr("data");if(r===!0)e.val(i);else{var s=n.GetDateFormat()+" "+n.GetTimeFormat(),o=n.GetStringFromDateTime(t,c,s);e.val(o)}e.removeAttr("data")}function T(e){var r=e.data.ctx,i=$(this).prev(),s=n.GetTimeFormat(),o=s.indexOf("p ")===-1&&s.indexOf(" p")===-1,u=(o?"HH":"hh")+":mm:ss"+(o?"":" TT");i.attr("data",i.val());var a={changeMonth:!0,changeYear:!0,showTime:!0,showTimepicker:!0,dateFormat:"yy-mm-dd",timeFormat:u,yearRange:"c-100:c+100",isRTL:SiebelApp.S_App.GetDirection()?!0:!1,firstDay:n.GetWeekStartDay(),separator:" ",onClose:function(e,t){x.call(r,$(this),e,t.isEscapeKey)}};i.datetimepicker(a);var f=n.GetDateFormat()+" "+n.GetTimeFormat(),l=n.GetStringFromDateTime(i.val(),f,c,!0);l&&l!==t.get("JS_INVALID_DATE")&&(l=l.replace(/-/g,"/"),i.datetimepicker("setDate",l));var h=i.datepicker("widget"),p=i.closest(".ui-dialog"),d=Number(p.css("z-index"));i.datetimepicker("show");if(p.length>0&&Number(h.css("z-index"))<d){var v=h.attr("style")+"z-index: "+(d+1)+" !important;";h.attr("style",v)}i.datepicker("widget").find(".ui-datepicker-calendar").attr("tabindex","0").focus(),i=null,e.stopPropagation()}function N(e,t){if(t.length===0)return;e===d?t.bind("keypress",{ctx:this},function(e){var t=e.which||e.keyCode,n=String.fromCharCode(t),r=$(this).val();(n!=="."&&n!=="-"&&(t<48||t>57)||(n==="."||n==="-")&&r.indexOf(n)!==-1)&&e.preventDefault()}):e===v&&t.next("span.siebui-icon-datetime").bind("click",{ctx:this},T)}function C(t){var n=this.GetPM().Get("DataType");if(e.IsEmpty(n))return;var r=$("#WFCondValuePopup");if(r.length===0){var i=S.call(this,n,t);if(e.IsEmpty(i))return;r=$('<div id="WFCondValuePopup"></div>').html(i);var u=r.find(".siebui-value");N.call(this,n,u);var a=E.call(this,n,t),f=n==="LO_CHAR1_PICK"?o:s;r.dialog({autoOpen:!1,buttons:a,close:function(){$(this).remove()},modal:!0,resizable:!0,title:f,width:"auto",minWidth:"400",maxWidth:"650",height:"auto",maxHeight:"150",draggable:!0
})}$("#WFCondValuePopup").dialog("open")}function k(e){e==="NewValue"?C.call(this,!0):e==="EditValue"?C.call(this,!1):e==="DeleteValue"&&O.call(this)}function L(e,t){$(".siebui-wf-cond-value-list tr").removeClass("siebui-cond-val-highlight");var n=$("<tr class='siebui-cond-val-highlight'><td>"+e+"</td></tr>");n.find("td").val(e),B(e,n,t);var r=$(".siebui-wf-cond-value-list tr");r.unbind("click").bind("click",function(e){r.removeClass("siebui-cond-val-highlight"),$(this).addClass("siebui-cond-val-highlight")}),_.call(this)}function A(e,t){var n={};if(!M.call(this,n))return;$(n.elem).val(e).html(e);var r=$(".siebui-wf-cond-value-list tr");if(r.length>1){var i=$("div.siebui-wf-cond-value-list tr.siebui-cond-val-highlight");$(i).detach(),B(e,i,t)}_.call(this)}function O(){var e={};if(!M.call(this,e))return;var t=e.elem;if(t.length!==1)return;t.parent().remove();var n=$(".siebui-wf-cond-value-list tr");n.length>0&&$(n[0]).addClass("siebui-cond-val-highlight"),_.call(this)}function M(t){var n=$("div.siebui-wf-cond-value-list tr.siebui-cond-val-highlight td");return n.length!==1?(e.Alert(a),!1):(t.value=n.val(),t.elem=n,!0)}function _(){var e=this.GetPM(),t=e.Get("DataType"),r="",i=$(".siebui-wf-cond-value-list td"),s=n.GetDateFormat()+" "+n.GetTimeFormat();for(var o=0;o<i.length;o++){var u=$(i[o]).val();t===v&&(u=n.GetStringFromDateTime(u,s,l)),r+=o===i.length-1?u:u+h}e.ExecuteMethod("SetFormattedValue",e.ExecuteMethod("GetControl","Values"),r)}function D(){var t=this.GetPM(),n=t.Get("GetSelection"),r=t.Get("GetRawRecordSet"),i=[];if(n>=0&&r.length>0&&n<r.length){var s=r[n].Values;e.IsEmpty(s)||(i=s.split(h))}return i.length>1&&i.sort(F(t.Get("DataType"))),i}function P(){var e=this.GetPM().Get("DataType"),t=n.GetDateFormat()+" "+n.GetTimeFormat();$(".siebui-wf-cond-value-list").find("table").length===0?$(".siebui-wf-cond-value-list").append("<table><tbody></tbody></table>"):$(".siebui-wf-cond-value-list tr").remove();var r=$(".siebui-wf-cond-value-list").find("tbody"),i=D.call(this),s;for(var o=0;o<i.length;o++){s=i[o],e===v&&(s=n.GetStringFromDateTime(s,l,t));var u=$("<tr><td>"+s+"</td></tr>");u.find("td").val(s),$(r).append(u)}var a=$(".siebui-wf-cond-value-list tr");a.length>0&&($(a[0]).addClass("siebui-cond-val-highlight"),a.bind("click",function(e){a.removeClass("siebui-cond-val-highlight"),$(this).addClass("siebui-cond-val-highlight")}))}function H(){var t=this.GetPM();if(!t.Get("RefreshValues"))return;var n=t.Get("GetSelection"),r=t.Get("GetRawRecordSet");n>=0&&r.length>0&&n<r.length&&e.IsEmpty(r[n].Values)&&$(".siebui-wf-cond-value-list tr").length>0&&P.call(this),t.SetProperty("RefreshValues",!1)}function B(e,t,n){var r=$(".siebui-wf-cond-value-list tr");if(r.length===0)$(".siebui-wf-cond-value-list").find("tbody").prepend(t);else{var i=!1,s;for(var o=0;o<r.length;o++){s=$(r[o]).find("td").val();if(j(n,s,e)>0){i=!0;break}}i?$(t).insertBefore($(r[o])):$(t).insertAfter($(r[r.length-1])),$(t)[0].scrollIntoView()}}function j(e,t,n){return e===p||e===m?t.localeCompare(n):(e===d?(t=Number(t),n=Number(n)):e===v&&(t=new Date(t),t=t.valueOf(),n=new Date(n),n=n.valueOf()),t<n?-1:t>n?1:0)}function F(e){return function(t,n){return j(e,t,n)}}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),r=n.GetLocalString("WT_WF_COND_VAL_POPUP_OK"),i=n.GetLocalString("WT_WF_COND_VAL_POPUP_CANCEL"),s=n.GetLocalString("WT_WF_COND_VAL_POPUP_ADD_VAL"),o=n.GetLocalString("WT_WF_COND_VAL_POPUP_PICK_VAL"),u=n.GetLocalString("WT_WF_COND_VAL_ENTER_VAL"),a=n.GetLocalString("WT_WF_COND_VAL_SELECT_VAL"),f=n.GetLocalString("WT_WF_COND_VAL_INVALID_DATA"),l="MM/DD/YYYY HH:mm:ss",c=t.get("ISO8601_DATETIME_FORMAT"),h="|",p="LO_CHAR1",d="LO_NUM1",v="LO_DATE1",m="LO_CHAR1_PICK",g={LO_CHAR1:t.get("SWE_CTRL_TEXT"),LO_NUM1:t.get("SWE_CTRL_TEXT"),LO_DATE1:t.get("SWE_CTRL_DATE_TIME_PICK"),LO_CHAR1_PICK:t.get("SWE_CTRL_COMBOBOX")};return SiebelJS.Extend(y,SiebelAppFacade.JQGridRenderer),y.prototype.Init=function(){SiebelAppFacade.WFBrchConditionPR.superclass.Init.apply(this,arguments),this.AttachPMBinding("CloseCondPopup",b),this.AttachPMBinding("RefreshValues",H),this.AttachPMBinding("InvokeValueControl",k)},y.prototype.ShowUI=function(){SiebelAppFacade.WFBrchConditionPR.superclass.ShowUI.call(this);var t=this.GetPM(),n=$("#s_"+t.Get("GetFullId")+"_div");n.addClass("siebui-wf-cond-popup");var r=t.Get("HTML Width");e.IsEmpty(r)||SiebelApp.S_App.GetPopupPM().SetProperty("width",Number(r).toString());var i=t.Get("GetControls").Values;if(i){var s=this.GetUIWrapper(i).GetEl();s&&s.length===1&&!s.hasClass("forcehide")&&s.addClass("forcehide")}var o=t.Get("GetSelection"),u=t.Get("GetRawRecordSet");if(u.length>0&&o===0){var a=u[0]["Data Type"];t.SetProperty("DataType",a),a!==m&&t.SetProperty("IsDataTypeSet",!0)}},y.prototype.ShowSelection=function(e){SiebelAppFacade.WFBrchConditionPR.superclass.ShowSelection.call(this,e),P.call(this)},y}(),"SiebelAppFacade.WFBrchConditionPR"})),typeof SiebelAppFacade.FlipGridHO=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlipGridHO"),define("siebel/FlipGridHO",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.FlipGridHO=function(){function r(){}function i(t){var n=this.GetPM().Get("GetRowsSelectedArray"),r=-1;for(var i=0,s=n.length;i<s;i++)if(e.IsTrue(n[i])){r=i;break}var o=t.ReturnValue[i],u=[];for(var a in o)u.push({Key:a,Value:o[a]});this.GetPM().SetProperty("recordArr",u),t.ReturnValue=u}function s(e,t){t.ReturnValue=this.GetPM().Get("recordArr")[e],t.CancelOperation=!0}function o(e,t){return function(n,r,i,s,o){var u=t.GetPM(),a=t.GetGrid();n=Number(t.GetPM().Get("GetSelection"))+1,r=a.jqGrid("getCell",s,"Key");var f=$(a.jqGrid("getGridRowById",s)).children().eq(2);return e.call(this,n,r,i,s,o,f),a.getCell(s,o)}}function u(e,t){return function(n,r,i,s,o){var u=t.GetPM(),a=t.GetGrid();n=Number(t.GetPM().Get("GetSelection"))+1,r=a.jqGrid("getCell",s,"Key");var f=$(a.jqGrid("getGridRowById",s)).children
().eq(2);return e.call(this,n,r,i,n,o,f),a.getCell(s,o)}}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=SiebelAppFacade.GridColumnHelper.prototype.TranslateObject;return r.prototype.Init=function(){},r.prototype.GetName=function(){return"FlipGridHO"},r.prototype.SetUp=function(e){e.GetPM().AddMethod("GetRecordSet",i,{sequence:!1,scope:e}),e.GetPM().AddMethod("GetRecord",s,{sequence:!0,scope:e}),e.AttachPMBinding("ShowSelection",function(e){this.BindData()}),e.ShowSelection=function(){if(this===e)return;return n.apply(this,arguments)},e.AttachPMBinding("UpdateUI",function(){this.GetPM().Get("UpdateUI")&&this.BindData(!0)}),SiebelAppFacade.GridColumnHelper.prototype.TranslateObject=function(e,t){return this.GetMode()==="flipped"?t:n.apply(this,arguments)}},r.prototype.EndCtx=function(e){SiebelAppFacade.GridColumnHelper.prototype.TranslateObject=n},r.prototype.FlipConfigUI=function(e,t){e.GetColumnHelper().SetMode("flipped");var n=["Key","Value"],r=[{name:"Key",editable:!1}],i=t.colModel,s={name:"Value",editable:!0};return s.formatter=function(t,n,r,s){var o=i[Number(n.rowId)-1],u=JSON.parse(JSON.stringify(n));return u.colModel=o,u.rowId=Number(e.GetPM().Get("GetSelection"))+1,o.formatter?o.formatter.call(this,t,u,r,s):t},s.unformat=function(t,n,r){var s=i[Number(n.rowId)-1],o=JSON.parse(JSON.stringify(n));return o.colModel=s,o.rowId=Number(e.GetPM().Get("GetSelection"))+1,s.unformat?s.unformat.call(this,t,o,r):t},r.push(s),t.colModel=r,t.colNames=n,t},r.prototype.FlipConfigEvents=function(e,t){delete t.onSelectRow,delete t.beforeSelectRow;var n={cellEdit:!0};return n.beforeSaveCell=u(t.beforeSaveCell,e),n.afterSaveCell=o(t.afterSaveCell,e),n},new r}(),SiebelApp.S_App.PluginBuilder.AttachHelper(SiebelAppFacade.FlipGridHO.GetName(),SiebelAppFacade.FlipGridHO),"SiebelAppFacade.FlipGridHO"})),typeof SiebelApp.ContextHelpMgr=="undefined"&&(SiebelJS.Namespace("SiebelApp.ContextHelpMgr"),SiebelApp.ContextHelpMgr=function(){function l(){"onhelp"in window&&(window.onhelp=function(){return!1})}function c(e){if(!!u){e=v[e]||s;var t=u[e];return t}h.call(this,e)}function h(e){f||(f="enu"),SiebelApp.S_App.uiStatus.Busy(),$.ajax({url:SiebelApp.S_App.GetBaseURL()+f+"/help/ToolsHelp/context-help-map.js",dataType:"script",cache:!0,error:function(){SiebelApp.S_App.uiStatus.Free()},success:function(t){t=t.substring(t.indexOf("["),t.indexOf("]")+1);var n=JSON.parse(t);if(n){u={},a={};for(var r in n)n.hasOwnProperty(r)&&(Number(n[r].appid.substr(2))>0?n[r].path.indexOf("OTR")===0?u[n[r].appid.substr(2)]=n[r].path:a[n[r].appid.substr(2)]=n[r].path:u[n[r].appid]=n[r].path);e=v[e]||s;var i=u[e];d.call(this,i),SiebelApp.S_App.uiStatus.Free()}}})}function p(){var e=n,t=SiebelApp.S_App.GetActiveView(),i=t.GetActiveApplet();return i&&i.GetHelpId()?e=n+Number(i.GetHelpId()):t&&t.GetHelpId()&&(e=r+Number(t.GetHelpId())),e}function d(e){var t="scrollbars=yes,resizable=yes,location=yes,toolbar=yes,menubar=yes,status=yes";o=window.open(SiebelApp.S_App.GetBaseURL()+f+"/help/ToolsHelp/"+e,i,t),o.focus()}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=131072,r=65536,i="HelpFrame",s="olhwelcome_intro",o=null,u=null,a=null,f="enu";l.prototype.DisplayHelpFrame=function(){var e=p.call(this),t=c.call(this,e);t&&d.call(this,t)};var v={1003:1024640,1004:860077,1005:1023400,1006:1025348,1009:982774,1010:983117,1011:990456,1012:990519,1013:983282,1014:983329,1015:983384,1016:983434,1017:983505,1018:983552,1019:983612,1020:983629,1021:983701,1022:990919,1023:983824,1024:983970,1025:984134,1026:984448,1027:984839,1028:984889,1029:986133,1030:1024345,1031:986991,1032:987195,1033:987306,1034:987388,1035:987487,1036:1025642,1037:988018,1038:988070,1039:988134,1040:988177,1041:988344,1043:989175,1044:989325,1045:989384,1046:989450,1047:989508,1048:989552,1049:989610,1050:989657,1051:989674,1052:989724,1053:989792,1054:989851,1055:989935,1056:989986,1058:1003347,1059:1003435,1061:1003599,1062:1003665,1063:1003737,1064:1003781,1066:1003879,1067:1003949,1068:1003983,1070:1004496,1071:1004541,1072:1004559,1073:1005059,1074:1004953,1075:1005131,1076:1005591,1077:1005625,1078:1006102,1079:1006144,1080:1006191,1081:1006259,1082:1006349,1083:1006484,1084:1006543,1085:1005961,1086:1006030,1087:1006737,1088:1006926,1089:1006982,1091:1007146,1092:1007187,1094:1007336,1095:1007434,1096:1007482,1097:1007518,1098:1007560,1099:1007662,1100:1007703,1101:1007744,1102:1007761,1103:1007779,1104:1007814,1106:1007924,1107:1008070,1108:1008106,1109:1008159,1110:1008198,1111:1008255,1113:1008366,1114:1008430,1115:1008489,1116:1008609,1118:1008705,1119:1008765,1121:1008843,1123:1008936,1124:1009001,1125:1009078,1126:1009168,1128:1009541,1129:1009609,1130:1009651,1131:1030239,1132:1009929,1133:1010017,1134:1010080,1135:1010167,1137:1010266,1138:1010301,1139:1010382,1140:1010434,1141:1010495,1143:1010697,1145:1010818,1146:1010873,1147:1010984,1148:1011030,1149:1011066,1150:1011116,1152:1011191,1154:1011279,1156:1011430,1157:1011470,1159:1011569,1160:1011605,1161:1011645,1162:1011686,1163:1011725,1164:1011783,1165:1011818,1166:1011851,1168:1012002,1169:1012079,1170:1012241,1171:1012286,1172:1012336,1173:1012382,1174:1012424,1175:1012486,1177:1012817,1179:1012869,1180:1012896,1181:1012949,1183:1013029,1184:1013066,1185:1013094,1187:1013174,1189:1013279,1191:1013440,1193:1038650,1195:1013651,1197:1013761,1199:1013846,1200:1013921,1201:1013957,1202:1014134,1204:1014259,1205:1014310,1206:1014359,1207:1014494,1208:1014567,1209:1014640,1210:1014676,1212:1014827,1213:1014837,1215:1014876,1216:1014944,1218:1015116,1220:1015357,1221:1015652,1222:1015698,1223:1015798,1224:1015847,1225:1016023,1226:1016077,1227:1016123,1228:1016178,1229:1016240,1231:1016429,1232:1016533,1233:1016583,1234:1016677,1235:1016693,1236:1016744,1237:1016783,1238:1016838,1239:1017075,1240:1017111,1241:1017158,1242:1017235,1243:1017418,1244:1017491,1245:1017583,1247:1017651,1248:1017689,1249:1017749,1251:1017872,1253
:1017980,1254:1018027,1255:1018128,1256:1018183,1258:1018360,1259:1018286,1261:1018510,1262:1018753,1263:1018806,1264:1018844,1265:1018888,1266:1018926,1267:1018966,1268:1019079,1270:1019175,1271:1019219,1272:1019303,1273:1019353,1274:1019391,1276:1019462,1277:1019494,1279:1019572,1281:1019844,1282:1020596,1283:1020716,1284:1020791,1285:1020870,1286:1020914,1287:1020984,1288:1021038,1289:1021074,1290:1021161,1291:1021230,1292:1021289,1294:1021376,1295:1021431,1297:328820,1298:328834,1299:328836,1300:382040,1301:328838,1302:328840,1303:328843,1304:328846,1305:328848,1306:562724,151072:1019494,151073:1006144,151074:1012079,151075:1008489,151076:1008159,151077:984839,151078:990456,151080:1019219,151081:1018753,151082:1017980,151084:1013921,151085:1013761,151086:1025642,151087:1012241,151089:1007518,151091:1016240,151092:1017872,151093:1014567,151094:1009541,151096:1019462,151097:1018966,151098:988134,151101:1013761,151103:1012486,151105:1012336,151106:1008106,151107:1003879,151108:989384,151110:1019175,151111:1014494,151114:989986,151115:1012002,151116:1021074,151117:987306,151118:1007779,151119:1007761,151120:1003435,151121:1019079,151122:1014259,151124:1013761,151125:1013761,151126:1011470,151127:1003599,151128:989610,151130:1019353,151132:1013761,151133:1013761,151134:1012286,151135:1007560,151136:1007434,151137:1019844,151138:983505,151139:1019303,151140:988344,151141:1018183,151142:1014676,151144:1014134,151145:1013761,151147:987195,151148:1008705,151149:1007744,151150:1007662,151151:1007482,151152:1018926,151153:1016077,151154:1014640,151155:1012424,151156:1009609,151157:1004559,151158:1003949,151159:1003665,151160:1014359,151166:988018,151167:1011030,151168:1003737,151169:983824,151170:983701,151171:1007814,151172:1007336,151174:1016023,151175:1018128,151176:1018027,151178:989851,151179:1012949,151180:1012896,151181:1008765,151182:1003347,151183:983970,151186:988070,151187:1012382,151188:1011430,151189:1011279,151190:1010017,151191:1010080,151192:1011066,151193:1005625,151194:1009651,151195:989674,151196:1016178,151197:1014310,151198:1013761,151199:1013761,151200:1010167,151201:1030239,151205:1010984,151206:1003781,151208:988177,151210:1011686,151211:1009929,151213:1004953,151214:1004496,151216:1016123,151217:1012869,151219:984889,151220:990919,151221:983117,151228:982774,151230:983552,151232:983629,151234:989450,151235:989175,151236:989552,151238:989657,151240:1018360,151242:1005059,151244:1004541,151246:1007187,151248:1007146,151250:984448,151252:984134,151254:1007924,151255:1008070,151257:1015357,151259:986133,151261:1008843,151263:1008936,151265:1009001,151267:1009078,151269:1009168,151270:1010697,151272:1005131,151277:1010873,151278:1010818,151280:1011116,151282:1011191,151286:1011569,151288:1011645,151290:1011605,151292:1011725,151294:1011783,151296:1011818,151298:1011851,151300:1015798,151302:1015698,151304:1006102,151306:1006191,151310:1012817,151312:987487,151314:987388,151316:1013029,151317:983434,151319:1006259,151321:1006349,151322:1006484,151323:1006543,151327:1013174,151329:989792,151332:1013279,151334:1005961,151336:1006030,151338:1013440,151342:1013651,151344:1013651,151346:1013846,151348:989935,151350:1013957,151355:1014827,151357:1014837,151362:1006926,151363:1006982,151364:1015116,151366:1015847,151368:1018360,151370:1018510,151373:1008366,151374:1008430,151375:1013066,151376:1013094,151378:1003983,151379:989508,151380:1014876,151381:1014944,151384:1010301,151385:1010266,151387:1010382,151388:1010434,151390:1010495,151392:328820,151393:328834,151394:328836,151396:562724,151397:328838,151401:328843,151402:328846,151404:328840,151406:328848,151411:1006737,151412:1020791,151413:1020870,151414:1021038,151415:1020716,151427:990519,151428:983282,151429:983329,151430:983384,151431:1008198,151432:1008255,151434:1016429,151435:1016533,151436:1016583,151437:1016677,151438:1016783,151440:1017651,151441:1017689,151442:1017749,151443:1017075,151444:1017111,151445:1017158,151446:1017235,151447:1017418,151449:1017583,151450:1018806,151451:1018844,151452:382040,151453:1016693,151454:1016744};return new l}()),typeof SiebelAppFacade.WTAppUpgObjAttrAppletPM=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WTAppUpgObjAttrAppletPM"),define("siebel/wtappupgobjattrappletpm",["siebel/listpmodel"],function(){return SiebelAppFacade.WTAppUpgObjAttrAppletPM=function(){function e(){SiebelAppFacade.WTAppUpgObjAttrAppletPM.superclass.constructor.apply(this,arguments)}return SiebelJS.Extend(e,SiebelAppFacade.ListPresentationModel),e.prototype.Init=function(){SiebelAppFacade.WTAppUpgObjAttrAppletPM.superclass.Init.apply(this,arguments);var e=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),t=e.GetLocalString("IDS_CLIENT_NO"),n=e.GetLocalString("IDS_CLIENT_YES");this.AddProperty("SwitchOnOffLabels",[n,t])},e}(),SiebelAppFacade.WTAppUpgObjAttrAppletPM})),typeof SiebelAppFacade.WTAppUpgObjAttrAppletPR=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.WTAppUpgObjAttrAppletPR"),define("siebel/wtappupgobjattrappletpr",["siebel/jqgridrenderer"],function(){return SiebelAppFacade.WTAppUpgObjAttrAppletPR=function(){function e(){SiebelAppFacade.WTAppUpgObjAttrAppletPR.superclass.constructor.apply(this,arguments)}function t(e,t,n){var r=this.GetPM().Get("SwitchOnOffLabels");return e==="Y"?'<div class="siebui-wsui-crv-flipswitch btn-alt">'+r[0]+"</div>":'<div class="siebui-wsui-crv-flipswitch btn-danger">'+r[1]+"</div>"}function n(e,t){var n=this.GetPM(),r=n.Get("GetSelection")+1,s=n.Get("SwitchOnOffLabels"),o=$("div#"+n.Get("GetFullId")).find("table.ui-jqgrid-btable").attr("id");i(o,r,t,s)}function r(e,t,n,r){var i=$("td#"+t+"_"+e+"_New_Standard_Value").removeClass("siebui-crv-highlight"),s=$("td#"+t+"_"+e+"_Prior_Customized_Value").removeClass("siebui-crv-highlight"),o=$("td#"+t+"_"+e+"_Override");n==="Use Custom Value"?(s.addClass("siebui-crv-highlight"),o.attr("title",r[0])):(i.addClass("siebui-crv-highlight"),o.attr("title",r[1]))}function i(e,t,n,r){var i=$("td#"+t+"_"+e+"_New_Standard_Value").removeClass
("siebui-crv-highlight"),s=$("td#"+t+"_"+e+"_Prior_Customized_Value").removeClass("siebui-crv-highlight"),o=$("td#"+t+"_"+e+"_Override");n==="on"||n==="Y"||n==="Yes"?(s.addClass("siebui-crv-highlight"),o.attr("title",r[0])):(i.addClass("siebui-crv-highlight"),o.attr("title",r[1]))}function s(e,t,n,r){var i=this.GetPM(),s=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_MERGE_CONFLICT_RESOLUTION_MSG"),o=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_ACCEPT_RECOMMENDATION_MSG");if(e==="ConflictResolved"){var u={},a=SiebelApp.S_App.GetService("Siebel Repository IRM Service");$("<div></div>").appendTo("body").html("<div><h3>"+s+"?</h3></div>").dialog({modal:!0,title:"Confirmation",zIndex:1e4,autoOpen:!0,width:"auto",resizable:!1,buttons:{Yes:function(){$("body").append("<h1>Confirm Dialog Result: <i>Yes</i></h1>"),u.async=!1,u.selfbusy=!0,u.scope=this,u.mask=!0,u.opdecode=!0,u.errcb=function(){alert("Something went wrong. Please try again")},u.cb=function(){SiebelApp.S_App.LogOff()},a.InvokeMethod("WTSaveUpgradeHistory",t,u),$(this).dialog("close")},No:function(){$("body").append("<h1>Confirm Dialog Result: <i>No</i></h1>"),$(this).dialog("close")}},close:function(e,t){$(this).remove()}}),r.CancelOperation=!0,SiebelApp.S_App.uiStatus.Free()}if(e==="AcceptRecommendation"){var u={},a=SiebelApp.S_App.GetService("Siebel Repository IRM Service");$("<div></div>").appendTo("body").html("<div><h3>"+o+"?</h3></div>").dialog({modal:!0,title:"Confirmation",zIndex:1e4,autoOpen:!0,width:"auto",resizable:!1,buttons:{Yes:function(){$("body").append("<h1>Confirm Dialog Result: <i>Yes</i></h1>"),u.async=!1,u.selfbusy=!0,u.scope=this,u.mask=!0,u.opdecode=!0,u.errcb=function(){alert("Something went wrong. Please try again")},u.cb=function(){SiebelApp.S_App.LogOff()},a.InvokeMethod("WTRecommendationAccepted",t,u),$(this).dialog("close")},No:function(){$("body").append("<h1>Confirm Dialog Result: <i>No</i></h1>"),$(this).dialog("close")}},close:function(e,t){$(this).remove()}}),r.CancelOperation=!0,SiebelApp.S_App.uiStatus.Free()}}return SiebelJS.Extend(e,SiebelAppFacade.JQGridRenderer),e.prototype.Init=function(){SiebelAppFacade.WTAppUpgObjAttrAppletPR.superclass.Init.apply(this,arguments),this.GetPM().AddMethod("InvokeMethod",s,{sequence:!0,scope:this})},e.prototype.ShowUI=function(){SiebelAppFacade.WTAppUpgObjAttrAppletPR.superclass.ShowUI.apply(this,arguments);var e=this,n=e.GetPM(),r=n.Get("SwitchOnOffLabels"),i=e.GetGrid().jqGrid("getGridParam","colModel");for(var s=0;i&&s<i.length;s++)if(i[s].name==="Override"){i[s].formatter=function(n,r,i){return t.call(e,n,r,i)},i[s].unformat=function(e,t,n){return e===r[0]?e="Y":e="N"};break}},e.prototype.BindEvents=function(){SiebelAppFacade.WTAppUpgObjAttrAppletPR.superclass.BindEvents.apply(this,arguments);var e=this,t=e.GetPM(),r=t.ExecuteMethod("CanUpdate",this.GetColumnHelper().GetActualControlName("Override"));r&&$("div#"+t.Get("GetFullId")).find("table.ui-jqgrid-btable").on("switch:slide",".ui-switch",function(t,r){return n.call(e,t,r)})},e.prototype.ShowSelection=function(){SiebelAppFacade.WTAppUpgObjAttrAppletPR.superclass.ShowSelection.apply(this,arguments);var e=this.GetPM(),t=e.Get("GetRawRecordSet"),n=t.length,i=e.Get("SwitchOnOffLabels"),s,o,u=$("div#"+e.Get("GetFullId")).find("table.ui-jqgrid-btable").attr("id");for(var a=0;a<n;++a)r(u,a+1,t[a].Resolution,i)},e}(),SiebelAppFacade.WTAppUpgObjAttrAppletPR}));
